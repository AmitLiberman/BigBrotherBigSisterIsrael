{"version":3,"sources":["config/Firebase.jsx","navBarComponents/meetingComponents/MeetingList.jsx","navBarComponents/meetingComponents/Meeting.jsx","navBarComponents/wallComponents/wall/post/Post.jsx","navBarComponents/wallComponents/wall/AddPicture.jsx","navBarComponents/wallComponents/wall/WallPost.jsx","navBarComponents/wallComponents/profile/Profile.jsx","navBarComponents/homeComponents/NewsList.jsx","navBarComponents/homeComponents/HomePage.jsx","navBarComponents/videoComponents/partial/video/Video.jsx","navBarComponents/videoComponents/partial/video/VidButtons.jsx","navBarComponents/videoComponents/partial/chat/MessageCube.jsx","navBarComponents/videoComponents/partial/chat/Chat.jsx","navBarComponents/videoComponents/partial/credit/Credit.jsx","navBarComponents/videoComponents/main/VideoPage.jsx","mainPageComponents/ChangePassword.jsx","mainPageComponents/App.jsx","loginComponents/LoginForm.jsx","adminComponents/partial/AdminUser.jsx","adminComponents/partial/UpdateUser.jsx","adminComponents/partial/DeleteUser.jsx","adminComponents/partial/NoLinkedUsers.jsx","adminComponents/partial/UsersTable.jsx","adminComponents/partial/LinkUsers.jsx","adminComponents/main/AdminPage.jsx","appIndex/AppIndex.jsx","serviceWorker.js","index.js","static_pictures/no_profile_picture.png","static_pictures/big_brothers_big_sisters.png","static_pictures/chat_background.jpg"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","MeetingList","formatDate","timeStamp","newDate","Date","today","getDate","getMonth","getFullYear","parseInt","renderTable","props","meetingsArr","map","data","index","key","className","date","time","place","description","onClick","deleteMeeting","doc_id","tempArr","window","confirm","myUser","doc","delete","then","linkUser","console","log","catch","forEach","item","splice","updateRef","e","name","renderComponent","loading","type","width","height","color","colSpan","disabled","loadedAll","loadPrev","visible","loadingPastMeetings","this","Component","Meeting","getMeetings","newMeetingObj","myMeetingsRef","where","now","orderBy","get","querySnap","setState","lastMeetingVisible","docs","length","futureLength","empty","state","Object","assign","id","meetings","loadingFromFirebase","updateTableAfterDelete","startFrom","startAfter","limit","getTable","mateMeetingsRef","handleSubmit","event","preventDefault","scheduled","amount_of_meetings","dates","newMeetings","i","nextDate","parse","push","time_stamp","add","docRef","newDocId","set","alert","d","concat","sort","a","b","sortFunc","firestore","collection","auth","currentUser","uid","link_user","onSubmit","style","float","htmlFor","onChange","target","value","placeholder","required","checked","marginRight","Post","includeDate","formatTime","newTime","minutes","getMinutes","fullMinutes","getHours","renderProgress","uploadProgress","currId","role","aria-valuenow","aria-valuemin","aria-valuemax","Math","round","renderPost","uploader","userUid","src","myProfilePic","alt","backgroundImage","logo","userName","friendProfilePic","friendName","hidePicture","img","body","image","hidden","React","AddPicture","closePicForm","parentCallback","textPicture","setPicText","publishImg","pictures","showText","setImagePostParent","url","renderTextInput","onDrop","bind","pictureFiles","pictureDataURLs","fileContainerStyle","hight","withIcon","withPreview","buttonText","imgExtension","maxFileSize","buttonStyles","left","WallPost","getPosts","postsRef","copyArray","usersRef","ref","lastPostVisible","ind","postID","images","cloudRef","child","list","pics","items","pic","getDownloadURL","uploadedPostObj","text","postArray","readNewmessages","update","unread","deleteEvent","picLen","copyPostArray","setPost","element","Body","textInput","Image","textPictureInput","setImagePost","ImageFiles","addPost","uploadedPost","postDocId","postObj","put","on","snapshot","bytesTransferred","totalBytes","AddPic","showPicForm","callbackForm","formData","loadMorePosts","loadingPastPosts","storage","onBlur","post","reverse","Profile","userDetails","fName","lName","profilePic","area","birthDate","NewsList","otherUserLastOnline","connectionStatus","otherUserConnection","linked_name","connectToVideo","renderNewVideo","vidButtonHide","renderNewPost","newPosts","routeToWall","renderNextMeeting","next_meeting","renderList","loadingNextMeeting","routeToMeeting","HomePage","hosting","directVid","setVideoButton","newVideo","getNewPostAlert","uploadProfilePicture","deleteProfilePicture","myProfilePicturesRef","changeProfilePictue","setProfilePicture","roomId","profilePicture","getNextMeeting","prevProp","myDetails","linkedDetails","Video","req","remoteRef","current","requestFullscreen","onPause","play","mute","isConnected","mute_func","stopVideo","stop_vid_func","rem_mute_icon","opacity","viewBox","fill","xmlns","fillRule","rem_video_icon","linkedName","fullScreenDisable","timer","autoPlay","mute_icon","cursor","video_icon","localRef","muted","readyToJoin","disconnectionStat","VidButtons","inputText","handleInputChange","join_room","joinRoom","startVideo","startDisable","hangUp","hangDisable","createRoom","createDisable","MessageCube","lastMes","createRef","returnTime","scrollIntoView","behavior","st","mes","Chat","incomeMessage","messages","handleKey","shiftKey","sendMessage","trim","textAlign","maxWidth","padding","wordBreak","marginTop","marginLeft","minHeight","backgroundColor","borderRadius","textChange","prevState","outMes","wordWrap","spellCheck","rows","onKeyDown","inputDisable","sendDisable","Credit","configuration","iceServers","urls","iceCandidatePoolSize","constraints","audio","video","ideal","localVideo","remoteVideo","VideoPage","startVideoDirectly","checkIfStartedStream","setInterval","localStream","remoteStream","hostVid","joinRoomById","room_id","clearInterval","navigator","mediaDevices","getUserMedia","stream","getVideoTracks","label","getAudioTracks","MediaStream","srcObject","isStarted","hang_btn_disable","start_btn_disable","modifyVideoStream","create_btn_disable","localPeer","RTCPeerConnection","getMediaTracks","getRemoteMediaTracks","handleDataChannel","createOffer","offer","roomOffer","sdp","linkId","roomRef","connectionHandler","setLocalDescription","firstSnap","onSnapshot","currentRemoteDescription","answer","RTCSessionDescription","setRemoteDescription","firstSnapShot","guestId","roomIdOfGuest","join_btn_disable","document","location","reload","myLinkId","roomSnap","exists","createAnswer","roomAnswer","val","willReload","isFinished","localChannel","readyState","remoteChannel","send","JSON","stringify","finish","secondSnapShot","intervalFunc","getTracks","track","stop","close","setTimeout","removeDocs","localName","remoteName","candidateCol","addEventListener","candidate","jsonData","toJSON","onconnectionstatechange","onIceChanged","secondSnap","docChanges","change","RTCIceCandidate","addIceCandidate","currStat","iceConnectionState","onReconnection","onCandidateDisconnected","onCandidateChecking","onCandidateConnected","mateDisconnected","muteVis","vidVis","send_btn_disable","input_disable","fullScreen","unavailableConnection","clearTimeout","timeoutDisconnected","disconFlag","checkCon","timeoutChecking","checkFlag","enabled","dataChannelName","dataPar","ordered","createDataChannel","binaryType","onopen","openDataChannel","onclose","closedDataChannel","ondatachannel","remoteOpenDataChannel","addTrack","streams","channel","onmessage","getMessage","newMessage","message","joinDisable","ChangePassword","closeForm","changePassword","fAuth","sendPasswordResetEmail","email","password","App","logout","isMounted","updateDisconnection","signOut","error","resizeWin","zoom","min","innerHeight","innerWidth","getUserName","currUserUid","uDetail","loadingUser","setLinkedUser","linkedUserDetails","loadingLinkedUser","getLinkedUser","checkIfVideo","isOnVideo","localSt","remoteSt","updateConnection","myConnectionsRef","database","lastOnlineRef","friendConnectionsRef","friendOnlineRef","connectionRef","snap","con","onDisconnect","remove","connectionKey","ServerValue","TIMESTAMP","querySnapshot","subSnap","subDoc","getProfilePictures","friendProfile","hrefClick","routeToVideo","to","getWallRouteStatus","getMeetingRouteStatus","waitUntilPageIsLoaded","path","pwdRender","closeChangePassword","renderPwd","active","pageLoaded","stopSnap","webScale","screen","querySelector","setAttribute","locked","unsubscribe","activeTabStyle","fontWeight","href","activeStyle","LoginForm","resetPwd","username","pwdAttempt","prevEmail","isLoggedIn","signInWithEmailAndPassword","onLoginSuccess","onLoginFail","onLoginPress","title","renderButton","AdminUser","addUser","Error","createUserWithEmailAndPassword","firstName","lastName","phone","address","addOnce","onAuthStateChanged","user","newUser","UpdateUser","docId","transferEnable","getUserByEmailOrId","DeleteUser","valid","deleteUser","NoLinkedUsers","renderNoLink","UsersTable","renderLinked","dataType","linkedUserArr","renderTableLine","usersArr","noLinkedUsers","closeNoLink","noLink","showNoLinkedUsers","noLinkAppearance","linkedUserId","queryShot","linkedDoc","LinkUsers","isValid","studentRef","studentName","mentorRef","mentorName","verifyUsers","studentId","mentorId","curr","addLink","AdminPage","logoutAdmin","exitAdmin","user_name","AppIndex","determineIfAdmin","isAdmin","onAuthChanged","userType","renderContent","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.4315e27c.chunk.js","sourcesContent":["import * as firebase from \"firebase\"\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB3bat9yTcVRZtuAqPRZumjrjU0PDW38fI\",\r\n  authDomain: \"bbbs-personal-area-6c2ed.firebaseapp.com\",\r\n  databaseURL: \"https://bbbs-personal-area-6c2ed.firebaseio.com\",\r\n  projectId: \"bbbs-personal-area-6c2ed\",\r\n  storageBucket: \"bbbs-personal-area-6c2ed.appspot.com\",\r\n  messagingSenderId: \"538406338245\",\r\n  appId: \"1:538406338245:web:1399cb0838b0ed0861faac\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React, { Component } from \"react\";\r\nimport \"./Meeting.css\";\r\nimport \"./MeetingList.css\";\r\nimport Loader from 'react-loader-spinner'\r\n\r\nclass MeetingList extends Component {\r\n    formatDate = (timeStamp) => { // formatting date to [DD/MM/YYYY]\r\n        var newDate = new Date(timeStamp);\r\n        var today = new Date();\r\n        if (today.getDate() === newDate.getDate() && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"היום\";\r\n        if (today.getDate() === newDate.getDate() + 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"אתמול\";\r\n        if (today.getDate() === newDate.getDate() - 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"מחר\";\r\n        return newDate.getDate() + \"/\" + (parseInt(newDate.getMonth()) + 1) + \"/\" + newDate.getFullYear();\r\n    }\r\n\r\n    renderTable = () => {\r\n        return (this.props.meetingsArr.map((data, index) =>\r\n            <tr key={\"row\" + index} className=\"table-cols\">\r\n                <td className=\"align-middle\">{this.formatDate(data.date)}</td>\r\n                <td className=\"align-middle\">{data.time}</td>\r\n                <td className=\"align-middle\">{data.place}</td>\r\n                <td className=\"align-middle\">{data.description}</td>\r\n                <td className=\"align-middle\"><button\r\n                    className=\"btn btn-danger delete-meeting\"\r\n                    onClick={() => { this.deleteMeeting(data.doc_id) }}\r\n                >\r\n                    מחק\r\n                    </button>\r\n                </td>\r\n            </tr >\r\n        ));\r\n    }\r\n\r\n    deleteMeeting = (data) => {\r\n        var tempArr = [];\r\n        var con = window.confirm(\"האם אתה בטוח שברצונך למחוק פגישה זו?\");\r\n        if (!con)\r\n            return;\r\n        this.props.myUser.doc(data).delete()\r\n            .then(() => this.props.linkUser.doc(data).delete())\r\n            .then(() => console.log(\"Meeting \" + data + \" has successfully deleted from DB\"))\r\n            .catch(() => console.log(\"Error in deleting meeting from DB\"))\r\n            .then(() => {\r\n                tempArr = [...this.props.meetingsArr];\r\n                this.props.meetingsArr.forEach((item, index) => {\r\n                    if (data === item.doc_id && index !== -1) {\r\n                        tempArr.splice(index, 1);\r\n                        this.props.updateRef(tempArr)\r\n                    }\r\n                })\r\n            })\r\n            .catch((e) => console.log(e.name))\r\n\r\n    }\r\n\r\n    renderComponent = () => {\r\n        if (this.props.loading)\r\n            return (<Loader className=\"meetings-loader\" type=\"Grid\" width=\"200px\" height=\"200px\" color=\"#776078\" />);\r\n        else\r\n            return (\r\n                <table className=\"table table-striped table-dark w-50 table-responsive meeting-table\" >\r\n                    <thead>\r\n                        <tr><th colSpan=\"5\" className=\"table-title\">רשימת פגישות קרובות</th></tr>\r\n                        <tr className=\"table-cols\">\r\n                            <th className=\"align-middle\">מועד הפגישה</th>\r\n                            <th className=\"align-middle\">שעת הפגישה</th>\r\n                            <th className=\"align-middle\">מיקום הפגישה</th>\r\n                            <th className=\"align-middle\">תיאור הפגישה</th>\r\n                            <th className=\"align-middle\">מחיקה</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.renderTable()}\r\n                        <tr className=\"table-cols\">\r\n                            <td className=\"align-middle\" colSpan=\"5\">\r\n                                <button\r\n                                    disabled={this.props.loadedAll}\r\n                                    className=\"btn btn-primary load-past-meetings\"\r\n                                    onClick={this.props.loadPrev}>\r\n                                    טען 5 פגישות נוספות מהעבר\r\n                                        </button>\r\n                                <Loader className=\"loader-past-meeting\" type=\"TailSpin\" height=\"30px\" width=\"30px\" color=\"royalblue\" visible={this.props.loadingPastMeetings}></Loader>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            );\r\n    }\r\n\r\n    render() {\r\n        return (this.renderComponent());\r\n    }\r\n}\r\n\r\nexport default MeetingList;\r\n","import React, { Component } from \"react\";\r\nimport \"./Meeting.css\";\r\nimport firebase from \"../../config/Firebase\"\r\nimport MeetingList from \"./MeetingList\"\r\n\r\nclass Meeting extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      meetings: [],\r\n      date: \"\",\r\n      time: \"\",\r\n      place: \"\",\r\n      description: \"\",\r\n      loadingFromFirebase: true,\r\n      lastMeetingVisible: null,\r\n      loadedAll: false,\r\n      futureLength: 0,\r\n      loadingPastMeetings: false,\r\n      scheduled: false\r\n    };\r\n    this.newDocId = \"\";\r\n    this.myMeetingsRef = firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).collection('Meetings');\r\n    firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).get()\r\n      .then((doc) => {\r\n        this.linkUser = doc.data().link_user;\r\n        this.mateMeetingsRef = firebase.firestore().collection('Users').doc(this.linkUser).collection('Meetings');\r\n      })\r\n      .catch((e) => console.log(e.name))\r\n  }\r\n\r\n  getMeetings = () => {\r\n    var newMeetingObj;\r\n    var futureMeetings = this.myMeetingsRef\r\n      .where('timeStamp', \">=\", ((Date.now() / 1000) - 7200))\r\n      .orderBy(\"timeStamp\", \"desc\")\r\n\r\n    futureMeetings\r\n      .get()\r\n      .then((querySnap) => {\r\n        this.setState({ lastMeetingVisible: querySnap.docs[querySnap.docs.length - 1], futureLength: querySnap.docs.length }, () => {\r\n          if (querySnap.empty)\r\n            this.setState({ lastMeetingVisible: { timeStamp: ((Date.now() / 1000) - 7200) } })\r\n          else if (typeof (this.state.lastMeetingVisible) === 'undefined')\r\n            this.setState({ loadedAll: true })\r\n        })\r\n        querySnap.forEach((doc) => {\r\n          newMeetingObj = {};\r\n          Object.assign(newMeetingObj, doc.data());\r\n          newMeetingObj.doc_id = doc.id;\r\n          this.setState({ meetings: [...this.state.meetings, newMeetingObj] })\r\n        })\r\n      })\r\n      .then(() => this.setState({ loadingFromFirebase: false }))\r\n      .catch((e) => console.log(e.name))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMeetings();\r\n  }\r\n\r\n  updateTableAfterDelete = (meetingsArr) => {\r\n    this.setState({ meetings: [...meetingsArr] });\r\n  }\r\n\r\n  loadPrev = () => {\r\n    if (typeof (this.state.lastMeetingVisible) === 'undefined')\r\n      return;\r\n    var startFrom;\r\n    if (typeof (this.state.lastMeetingVisible.timeStamp) === 'undefined')\r\n      startFrom = this.state.lastMeetingVisible.data().timeStamp;\r\n    else\r\n      startFrom = this.state.lastMeetingVisible.timeStamp;\r\n    this.setState({ loadingPastMeetings: true });\r\n    var newMeetingObj;\r\n    this.myMeetingsRef\r\n      .orderBy(\"timeStamp\", \"desc\")\r\n      .startAfter(startFrom)\r\n      .limit(5)\r\n      .get()\r\n      .then((querySnap) => {\r\n        if (querySnap.docs.length < 5)\r\n          this.setState({ loadedAll: true })\r\n        if (querySnap.docs.length === 0)\r\n          return;\r\n        this.setState({ lastMeetingVisible: querySnap.docs[querySnap.docs.length - 1] })\r\n        querySnap.forEach((doc) => {\r\n          newMeetingObj = {};\r\n          Object.assign(newMeetingObj, doc.data());\r\n          newMeetingObj.doc_id = doc.id;\r\n          this.setState({ meetings: [...this.state.meetings, newMeetingObj] });\r\n        })\r\n      })\r\n      .then(() => this.setState({ loadingPastMeetings: false }))\r\n      .catch((e) => console.log(e.name))\r\n  }\r\n\r\n  getTable = () => {\r\n    return <MeetingList\r\n      className=\"meeting-list\"\r\n      meetingsArr={this.state.meetings}\r\n      loading={this.state.loadingFromFirebase}\r\n      myUser={this.myMeetingsRef}\r\n      linkUser={this.mateMeetingsRef}\r\n      updateRef={this.updateTableAfterDelete}\r\n      loadPrev={this.loadPrev}\r\n      loadedAll={this.state.loadedAll}\r\n      futureLength={this.state.futureLength}\r\n      loadingPastMeetings={this.state.loadingPastMeetings}\r\n    />\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var isSure;\r\n    if (!this.state.scheduled) {\r\n      isSure = window.confirm(\r\n        \"האם ברצונך לקבוע פגישה:\\nבתאריך: \" +\r\n        this.state.date +\r\n        \"\\nבשעה: \" +\r\n        this.state.time +\r\n        \"\\nבמיקום: \" +\r\n        this.state.place\r\n      );\r\n    }\r\n    else\r\n      isSure = window.confirm(\r\n        \"האם ברצונך לקבוע 13 פגישות קבועות לשלושת החודשים הקרובים:\\nהחל מתאריך: \" +\r\n        this.state.date +\r\n        \"\\nבשעה: \" +\r\n        this.state.time +\r\n        \"\\nבמיקום: \" +\r\n        this.state.place\r\n      );\r\n    if (isSure) {\r\n      var amount_of_meetings = this.state.scheduled ? 13 : 1;\r\n      var dates = [], newMeetings = [], newMeetingObj = [];\r\n      for (let i = 0; i < amount_of_meetings; i++) {\r\n        var nextDate = (new Date(Date.parse(this.state.date) + (7 * 24 * 60 * 60 * 1000) * i));\r\n        dates.push(nextDate.getFullYear() + \"-\" + (nextDate.getMonth() + 1) + \"-\" + nextDate.getDate());\r\n        var time_stamp = (((Date.parse(dates[i] + \" \" + this.state.time)) / 1000));\r\n        newMeetings.push({\r\n          date: dates[i],\r\n          timeStamp: time_stamp,\r\n          time: this.state.time,\r\n          place: this.state.place,\r\n          description: this.state.description\r\n        })\r\n        newMeetingObj.push({});\r\n        this.myMeetingsRef.add(newMeetings[i])\r\n          .then((docRef) => {\r\n            this.newDocId = docRef.id;\r\n            this.mateMeetingsRef.doc(docRef.id).set(newMeetings[i]);\r\n          })\r\n          .then(() => {\r\n            if (!this.state.scheduled && this.state.date !== \"\") {\r\n              alert(\r\n                \"נקבעה פגישה בתאריך: \" +\r\n                this.state.date +\r\n                \"\\nבשעה: \" +\r\n                this.state.time +\r\n                \"\\nבמיקום: \" +\r\n                this.state.place\r\n              );\r\n            }\r\n            else if (i === 0)\r\n              alert(\r\n                \"נקבעו 13 פגישות קבועות לשלושת החודשים הקרובים.\"\r\n              );\r\n            Object.assign(newMeetingObj[i], newMeetings[i]);\r\n            newMeetingObj[i].doc_id = this.newDocId;\r\n            const d = [].concat(this.state.meetings).concat(newMeetingObj[i]).sort((a, b) => this.sortFunc(a, b));\r\n            this.setState({\r\n              meetings: [...d],\r\n              date: \"\", time: \"\", place: \"\", description: \"\", scheduled: false\r\n            });\r\n          })\r\n          .catch((e) => console.log(e.name));\r\n      }\r\n    }\r\n  }\r\n\r\n  sortFunc = (a, b) => {\r\n    if (a.timeStamp > b.timeStamp)\r\n      return -1;\r\n    if (a.timeStamp < b.timeStamp)\r\n      return 1;\r\n    return 0;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main-background\" >\r\n        <form className=\"meeting-form\" onSubmit={this.handleSubmit}>\r\n          <br />\r\n          <div className=\"form-group\">\r\n            <h1 className=\"meeting-title\"><u>קביעת פגישה</u></h1>\r\n\r\n            <label\r\n              className=\"fLabels\"\r\n              style={{ float: \"right\" }}\r\n              htmlFor=\"date\"\r\n            >\r\n              תאריך הפגישה\r\n            </label>\r\n            <input\r\n              onChange={(e) => this.setState({ date: e.target.value })}\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              id=\"date\"\r\n              placeholder=\"תאריך הפגישה\"\r\n              value={this.state.date}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label\r\n              className=\"fLabels\"\r\n              style={{ float: \"right\" }}\r\n              htmlFor=\"hour\"\r\n            >\r\n              שעת הפגישה\r\n            </label>\r\n            <input\r\n              onChange={(e) => this.setState({ time: e.target.value })}\r\n              type=\"time\"\r\n              className=\"form-control\"\r\n              id=\"hour\"\r\n              placeholder=\"שעת הפגישה\"\r\n              value={this.state.time}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label\r\n              className=\"fLabels\"\r\n              style={{ float: \"right\" }}\r\n              htmlFor=\"place\"\r\n            >\r\n              מיקום הפגישה\r\n            </label>\r\n            <input\r\n              onChange={(e) => this.setState({ place: e.target.value })}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"place\"\r\n              placeholder=\"מיקום הפגישה\"\r\n              value={this.state.place}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label\r\n              className=\"fLabels\"\r\n              style={{ float: \"right\" }}\r\n              htmlFor=\"description\"\r\n            >\r\n              תיאור\r\n            </label>\r\n            <input\r\n              onChange={(e) => this.setState({ description: e.target.value })}\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              value={this.state.description}\r\n              placeholder=\"תיאור\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"checkbox\"\r\n              className=\"form-check-input w-25\"\r\n              id=\"scheduledMeeting\"\r\n              checked={this.state.scheduled}\r\n              onChange={(e) => this.setState({ scheduled: !this.state.scheduled })}\r\n            />\r\n            <label\r\n              className=\"form-check-label check-meeting-lbl w-75\"\r\n              style={{ float: \"right\" }}\r\n              htmlFor=\"description\"\r\n            >\r\n              פגישות קבועות - לשלושת החודשים הקרובים\r\n            </label>\r\n          </div>\r\n          <br />\r\n          <button\r\n            className=\"btn btn-success setup-meeting-btn\"\r\n            style={{ float: \"right\", marginRight: \"700px\" }}\r\n          >\r\n            קבע פגישה!{\" \"}\r\n          </button>\r\n        </form>\r\n        {this.getTable()}\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default Meeting;\r\n","import * as React from \"react\";\r\nimport \"./Post.css\";\r\nimport firebase from \"../../../../config/Firebase\"\r\nimport logo from '../../../../static_pictures/no_profile_picture.png'\r\n\r\nexport class Post extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      hidePicture: false\r\n    };\r\n    this.userUid = firebase.auth().currentUser.uid;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.img === \"\")\r\n      this.setState({ hidePicture: true })\r\n  }\r\n\r\n  formatDate = (timeStamp, includeDate = true) => {\r\n    var newDate = new Date(timeStamp);\r\n    var today = new Date();\r\n    if (today.getDate() === newDate.getDate() && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n      return \"היום\";\r\n    if (today.getDate() === newDate.getDate() + 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n      return \"אתמול\";\r\n    if (today.getDate() === newDate.getDate() - 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n      return \"מחר\";\r\n    if (includeDate)\r\n      return \"בתאריך \" + newDate.getDate() + \"/\" + (parseInt(newDate.getMonth()) + 1) + \"/\" + newDate.getFullYear();\r\n    return newDate.getDate() + \"/\" + (parseInt(newDate.getMonth()) + 1) + \"/\" + newDate.getFullYear();\r\n  }\r\n\r\n  formatTime = (timeStamp) => {\r\n    var newTime = new Date(timeStamp);\r\n    var minutes = newTime.getMinutes();\r\n    var fullMinutes = minutes < 10 && minutes >= 0 ? \"0\" + minutes : minutes;\r\n    return \"בשעה \" + newTime.getHours() + \":\" + fullMinutes;\r\n  }\r\n\r\n  renderProgress = () => {\r\n    if (this.props.uploadProgress !== 0 && this.props.uploadProgress !== 100 && this.props.currId === this.props.id) {\r\n      return (\r\n        <div className=\"progress progress-pic\">\r\n          <div className=\"progress-bar\" role=\"progressbar\" style={{ width: this.props.uploadProgress + \"%\" }} aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\">מעלה תמונה... {Math.round(this.props.uploadProgress)}%</div>\r\n        </div>\r\n      );\r\n    }\r\n    else\r\n      return null;\r\n  }\r\n\r\n  renderPost = () => {\r\n    if (this.props.uploader === this.userUid)\r\n      return (\r\n        <div className=\"post-profile\">\r\n          <img src={this.props.myProfilePic} alt=\"\" className=\"post-men-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n          <div className=\"post-men-name\">{this.props.userName}</div>\r\n        </div>\r\n      );\r\n\r\n    else\r\n      return (\r\n        <div className=\"post-profile\">\r\n          <img src={this.props.friendProfilePic} alt=\"\" className=\"post-men-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n          <div className=\"post-men-name\">{this.props.friendName}</div>\r\n        </div>\r\n      );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"post-main\">\r\n        <div className=\"post-top\">\r\n          {this.renderPost()}\r\n          <div className=\"post-options\">\r\n            <div className=\"post-date\">{this.formatDate(this.props.timeStamp) + \" \" + this.formatTime(this.props.timeStamp)}</div>\r\n            <div className=\"post-delete\" onClick={this.props.delete}>\r\n              X\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"post-footer\">{this.props.body}</div>\r\n\r\n        {this.props.img.map((image, index) => {\r\n          return (\r\n            <img key={\"img\" + index} className=\"post-picture\" hidden={this.state.hidePicture} src={image} alt=\"\" />\r\n          );\r\n        })}\r\n        {this.renderProgress()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Post;","import React, { Component } from \"react\";\r\nimport \"./AddPicture.css\";\r\nimport ImageUploader from \"react-images-upload\";\r\n\r\nclass AddPicture extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { pictures: [], url: \"\" };\r\n    this.onDrop = this.onDrop.bind(this);\r\n  }\r\n\r\n  onDrop(pictureFiles, pictureDataURLs) {\r\n    this.setState({\r\n      pictures: pictureFiles,\r\n      url: pictureDataURLs,\r\n    });\r\n  }\r\n\r\n  closePicForm = () => {\r\n    this.props.parentCallback(false);\r\n  };\r\n\r\n  textPicture = (e) => {\r\n    this.props.setPicText(e.target.value);\r\n  };\r\n\r\n  publishImg = () => {\r\n    if (this.state.pictures.length === 0) {\r\n      alert(\"אנא בחר תמונה\");\r\n      return;\r\n    }\r\n    this.props.parentCallback(false);\r\n    if (this.props.showText)\r\n      this.props.setImagePostParent(this.state.pictures, this.state.url);\r\n    else\r\n      this.props.setImagePostParent(this.state.pictures, this.state.url[0]);\r\n  };\r\n\r\n  renderTextInput = () => {\r\n    if (this.props.showText)\r\n      return (\r\n        <div>\r\n          <label className=\"text-pic-lbl\" htmlFor=\"textPicture\"> הוסף כיתוב לתמונה </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"textPicture\"\r\n            className=\"form-control\"\r\n            placeholder=\"הוסף טקסט\"\r\n            onChange={this.textPicture}\r\n          />\r\n        </div>\r\n      )\r\n    else\r\n      return null;\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div id=\"form-add-pic\" className=\"col-md-25 text-center\">\r\n          <div className=\"add-pic-form-divs\" id=\"add-pic-form\">\r\n            <span className=\"helper\"> </span>\r\n            <div className=\"center-form\">\r\n              <div\r\n                className=\"add-pic-close\"\r\n                id=\"close-watch\"\r\n                onClick={this.closePicForm}\r\n              >\r\n                x\r\n              </div>\r\n              <div className=\"view-pic\">\r\n                <div className=\"form-group\">\r\n                  {this.renderTextInput()}\r\n                  <ImageUploader\r\n                    className=\"img-uploader\"\r\n                    fileContainerStyle={{ width: \"500px\", hight: \"500px\" }}\r\n                    withIcon={true}\r\n                    withPreview={true}\r\n                    buttonText=\"בחר תמונה\"\r\n                    onChange={this.onDrop}\r\n                    imgExtension={[\".jpg\", \".gif\", \".png\", \".gif\"]}\r\n                    maxFileSize={5242880}\r\n                    buttonStyles={{ left: \"0px\" }}\r\n                  />\r\n                </div>{\" \"}\r\n                <button\r\n                  className=\"btn btn-success publish-img\"\r\n                  onClick={this.publishImg}\r\n                >\r\n                  פרסם תמונה\r\n                </button>\r\n              </div>\r\n            </div>{\" \"}\r\n          </div>{\" \"}\r\n        </div>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddPicture;\r\n","import * as React from \"react\";\r\nimport \"./WallPost.css\";\r\nimport { Post } from \"./post/Post\";\r\nimport AddPicture from \"./AddPicture\";\r\nimport firebase from \"../../../config/Firebase\"\r\nimport Loader from 'react-loader-spinner'\r\n\r\nclass WallPost extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.showPicForm = false;\r\n    this.postID = 0;\r\n    this.Body = \"\";\r\n    this.Image = [];\r\n    this.ImageFiles = [];\r\n    this.state = {\r\n      postArray: [],\r\n      textInput: \"\",\r\n      textPictureInput: \"\",\r\n      uploadProgress: 0,\r\n      currId: 0,\r\n      lastPostVisible: null,\r\n      loadedAll: false,\r\n      loadingPastPosts: false,\r\n      uploadedPost: false\r\n    };\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.cloudRef = firebase.storage().ref();\r\n    this.userUid = firebase.auth().currentUser.uid;\r\n  }\r\n\r\n  getPosts = () => {\r\n    var postsRef;\r\n    var copyArray = [];\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n      })\r\n      .then(() => {\r\n        postsRef\r\n          .orderBy('timeStamp', 'desc')\r\n          .limit(5)\r\n          .get()\r\n          .then(docs => {\r\n            this.setState({ lastPostVisible: docs.docs[docs.docs.length - 1] }, () => {\r\n              if (docs.empty)\r\n                this.setState({ lastPostVisible: { timeStamp: ((Date.now() / 1000) - 7200) } })\r\n              else if (typeof (this.state.lastPostVisible) === 'undefined')\r\n                this.setState({ loadedAll: true })\r\n            });\r\n            var ind = 0;\r\n            docs.forEach((doc) => {\r\n              this.setState({ currId: this.postID + 1 });\r\n              this.postID = this.postID + 1;\r\n              var images = [];\r\n              this.cloudRef.child('wall_pictures/' + doc.id).list()\r\n                .then(pics => {\r\n                  pics.items.forEach((pic, index) => {\r\n                    pic.getDownloadURL()\r\n                      .then(url => {\r\n                        images.splice(index, 0, url)\r\n                        if (images.length === pics.items.length) {\r\n                          var uploadedPostObj = {\r\n                            id: this.postID,\r\n                            body: doc.data().text,\r\n                            img: images,\r\n                            timeStamp: doc.data().timeStamp,\r\n                            uploader: doc.data().uploader,\r\n                            doc_id: doc.id\r\n                          }\r\n                          Object.assign(copyArray, this.state.postArray);\r\n                          copyArray.splice(ind, 0, uploadedPostObj);\r\n                          copyArray.sort((a, b) => this.sortFunc(a, b));\r\n                          this.setState({\r\n                            postArray: [...copyArray]\r\n                          });\r\n                        }\r\n                      })\r\n                  })\r\n                })\r\n              if (!(doc.data().img)) {\r\n                var uploadedPostObj = {\r\n                  id: this.postID,\r\n                  body: doc.data().text,\r\n                  img: [],\r\n                  timeStamp: doc.data().timeStamp,\r\n                  uploader: doc.data().uploader,\r\n                  doc_id: doc.id\r\n                }\r\n                Object.assign(copyArray, this.state.postArray);\r\n                copyArray.splice(ind, 0, uploadedPostObj);\r\n                copyArray.sort((a, b) => this.sortFunc(a, b));\r\n                this.setState({\r\n                  postArray: [...copyArray]\r\n                });\r\n              }\r\n              ind++;\r\n            })\r\n          })\r\n      })\r\n      .catch(e => console.log(e.name));\r\n  }\r\n\r\n  readNewmessages = () => {\r\n    var linkUser;\r\n    var postsRef;\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n        linkUser = doc.data().link_user;\r\n      })\r\n      .then(() => {\r\n        postsRef\r\n          .where('uploader', '==', linkUser)\r\n          .where('unread', '==', true)\r\n          .get()\r\n          .then((docs) =>\r\n            docs.forEach((doc) => doc.ref.update({ unread: false })))\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.readNewmessages();\r\n    this.getPosts();\r\n  }\r\n\r\n  sortFunc = (a, b) => {\r\n    if (a.timeStamp > b.timeStamp)\r\n      return 1;\r\n    if (a.timeStamp < b.timeStamp)\r\n      return -1;\r\n    return 0;\r\n  }\r\n\r\n  /*חלון פרסום של מודעה חדשה*/\r\n  deleteEvent = (index, doc_id) => {\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך למחוק את הפוסט?\");\r\n    if (!con)\r\n      return;\r\n    var postsRef;\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n      })\r\n      .then(() => {\r\n        postsRef.doc(doc_id).delete();\r\n        var picLen;\r\n        this.cloudRef.child(\"wall_pictures/\" + doc_id).list()\r\n          .then(list => picLen = list.items.length)\r\n          .then(() => {\r\n            for (let i = 0; i < picLen; i++) {\r\n\r\n              this.cloudRef.child(\"wall_pictures/\" + doc_id + \"/pic\" + i).delete()\r\n                .then(() => console.log(\"Post has deleted successfully\"))\r\n                .catch((e) => console.log(e.name));\r\n            }\r\n          })\r\n          .catch((e) => console.log(e.name));\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n\r\n    const copyPostArray = Object.assign([], this.state.postArray);\r\n    copyPostArray.splice(index, 1);\r\n    this.setState({\r\n      postArray: copyPostArray,\r\n    });\r\n  };\r\n\r\n  setPost = (element) => {\r\n    element.preventDefault();\r\n\r\n    this.Body = this.state.textInput;\r\n    this.Image = [];\r\n    this.setState({ textInput: element.target.value });\r\n  };\r\n\r\n  setPicText = (text) => {\r\n    this.setState({ textPictureInput: text });\r\n    this.Body = this.state.textPictureInput;\r\n  };\r\n\r\n  setImagePost = (pictures, url) => {\r\n    this.ImageFiles = pictures;\r\n    this.Image = url;\r\n    this.Body = this.state.textPictureInput;\r\n\r\n    this.setState({ textPictureInput: \"\" });\r\n    this.addPost();\r\n  };\r\n\r\n  addPost = () => {\r\n    if (this.state.textInput === \"\" && this.state.textPictureInput === \"\" && this.Image.length === 0) {\r\n      alert(\"יש להכניס טקסט ליצירת פרסום\");\r\n      return;\r\n    }\r\n    if (this.state.uploadedPost)\r\n      return;\r\n    this.setState({ uploadedPost: true })\r\n    var postDocId;\r\n\r\n    var postObj = {\r\n      uploader: this.userUid,\r\n      timeStamp: Date.now(),\r\n      text: this.Body,\r\n      img: this.Image.length !== 0,\r\n      unread: true\r\n    }\r\n    var postsRef;\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n\r\n        postsRef\r\n          .add(postObj)\r\n          .then(doc => {\r\n            postDocId = doc.id;\r\n            this.setState({ currId: this.postID + 1 });\r\n            this.postID = this.postID + 1;\r\n            const copyPostArray = Object.assign([], this.state.postArray);\r\n            copyPostArray.push({\r\n              id: this.postID,\r\n              body: this.Body,\r\n              img: this.Image,\r\n              timeStamp: Date.now(),\r\n              uploader: this.userUid,\r\n              doc_id: postDocId\r\n            });\r\n            this.setState({\r\n              postArray: copyPostArray,\r\n            });\r\n          })\r\n          .then(() => {\r\n            for (let i = 0; i < this.ImageFiles.length; i++) {\r\n              if (postObj.img)\r\n                var a = this.cloudRef.child(\"wall_pictures/\" + postDocId + \"/pic\" + i).put(this.ImageFiles[i]);\r\n              try {\r\n                a.on('state_changed', (snapshot) => {\r\n                  this.setState({ uploadProgress: (snapshot.bytesTransferred / snapshot.totalBytes) * 100 });\r\n\r\n                })\r\n              }\r\n              catch (e) {\r\n                console.log(e.name);\r\n              }\r\n            }\r\n          })\r\n          .then(() => {\r\n            this.setState({ textInput: \"\" });\r\n            this.body = \"\";\r\n            this.Image = [];\r\n            this.setState({ uploadedPost: false });\r\n            this.ImageFiles = [];\r\n          })\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  };\r\n  /*^חלון פרסום של מודעה חדשה^*/\r\n\r\n  AddPic = () => {\r\n    this.setState({\r\n      showPicForm: true,\r\n    });\r\n  };\r\n\r\n  //the funtion that the child will active\r\n  callbackForm = (formData) => {\r\n    this.setState({ showPicForm: formData });\r\n  };\r\n\r\n  loadMorePosts = () => {\r\n    if (typeof (this.state.lastPostVisible) === 'undefined' || this.state.lastPostVisible === null)\r\n      return;\r\n    var startFrom;\r\n    var copyArray = [];\r\n    if (typeof (this.state.lastPostVisible.timeStamp) === 'undefined')\r\n      startFrom = this.state.lastPostVisible.data().timeStamp;\r\n    else\r\n      startFrom = this.state.lastPostVisible.timeStamp;\r\n    this.setState({ loadingPastPosts: true });\r\n    var postsRef;\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n      })\r\n      .then(() => {\r\n        postsRef\r\n          .orderBy(\"timeStamp\", \"desc\")\r\n          .startAfter(startFrom)\r\n          .limit(5)\r\n          .get()\r\n          .then((querySnap) => {\r\n            if (querySnap.docs.length < 5)\r\n              this.setState({ loadedAll: true })\r\n            if (querySnap.docs.length === 0)\r\n              return;\r\n            this.setState({ lastPostVisible: querySnap.docs[querySnap.docs.length - 1] });\r\n            var ind = 0;\r\n            querySnap.forEach((doc) => {\r\n              this.setState({ currId: this.postID + 1 });\r\n              this.postID = this.postID + 1;\r\n              var images = [];\r\n              this.cloudRef.child('wall_pictures/' + doc.id).list()\r\n                .then(pics => {\r\n                  pics.items.forEach((pic, index) => {\r\n                    pic.getDownloadURL()\r\n                      .then(url => {\r\n                        images.splice(index, 0, url)\r\n                        if (images.length === pics.items.length) {\r\n                          var uploadedPostObj = {\r\n                            id: this.postID,\r\n                            body: doc.data().text,\r\n                            img: images,\r\n                            timeStamp: doc.data().timeStamp,\r\n                            uploader: doc.data().uploader,\r\n                            doc_id: doc.id\r\n                          }\r\n                          Object.assign(copyArray, this.state.postArray);\r\n                          copyArray.splice(ind, 0, uploadedPostObj);\r\n                          copyArray.sort((a, b) => this.sortFunc(a, b));\r\n                          this.setState({\r\n                            postArray: [...copyArray]\r\n                          });\r\n                        }\r\n                      })\r\n                  })\r\n                })\r\n              if (!(doc.data().img)) {\r\n                var uploadedPostObj = {\r\n                  id: this.postID,\r\n                  body: doc.data().text,\r\n                  img: [],\r\n                  timeStamp: doc.data().timeStamp,\r\n                  uploader: doc.data().uploader,\r\n                  doc_id: doc.id\r\n                }\r\n                Object.assign(copyArray, this.state.postArray);\r\n                copyArray.splice(ind, 0, uploadedPostObj)\r\n                copyArray.sort((a, b) => this.sortFunc(a, b));\r\n                this.setState({\r\n                  postArray: [...copyArray]\r\n                });\r\n              }\r\n              ind++;\r\n            })\r\n          })\r\n          .then(() => this.setState({ loadingPastPosts: false }))\r\n          .catch((e) => console.log(e.name))\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      /* Page Container*/\r\n      <div className=\"page-container\" >\r\n        <div className=\"wall-post-main\">\r\n          <div className=\"wall-new-post\">\r\n            <div className=\"wall-post-top\">\r\n              צור פרסום</div>\r\n            <div className=\"wall-post-tip\">\r\n              (לפתיחת חלונית אימוג'י של הדפדפן לחץ על מקש נקודה (./ץ) ועל מקש Windows יחדיו)</div>\r\n            <div className=\"wall-post-mid\">\r\n              <input\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                onBlur={this.setPost}\r\n                placeholder=\"כתוב פרסום..\"\r\n                value={this.state.textInput}\r\n                onChange={(e) => this.setState({ textInput: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"wall-post-footer\">\r\n              <button className=\"btn btn-success wall-post-b-a\" onClick={this.AddPic}>\r\n                צרף תמונה\r\n              </button>\r\n              <button className=\"btn btn-success wall-post-b-p\" onClick={this.addPost}>\r\n                פרסם\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"wall-post-list\">\r\n\r\n            {this.state.postArray.map((post, index) => {\r\n              return (\r\n                <Post\r\n                  myProfilePic={this.props.myProfilePic}\r\n                  friendProfilePic={this.props.friendProfilePic}\r\n                  userName={this.props.userName}\r\n                  friendName={this.props.friendName}\r\n                  key={\"post\" + index}\r\n                  id={post.id}\r\n                  body={post.body}\r\n                  img={post.img}\r\n                  doc_id={post.doc_id}\r\n                  timeStamp={post.timeStamp}\r\n                  uploader={post.uploader}\r\n                  delete={this.deleteEvent.bind(this, index, post.doc_id)}\r\n                  uploadProgress={this.state.uploadProgress}\r\n                  currId={this.state.currId}\r\n                />\r\n              );\r\n            }).reverse()}\r\n          </div>\r\n          <button className=\"btn btn-primary load-more-posts\" disabled={this.state.loadedAll} onClick={this.loadMorePosts}>טען פוסטים נוספים</button>\r\n          <Loader className=\"loader-past-posts\" type=\"TailSpin\" height=\"30px\" width=\"30px\" color=\"royalblue\" visible={this.state.loadingPastPosts}></Loader>\r\n        </div>\r\n        {this.state.showPicForm ? (\r\n          <AddPicture\r\n            parentCallback={this.callbackForm}\r\n            setImagePostParent={this.setImagePost}\r\n            setPicText={this.setPicText}\r\n            showText={true}\r\n          />\r\n        ) : null\r\n        }\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default WallPost;","import * as React from \"react\";\r\nimport \"./Profile.css\";\r\nimport logo from '../../../static_pictures/no_profile_picture.png'\r\n\r\nexport class Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  formatDate = (date) => {\r\n    return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"profile-main\">\r\n        <div className=\"profile-top\">\r\n          <div className=\"profile-name\">{this.props.userDetails.fName + \" \" + this.props.userDetails.lName}</div>\r\n          <img src={this.props.profilePic} alt=\"\" className=\"profile-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n        </div>\r\n        <div className=\"profile-footer\">\r\n          <div className=\"profile-type-m-s\">{this.props.userDetails.type}</div>\r\n          <div className=\"profile-city\">{this.props.userDetails.area}</div>\r\n          <div className=\"profile-birthday\">{this.formatDate(new Date(this.props.userDetails.birthDate))}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;","import * as React from \"react\";\r\nimport \"./NewsList.css\";\r\nimport Loader from 'react-loader-spinner'\r\n\r\nexport class NewsList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    formatDate = (timeStamp, includeDate = true) => {\r\n        var newDate = new Date(timeStamp);\r\n        var today = new Date();\r\n        if (today.getDate() === newDate.getDate() && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"היום\";\r\n        if (today.getDate() === newDate.getDate() + 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"אתמול\";\r\n        if (today.getDate() === newDate.getDate() - 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"מחר\";\r\n        if (includeDate)\r\n            return \"בתאריך \" + newDate.getDate() + \"/\" + (parseInt(newDate.getMonth()) + 1) + \"/\" + newDate.getFullYear();\r\n        return newDate.getDate() + \"/\" + (parseInt(newDate.getMonth()) + 1) + \"/\" + newDate.getFullYear();\r\n    }\r\n\r\n    formatTime = () => {\r\n        var timeStamp = this.props.otherUserLastOnline;\r\n        var newTime = new Date(timeStamp);\r\n        var minutes = newTime.getMinutes();\r\n        var fullMinutes = minutes < 10 && minutes >= 0 ? \"0\" + minutes : minutes;\r\n        return \"בשעה \" + newTime.getHours() + \":\" + fullMinutes;\r\n    }\r\n\r\n    connectionStatus = () => {\r\n        if (this.props.otherUserConnection)\r\n            return (\r\n                <li className=\"list-group-item list-group-item-dark conn-element\">\r\n                    <h2>\r\n                        <span className=\"badge badge-secondary w-50 bg-success text-white friend-connected\">\r\n                            {this.props.linked_name} מחובר/ת!\r\n                        </span>\r\n                    </h2>\r\n                    <button className=\"btn btn-primary video-invite\" onClick={() => this.props.connectToVideo(true)} >הזמן לשיחת וידאו!</button>\r\n                </li>\r\n            );\r\n        else\r\n            return (\r\n                <li className=\"list-group-item list-group-item-dark conn-element\">\r\n                    <h2>\r\n                        <span\r\n                            className=\"badge badge-secondary w-50 bg-danger text-white friend-disconnected\">\r\n                            {this.props.linked_name} לא מחובר/ת\r\n                            </span>\r\n                    </h2>\r\n                    <h5>\r\n                        <span hidden={this.props.otherUserLastOnline ? false : true}\r\n                            className=\"badge badge-secondary w-50 bg-danger text-white friend-last-seen\">\r\n                            נראה לאחרונה {this.formatDate(this.props.otherUserLastOnline)} {this.formatTime()}\r\n                        </span>\r\n                    </h5>\r\n                </li>\r\n            );\r\n    }\r\n\r\n    renderNewVideo = () => {\r\n        if (!this.props.vidButtonHide && this.props.otherUserConnection)\r\n            return (\r\n                <li className=\"list-group-item list-group-item-dark\">\r\n                    {this.props.linked_name} הזמין אותך לשיחת וידאו!\r\n                    <button\r\n                        disabled={this.props.vidButtonHide}\r\n                        className=\"btn btn-success rounded-pill join-video\"\r\n                        onClick={() => this.props.connectToVideo(false)}>\r\n                        הצטרף לשיחת וידאו!</button>\r\n                </li>\r\n\r\n            );\r\n        else\r\n            return null;\r\n    }\r\n\r\n    renderNewPost = () => {\r\n        if (this.props.newPosts > 1)\r\n            return (\r\n                <li className=\"list-group-item list-group-item-dark\">\r\n                    <span>  {this.props.linked_name} העלה {this.props.newPosts} פוסטים חדשים לקיר!</span>\r\n                    <button\r\n                        className=\"btn btn-warning rounded-pill watch-post-btn\"\r\n                        onClick={this.props.routeToWall}\r\n                    >צפה בפוסטים!\r\n                   </button>\r\n                </li>\r\n            );\r\n        else if (this.props.newPosts === 1)\r\n            return (\r\n                <li className=\"list-group-item list-group-item-dark\">\r\n                    <span>  {this.props.linked_name} העלה פוסט חדש לקיר!</span>\r\n                    <button\r\n                        className=\"btn btn-warning rounded-pill watch-post-btn\"\r\n                        onClick={this.props.routeToWall}\r\n                    >צפה בפוסט!\r\n               </button>\r\n                </li>\r\n            );\r\n        else\r\n            return null;\r\n    }\r\n\r\n    renderNextMeeting = () => {\r\n        if (this.props.next_meeting !== null)\r\n            return (\r\n                <table className=\"table table-hover h4 table-dark rounded text-white w-75 table-sm next-meeting-table\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td className=\"align-middle\">{this.formatDate(this.props.next_meeting.date, false)}</td>\r\n                            <td className=\"align-middle\">{this.props.next_meeting.time}</td>\r\n                            <td className=\"align-middle\">{this.props.next_meeting.place}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td className=\"align-middle\" colSpan=\"3\">{this.props.next_meeting.description}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            );\r\n        else\r\n            return (<h1>אין פגישות קרובות</h1>);\r\n    }\r\n\r\n    renderList = () => {\r\n        if (!this.props.loadingNextMeeting)\r\n            return (\r\n                <ul className=\"list-group w-50 home-list\">\r\n                    <li className=\"list-group-item active header-list\"><h3>מה התחדש לאחרונה</h3></li>\r\n                    {this.renderNewVideo()}\r\n                    {this.renderNewPost()}\r\n                    <li className=\"list-group-item list-group-item-dark\">\r\n                        פגישה קרובה:\r\n                        {this.renderNextMeeting()}\r\n                        <button\r\n                            hidden={!this.props.next_meeting}\r\n                            className=\"btn btn-danger rounded-pill meeting-btn\"\r\n                            onClick={this.props.routeToMeeting}\r\n                        >צפה ביומן הפגישות!\r\n                        </button>\r\n                    </li>\r\n                    {this.connectionStatus()}\r\n                </ul>\r\n            );\r\n        else\r\n            return (<Loader className=\"next-meeting-loader\" type=\"ThreeDots\" height=\"300px\" width=\"300px\"></Loader>)\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.renderList()\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewsList;","import * as React from \"react\";\r\nimport \"./HomePage.css\";\r\nimport firebase from \"../../config/Firebase\"\r\nimport AddPicture from \"../wallComponents/wall/AddPicture\"\r\nimport NewsList from \"./NewsList\"\r\nimport logo from '../../static_pictures/no_profile_picture.png'\r\n\r\nexport class HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      roomId: \"\",\r\n      vidButtonHide: true,\r\n      profilePicture: \"\",\r\n      showPicForm: false,\r\n      newPosts: 0\r\n    };\r\n    this.userUid = firebase.auth().currentUser.uid;\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.cloudRef = firebase.storage().ref();\r\n    this.myProfilePicturesRef = this.cloudRef.child('profile_pictures/' + firebase.auth().currentUser.uid);\r\n  }\r\n\r\n  formatDate = (date) => { // formatting date to [DD/MM/YYYY]\r\n    return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\r\n  }\r\n\r\n  callbackForm = (formData) => {\r\n    this.setState({ showPicForm: formData });\r\n  };\r\n\r\n  connectToVideo = (hosting) => { // connect to video directly from home page\r\n    this.setState({ vidButtonHide: true });\r\n    this.props.directVid(hosting);\r\n  }\r\n\r\n  setVideoButton = () => { // determine the appearance of join video button\r\n    if (this.props.newVideo === \"added\")\r\n      this.setState({ vidButtonHide: false });\r\n    else if (this.props.newVideo === \"removed\")\r\n      this.setState({ vidButtonHide: true });\r\n  }\r\n\r\n  getNewPostAlert = () => {\r\n    var postsRef;\r\n    var linkUser;\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n        linkUser = doc.data().link_user;\r\n      })\r\n      .then(() => {\r\n        postsRef\r\n          .where('uploader', '==', linkUser)\r\n          .where('unread', '==', true)\r\n          .get()\r\n          .then((docs) =>\r\n            this.setState({ newPosts: docs.docs.length }));\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setVideoButton();\r\n    this.props.getNextMeeting();\r\n    this.setState({ profilePicture: this.props.myProfilePic });\r\n    this.getNewPostAlert();\r\n  }\r\n\r\n  componentDidUpdate(prevProp) {\r\n    if (this.props.newVideo !== prevProp.newVideo)\r\n      this.setVideoButton();\r\n    else if (this.props.myProfilePic !== prevProp.myProfilePic)\r\n      this.setState({ profilePicture: this.props.myProfilePic });\r\n  }\r\n\r\n  uploadProfilePicture = () => {\r\n    this.setState({\r\n      showPicForm: true,\r\n    });\r\n  }\r\n\r\n  deleteProfilePicture = () => {\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך להסיר את תמונת הפרופיל הנוכחית שלך?\");\r\n    if (!con)\r\n      return;\r\n    this.myProfilePicturesRef.delete()\r\n      .then(() => {\r\n        console.log(\"Deleted profile picture successfully\")\r\n        this.props.changeProfilePictue(\"\")\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  setProfilePicture = (pictures, url) => {\r\n    this.props.changeProfilePictue(url);\r\n    this.myProfilePicturesRef.put(pictures[0]);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page\">\r\n        <div className=\"homepage-main\">\r\n          <div className=\"homepage-background-right\">\r\n            <div className=\"homepage-right\">\r\n              <div className=\"homepage-profile-top\">\r\n                <div className=\"homepage-profile-name\">\r\n                  {this.props.myDetails.fName + \" \" + this.props.myDetails.lName}\r\n                </div>\r\n                <img src={this.state.profilePicture} alt=\"\" className=\"homepage-profile-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n              </div>\r\n              <div className=\"homepage-profile-footer\">\r\n                <div className=\"homepage-profile-type-m-s\">\r\n                  {this.props.myDetails.type}\r\n                </div>\r\n                <div className=\"homepage-profile-city\">\r\n                  {this.props.myDetails.area}\r\n                </div>\r\n                <div className=\"homepage-profile-birthday\">\r\n                  {this.formatDate(new Date(this.props.myDetails.birthDate))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"homepage-background-left\">\r\n            <div className=\"homepage-left\">\r\n              <div className=\"homepage-profile-top\">\r\n                <div className=\"homepage-profile-name\">\r\n                  {this.props.linkedDetails.fName + \" \" + this.props.linkedDetails.lName}\r\n                </div>\r\n                <img src={this.props.friendProfilePic} alt=\"\" className=\"homepage-profile-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n              </div>\r\n              <div className=\"homepage-profile-footer\">\r\n                <div className=\"homepage-profile-type-m-s\">\r\n                  {this.props.linkedDetails.type}\r\n                </div>\r\n                <div className=\"homepage-profile-city\">\r\n                  {this.props.linkedDetails.area}\r\n                </div>\r\n                <div className=\"homepage-profile-birthday\">\r\n                  {this.formatDate(new Date(this.props.linkedDetails.birthDate))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-success profile-upload-btn\" onClick={this.uploadProfilePicture}>שנה תמונת פרופיל</button>\r\n        <button className=\"btn btn-danger profile-delete-btn\" onClick={this.deleteProfilePicture}>הסר תמונת פרופיל</button>\r\n        <NewsList\r\n          linked_name={this.props.linkedDetails.fName}\r\n          connectToVideo={this.connectToVideo}\r\n          vidButtonHide={this.state.vidButtonHide}\r\n          otherUserConnection={this.props.otherUserConnection}\r\n          otherUserLastOnline={this.props.otherUserLastOnline}\r\n          next_meeting={this.props.next_meeting}\r\n          loadingNextMeeting={this.props.loadingNextMeeting}\r\n          routeToWall={this.props.routeToWall}\r\n          routeToMeeting={this.props.routeToMeeting}\r\n          newPosts={this.state.newPosts}\r\n        />\r\n\r\n        {this.state.showPicForm ? (\r\n          <AddPicture\r\n            parentCallback={this.callbackForm}\r\n            showText={false}\r\n            setImagePostParent={this.setProfilePicture}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;","import React, { Component } from \"react\";\r\nimport \"./Video.css\";\r\nimport Loader from 'react-loader-spinner'\r\n\r\nclass Video extends Component {\r\n\r\n  req = () => {\r\n    this.props.remoteRef.current.requestFullscreen();\r\n  }\r\n\r\n  onPause = (e) => {\r\n    e.target.play();\r\n  }\r\n\r\n  mute = () => {\r\n    if (!this.props.isConnected)\r\n      return;\r\n    this.props.mute_func();\r\n  }\r\n\r\n  stopVideo = () => {\r\n    if (!this.props.isConnected)\r\n      return;\r\n    this.props.stop_vid_func();\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main-vid\">\r\n        <div className=\"video-section\">\r\n          <svg className=\"bi bi-mic-mute-fill remote-mute-icon\" style={{ color: this.props.rem_mute_icon, opacity: this.props.rem_mute_icon === 'black' ? 0.3 : 1 }} width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M12.734 9.613A4.995 4.995 0 0 0 13 8V7a.5.5 0 0 0-1 0v1c0 .274-.027.54-.08.799l.814.814zm-2.522 1.72A4 4 0 0 1 4 8V7a.5.5 0 0 0-1 0v1a5 5 0 0 0 4.5 4.975V15h-3a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-3v-2.025a4.973 4.973 0 0 0 2.43-.923l-.718-.719zM11 7.88V3a3 3 0 0 0-5.842-.963L11 7.879zM5 6.12l4.486 4.486A3 3 0 0 1 5 8V6.121zm8.646 7.234l-12-12 .708-.708 12 12-.708.707z\" />\r\n          </svg>\r\n          <svg className=\"bi bi-camera-video-off remote-video-icon\" style={{ color: this.props.rem_video_icon, opacity: this.props.rem_video_icon === 'black' ? 0.3 : 1 }} width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M1.075 3.196A2.159 2.159 0 0 0 .5 4.666v6.667c0 1.197.97 2.167 2.167 2.167h6.666c.568 0 1.084-.218 1.47-.575l-.708-.708c-.204.176-.47.283-.762.283H2.667A1.167 1.167 0 0 1 1.5 11.333V4.667c0-.292.107-.558.283-.762l-.708-.709zM10.5 8.379V4.667c0-.645-.522-1.167-1.167-1.167H5.621l-1-1h4.712c1.094 0 1.998.81 2.146 1.862l2.037-1.182c.859-.498 1.984.095 1.984 1.128v7.384c0 .482-.245.869-.594 1.093l-.79-.79a.317.317 0 0 0 .384-.303V4.308a.318.318 0 0 0-.482-.263L11.5 5.505V9.38l-1-1z\" />\r\n            <path fillRule=\"evenodd\" d=\"M13.646 14.354l-12-12 .708-.708 12 12-.708.707z\" />\r\n          </svg>\r\n          <legend className=\"lgd-rem-vid\">וידאו של {this.props.linkedName}</legend>\r\n\r\n          <button className=\"btn btn-success full-screen-btn\"\r\n            onClick={this.req}\r\n            disabled={this.props.fullScreenDisable}>מסך מלא</button>\r\n          <h3 className=\"time-duration\">משך השיחה:\r\n            {\" \" + this.props.timer[0]}:{this.props.timer[1]}{this.props.timer[2]}:{this.props.timer[3]}{this.props.timer[4]}\r\n          </h3>\r\n          <video\r\n            ref={this.props.remoteRef}\r\n            className=\"rem-video\"\r\n            height=\"450px\"\r\n            width=\"595px\"\r\n            autoPlay\r\n            onPause={this.onPause}\r\n          />\r\n\r\n          <svg className=\"bi bi-mic-mute-fill local-mute-icon\" style={{ color: this.props.mute_icon, cursor: \"pointer\", opacity: this.props.mute_icon === 'black' ? 0.3 : 1 }} onClick={this.mute} width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fillRule=\"evenodd\" d=\"M12.734 9.613A4.995 4.995 0 0 0 13 8V7a.5.5 0 0 0-1 0v1c0 .274-.027.54-.08.799l.814.814zm-2.522 1.72A4 4 0 0 1 4 8V7a.5.5 0 0 0-1 0v1a5 5 0 0 0 4.5 4.975V15h-3a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-3v-2.025a4.973 4.973 0 0 0 2.43-.923l-.718-.719zM11 7.88V3a3 3 0 0 0-5.842-.963L11 7.879zM5 6.12l4.486 4.486A3 3 0 0 1 5 8V6.121zm8.646 7.234l-12-12 .708-.708 12 12-.708.707z\" />\r\n          </svg>\r\n          <svg className=\"bi bi-camera-video-off local-video-icon\" style={{ color: this.props.video_icon, cursor: \"pointer\", opacity: this.props.video_icon === 'black' ? 0.3 : 1 }} onClick={this.stopVideo} disabled={true} width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M1.075 3.196A2.159 2.159 0 0 0 .5 4.666v6.667c0 1.197.97 2.167 2.167 2.167h6.666c.568 0 1.084-.218 1.47-.575l-.708-.708c-.204.176-.47.283-.762.283H2.667A1.167 1.167 0 0 1 1.5 11.333V4.667c0-.292.107-.558.283-.762l-.708-.709zM10.5 8.379V4.667c0-.645-.522-1.167-1.167-1.167H5.621l-1-1h4.712c1.094 0 1.998.81 2.146 1.862l2.037-1.182c.859-.498 1.984.095 1.984 1.128v7.384c0 .482-.245.869-.594 1.093l-.79-.79a.317.317 0 0 0 .384-.303V4.308a.318.318 0 0 0-.482-.263L11.5 5.505V9.38l-1-1z\" />\r\n            <path fillRule=\"evenodd\" d=\"M13.646 14.354l-12-12 .708-.708 12 12-.708.707z\" />\r\n          </svg>\r\n          <legend className=\"lgd-my-vid\">וידאו שלי ({this.props.userName})</legend>\r\n          <video\r\n            ref={this.props.localRef}\r\n            className=\"loc-video\"\r\n            height=\"450px\"\r\n            width=\"595px\"\r\n            muted\r\n            autoPlay\r\n            onPause={this.onPause} />\r\n\r\n        </div>\r\n        <Loader type=\"Oval\" className=\"video-loader\" visible={(!this.props.isConnected && this.props.readyToJoin) || this.props.disconnectionStat} height=\"200px\" width=\"200px\" color=\"#FFFFFF\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Video;\r\n","import React, { Component } from \"react\";\r\nimport \"./VidButtons.css\";\r\n\r\nclass VidButtons extends Component {\r\n  state = {\r\n    inputText: \"\",\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ inputText: e.target.value });\r\n  }\r\n\r\n  join_room = (e) => {\r\n    e.preventDefault();\r\n    this.props.joinRoom(this.state.inputText);\r\n    this.setState({ inputText: \"\" });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"vid-btn-main\">\r\n\r\n\r\n        <div className=\"start-buttons\">\r\n          <button\r\n            className=\"btn btn-success start_btn\"\r\n            onClick={this.props.startVideo}\r\n            disabled={this.props.startDisable}>\r\n            התחל שיחת וידאו\r\n        </button>\r\n\r\n          <button\r\n            className=\"btn btn-danger hangup_btn\"\r\n            onClick={this.props.hangUp}\r\n            disabled={this.props.hangDisable}>\r\n            סיים שיחה\r\n        </button>\r\n\r\n          <button\r\n            className=\"btn btn-primary create_room\"\r\n            onClick={this.props.createRoom}\r\n            disabled={this.props.createDisable}>\r\n            הזמן את {this.props.linkedName} לשיחת וידאו!\r\n                     </button>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default VidButtons;\r\n","import React, { Component } from \"react\";\r\nimport \"./MessageCube.css\";\r\n\r\nclass MessageCube extends Component {\r\n    state = {\r\n        lastMes: React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.state.lastMes.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    returnTime = () => {\r\n        var date = new Date();\r\n        var curTime;\r\n        if (date.getMinutes() <= 9 && date.getMinutes() >= 0)\r\n            curTime = date.getHours() + \":0\" + date.getMinutes();\r\n        else\r\n            curTime = date.getHours() + \":\" + date.getMinutes();\r\n        return curTime\r\n    }\r\n    render() {\r\n        return (\r\n            <div\r\n                ref={this.state.lastMes}\r\n                style={this.props.st}\r\n                className=\"msg-box\">\r\n\r\n                <legend\r\n                    className=\"msg-time-stamp\" >\r\n                    נשלח בשעה:  {this.returnTime()}\r\n                </legend>\r\n\r\n                <h1\r\n                    className=\"actual-msg\" >\r\n                    {this.props.mes}\r\n                </h1>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MessageCube;\r\n","import React, { Component } from \"react\";\r\nimport \"./Chat.css\";\r\nimport MessageCube from \"./MessageCube\";\r\nimport logo from '../../../../static_pictures/chat_background.jpg'\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    incomeMessage: \"\",\r\n    messages: []\r\n  }\r\n  componentDidUpdate(prevProp, prevState) {\r\n    if (this.props.outMes !== prevProp.outMes) {\r\n      this.setState({\r\n        messages: [...this.state.messages,\r\n        <MessageCube\r\n          key={this.state.messages.length + 1}\r\n          st={{ textAlign: \"right\", float: \"right\", padding: \"2px\", wordBreak: \"break-word\", wordWrap: 'break-word', marginTop: \"10px\", marginRight: \"5px\", minHeight: \"40px\", width: '80%', maxWidth: \"80%\", backgroundColor: \"#ece5dd\", borderRadius: \"10px\" }}\r\n          mes={this.props.outMes.mes}\r\n        />]\r\n      });\r\n    }\r\n  }\r\n  handleKey = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      this.sendMessage();\r\n    }\r\n  }\r\n\r\n  sendMessage = () => {\r\n    if (this.state.incomeMessage === \"\" || this.state.incomeMessage.trim().length === 0)\r\n      return;\r\n    this.setState({\r\n      messages: [...this.state.messages,\r\n      <MessageCube\r\n        key={this.state.messages.length + 1}\r\n        st={{ textAlign: \"right\", maxWidth: \"80%\", float: \"left\", padding: \"2px\", wordBreak: \"break-word\", marginTop: \"10px\", marginLeft: \"5px\", minHeight: \"40px\", width: '80%', backgroundColor: \"#dcf8c6\", borderRadius: \"10px\" }}\r\n        mes={this.state.incomeMessage}\r\n      />]\r\n    });\r\n    this.props.sendMessage(this.state.incomeMessage);\r\n    this.setState({ incomeMessage: \"\" });\r\n  }\r\n\r\n  textChange = (event) => {\r\n    this.setState({ incomeMessage: event.target.value })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"chat-sec\">\r\n\r\n        <legend className=\"chat-lgd\">תיבת צ'אט</legend>\r\n\r\n        <div className=\"chat-screen\" style={{ backgroundImage: `url(${logo})` }}>\r\n          {this.state.messages}\r\n        </div>\r\n\r\n        <div className=\"chat-input\">\r\n\r\n          <textarea\r\n            className=\"chat-text\"\r\n            value={this.state.incomeMessage}\r\n            onChange={this.textChange}\r\n            spellCheck=\"false\"\r\n            type=\"text\"\r\n            rows=\"3\"\r\n            onKeyDown={this.handleKey}\r\n            disabled={this.props.inputDisable}\r\n          />\r\n\r\n          <button\r\n            className=\"btn btn-success send-btn\"\r\n            onClick={this.sendMessage}\r\n            disabled={this.props.sendDisable}>\r\n            שלח\r\n            </button>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Chat;\r\n","import React, { Component } from \"react\";\r\nimport \"./Credit.css\";\r\n\r\nclass Credit extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <h6 className=\"credit-text\">Copyright (c) 2011, The WebRTC project authors. All rights reserved.</h6>\r\n        );\r\n    }\r\n}\r\nexport default Credit;\r\n","import React, { Component } from \"react\";\r\nimport Video from \"../partial/video/Video\";\r\nimport VidButtons from \"../partial/video/VidButtons\";\r\nimport Chat from \"../partial/chat/Chat\";\r\nimport \"./VideoPage.css\";\r\nimport firebase from \"../../../config/Firebase\"\r\nimport Credit from \"../partial/credit/Credit\"\r\n\r\nconst configuration = { // determine internet configuation\r\n  iceServers: [\r\n    {\r\n      urls: ['stun:stun1.l.google.com:19302', 'stun:stun2.l.google.com:19302'],\r\n    }\r\n  ],\r\n  iceCandidatePoolSize: 10,\r\n};\r\n\r\nconst constraints = {\r\n  audio: true,\r\n  video: {\r\n    width: { ideal: 1920 },\r\n    height: { ideal: 1080 }\r\n  }\r\n};\r\n\r\nconst localVideo = React.createRef();\r\n\r\nconst remoteVideo = React.createRef();\r\n\r\nclass VideoPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      localStream: null,\r\n      remoteStream: null,\r\n      localPeer: null,\r\n      roomId: \"\",\r\n      localChannel: null,\r\n      remoteChannel: null,\r\n      start_btn_disable: false,\r\n      hang_btn_disable: true,\r\n      create_btn_disable: false,\r\n      join_btn_disable: false,\r\n      send_btn_disable: true,\r\n      input_disable: true,\r\n      fullScreen: true,\r\n      muteVis: \"hidden\",\r\n      vidVis: \"hidden\",\r\n      isStarted: false,\r\n      isConnected: false,\r\n      isFinished: false,\r\n      readyToJoin: false,\r\n      timer: [0, 0, 0, 0, 0],\r\n      intervalFunc: null,\r\n      timeoutChecking: null,\r\n      timeoutDisconnected: null,\r\n      outMes: { mes: \"\" },\r\n      disconFlag: false,\r\n      checkFlag: false,\r\n      firstSnapShot: null,\r\n      secondSnapShot: null,\r\n      mute_icon: \"black\",\r\n      video_icon: \"black\",\r\n      rem_mute_icon: \"black\",\r\n      rem_video_icon: \"black\"\r\n    }\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n  }\r\n\r\n  startVideoDirectly = () => { // auto video start\r\n    this.startVideo();\r\n    var checkIfStartedStream = setInterval(() => {\r\n      if (this.state.localStream && this.state.remoteStream) {\r\n        if (this.props.hostVid)\r\n          this.createRoom();\r\n        else\r\n          this.joinRoomById(this.props.room_id);\r\n        clearInterval(checkIfStartedStream)\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.directVid && (this.props.room_id !== \"\" || this.props.hostVid))\r\n      this.startVideoDirectly();\r\n  }\r\n\r\n  componentWillUnmount(event) {\r\n    if (this.state.isStarted)\r\n      this.hangUp(false, false);\r\n  }\r\n\r\n  componentDidUpdate(prevProp) {\r\n    if (this.props.directVid !== prevProp.directVid)\r\n      this.startVideoDirectly();\r\n  }\r\n\r\n  startVideo = async () => {\r\n\r\n    navigator.mediaDevices.getUserMedia(constraints)\r\n      .then(stream => {\r\n        console.log(\"Chrome has received your local stream successfully\\nUsing video device: \" +\r\n          stream.getVideoTracks()[0].label + \"\\nUsing audio device: \" + stream.getAudioTracks()[0].label);\r\n        this.setState({ remoteStream: new MediaStream() }, () => {\r\n          remoteVideo.current.srcObject = this.state.remoteStream;\r\n        });\r\n        this.setState({ localStream: stream }, async () => {\r\n          localVideo.current.srcObject = this.state.localStream;\r\n          this.setState({\r\n            isStarted: true,\r\n            hang_btn_disable: false, start_btn_disable: true\r\n          });\r\n          this.props.modifyVideoStream(); // modifing app about a new video stream\r\n        });\r\n      })\r\n      .catch(e => alert(e.name));\r\n  }\r\n\r\n  createRoom = async () => {\r\n    if (!this.state.isStarted) {\r\n      alert(\"אנא לחץ על כפתור 'התחל שיחת וידאו'\")\r\n      return;\r\n    }\r\n\r\n    this.setState({ create_btn_disable: true })\r\n\r\n    this.setState({ localPeer: new RTCPeerConnection(configuration) }, async () => {   // create local peer\r\n      console.log(\"Created local peer\");\r\n      this.getMediaTracks();\r\n      this.getRemoteMediaTracks();\r\n      this.handleDataChannel('first_channel');\r\n\r\n\r\n      const offer = await this.state.localPeer.createOffer(); // creating offer request\r\n\r\n      const roomOffer = {\r\n        offer: {\r\n          type: offer.type,\r\n          sdp: offer.sdp\r\n        }\r\n      }\r\n\r\n      const roomRef = await this.usersRef\r\n        .doc(this.props.linkId)\r\n        .collection('Rooms')\r\n        .add(roomOffer);\r\n\r\n      this.connectionHandler(roomRef, 'first_participant', 'second_participant'); // handle internet connection (based on ICE protocol)\r\n      try {\r\n        await this.state.localPeer.setLocalDescription(offer);\r\n      }\r\n      catch (e) {\r\n        console.log(e.name);\r\n      }\r\n      var firstSnap = roomRef.onSnapshot(async snapshot => { // waiting for an answer\r\n        const data = snapshot.data();\r\n        try {\r\n          if (!this.state.localPeer.currentRemoteDescription && typeof (data.answer) !== 'undefined') {\r\n            console.log(`Got update room is ${snapshot.id}`)\r\n            console.log(`Set remote description: ${data.answer}`);\r\n            const answer = new RTCSessionDescription(data.answer);\r\n            console.log(answer);\r\n            await this.state.localPeer.setRemoteDescription(answer);\r\n          }\r\n        }\r\n        catch (e) {\r\n          console.log(e.name);\r\n        }\r\n      });\r\n      this.setState({ firstSnapShot: firstSnap });\r\n    });\r\n  }\r\n\r\n  joinRoom = (guestId) => { // For joining a room with entering friend's room ID as an input (optional) \r\n    if (!this.state.isStarted) {\r\n      alert(\"אנא לחץ על כפתור 'התחל שיחה'\")\r\n      return;\r\n    }\r\n    if (guestId === \"\") {\r\n      alert(\"אנא הכנס את מספר החדר של החניך/חונך\");\r\n      return;\r\n    }\r\n    this.joinRoomById(guestId);\r\n  }\r\n\r\n  joinRoomById = async (roomIdOfGuest) => {\r\n    this.setState({\r\n      create_btn_disable: true,\r\n      join_btn_disable: true\r\n    });\r\n    console.log(`You want to join room ${roomIdOfGuest}`);\r\n    if (roomIdOfGuest === \"\") {\r\n      alert(this.props.linkedName + \" ביטל את השיחה\");\r\n      document.location.reload(true);\r\n      return;\r\n    }\r\n\r\n    const roomRef = this.usersRef\r\n      .doc(this.props.myLinkId)\r\n      .collection('Rooms')\r\n      .doc(`${roomIdOfGuest}`);\r\n    const roomSnap = await roomRef.get();\r\n    console.log(`Room existance in DB: ${roomSnap.exists}`);\r\n\r\n    if (!roomSnap.exists) {\r\n      alert(\"החדר לא קיים במערכת. נסה שוב.\");\r\n      this.setState({\r\n        create_btn_disable: false,\r\n        join_btn_disable: false\r\n      })\r\n      return;\r\n    }\r\n    this.setState({ readyToJoin: true, roomId: \"מספר החדר שלך הינו: \" + roomRef.id });\r\n    console.log(`Creating peer connection with the configuration: ${configuration}`);\r\n    this.setState({ localPeer: new RTCPeerConnection(configuration) }, async () => {\r\n      console.log(\"Created local peer\");\r\n      this.getMediaTracks();\r\n      this.getRemoteMediaTracks();\r\n      this.handleDataChannel('second_channel');\r\n\r\n      this.connectionHandler(roomRef, 'second_participant', 'first_participant'); // handle internet connection (based on ICE protocol)\r\n\r\n      const offer = roomSnap.data().offer;\r\n      console.log(\"created offer\");\r\n      await this.state.localPeer.setRemoteDescription(offer);\r\n      const answer = await this.state.localPeer.createAnswer();\r\n      await this.state.localPeer.setLocalDescription(answer);\r\n      const roomAnswer = {\r\n        answer: {\r\n          type: answer.type,\r\n          sdp: answer.sdp\r\n        }\r\n      }\r\n      await roomRef.update(roomAnswer);\r\n    });\r\n  }\r\n\r\n  hangUp = (val, willReload = true) => {\r\n    var isConfirmed;\r\n    if (!val)\r\n      isConfirmed = true;\r\n    else\r\n      isConfirmed = window.confirm(\"האם אתה בטוח שברצונך לסיים את השיחה?\");\r\n    if (isConfirmed) {\r\n      this.setState({ isFinished: true });\r\n      if (this.state.localChannel && this.state.localChannel.readyState === 'open' &&\r\n        this.state.remoteChannel && (val || !willReload))\r\n        this.state.localChannel.send(JSON.stringify({ finish: true }))\r\n      if (this.state.firstSnapShot !== null)\r\n        this.state.firstSnapShot();\r\n      if (this.state.secondSnapShot !== null)\r\n        this.state.secondSnapShot();\r\n      clearInterval(this.state.intervalFunc);\r\n      this.state.localStream.getTracks().forEach(track => track.stop());\r\n      console.log(\"Closed local tracks\")\r\n      if (this.state.remoteStream) {\r\n        this.state.remoteStream.getTracks().forEach(track => track.stop());\r\n        console.log(\"Closed remote tracks\")\r\n      }\r\n      if (val && willReload && this.state.isConnected)\r\n        alert(\"סיימת את השיחה. זמן השיחה: \" +\r\n          this.state.timer[0] + \":\" + this.state.timer[1] + \"\" +\r\n          this.state.timer[2] + \":\" + this.state.timer[3] + \"\" +\r\n          this.state.timer[4]);\r\n      else if (!val && willReload && this.state.isConnected)\r\n        alert(\"זמן השיחה: \" +\r\n          this.state.timer[0] + \":\" + this.state.timer[1] + \"\" +\r\n          this.state.timer[2] + \":\" + this.state.timer[3] + \"\" +\r\n          this.state.timer[4]);\r\n      if (this.state.localPeer !== null) {\r\n        this.state.localPeer.close();\r\n        console.log(\"Closed local peer\")\r\n      }\r\n      this.setState({ localPeer: null });\r\n      if (willReload) {\r\n        setTimeout(() => {\r\n          document.location.reload(true);\r\n        }, 500);\r\n      }\r\n      else\r\n        this.props.removeDocs();\r\n    }\r\n  }\r\n\r\n  connectionHandler = async (roomRef, localName, remoteName) => { // handle internet connection\r\n    const candidateCol = roomRef.collection(localName);\r\n    try {\r\n      this.state.localPeer.addEventListener('icecandidate', event => {\r\n        if (event.candidate) {\r\n          const jsonData = event.candidate.toJSON();\r\n          candidateCol.add(jsonData);\r\n        }\r\n      });\r\n    }\r\n    catch (e) {\r\n      console.log(e.name)\r\n    }\r\n    try {\r\n      this.state.localPeer.onconnectionstatechange = this.onIceChanged;\r\n    }\r\n    catch (e) {\r\n      console.log(e.name)\r\n    }\r\n    var secondSnap = roomRef.collection(remoteName).onSnapshot(snapshot => {\r\n      snapshot.docChanges().forEach(change => {\r\n        if (change.type === \"added\" || change.doc.data()) {\r\n          const candidate = new RTCIceCandidate(change.doc.data());\r\n          this.state.localPeer.addIceCandidate(candidate);\r\n          console.log(`candidate success`);\r\n        }\r\n      });\r\n    });\r\n    this.setState({ secondSnapShot: secondSnap });\r\n  }\r\n\r\n  onIceChanged = (e) => { // internet connection change event\r\n    var currStat = e.target;\r\n    console.log(`ICE connection state changed: ${currStat.iceConnectionState}`);\r\n    if (currStat.iceConnectionState === \"connected\" && !this.state.isConnected) // first time connection\r\n      this.onCandidateConnected();\r\n    else if (currStat.iceConnectionState === \"connected\" && this.state.isConnected) // reconnection\r\n      this.onReconnection();\r\n    else if (currStat.iceConnectionState === \"disconnected\" && this.state.isConnected) // disconnecction after connection\r\n      this.onCandidateDisconnected();\r\n    else if ((currStat.iceConnectionState === \"disconnected\" || currStat.iceConnectionState === \"checking\")\r\n      && !this.state.isConnected) // disconnection before connection\r\n      this.onCandidateChecking();\r\n  };\r\n\r\n  mateDisconnected = () => {\r\n    clearInterval(this.state.intervalFunc);\r\n    alert(this.props.linkedName + \" סיים את השיחה.\");\r\n    this.hangUp(false);\r\n  }\r\n\r\n  onCandidateConnected = () => {\r\n    console.log(\"תהליך ההתחברות הסתיים בהצלחה.\")\r\n    this.setState({\r\n      isConnected: true, muteVis: \"visible\",\r\n      vidVis: \"visible\", create_btn_disable: true,\r\n      join_btn_disable: true, send_btn_disable: false,\r\n      input_disable: false, fullScreen: false\r\n    });\r\n    if (this.state.intervalFunc === null)\r\n      this.setState({ intervalFunc: setInterval(this.intervalFunc, 1000) });\r\n  }\r\n\r\n  unavailableConnection = () => {\r\n    clearTimeout(this.setState.timeoutDisconnected);\r\n    var iceConnectionState = this.state.localPeer.iceConnectionState;\r\n    if (iceConnectionState === \"disconnected\" || iceConnectionState === \"checking\") {\r\n      clearInterval(this.state.intervalFunc);\r\n      alert(this.props.linkedName + \" חווה בעיית אינטרנט. נסו שוב מאוחר יותר.\");\r\n      this.hangUp(false);\r\n    }\r\n  }\r\n\r\n  onReconnection = () => {\r\n    this.setState({ disconFlag: false });\r\n  }\r\n\r\n  onCandidateDisconnected = () => {\r\n    if (!this.state.disconFlag) {\r\n      this.setState({\r\n        timeoutDisconnected: setTimeout(this.unavailableConnection, 15000),\r\n        disconFlag: true\r\n      });\r\n    }\r\n  }\r\n\r\n  checkCon = () => {\r\n    clearTimeout(this.state.timeoutChecking);\r\n    if (!this.state.isConnected) {\r\n      clearInterval(this.state.intervalFunc);\r\n      alert(\"תהליך ההתחברות נכשל. אנא נסה שוב בעוד מספר דקות.\");\r\n      this.hangUp(false);\r\n    }\r\n    else\r\n      this.setState({ checkFlag: false });\r\n  }\r\n\r\n  onCandidateChecking = () => {\r\n    if (!this.state.checkFlag)\r\n      this.setState({\r\n        timeoutChecking: setTimeout(this.checkCon, 10000),\r\n        checkFlag: true, readyToJoin: true\r\n      });\r\n  }\r\n\r\n  intervalFunc = () => {\r\n    if (this.state.timer[4] !== 9)\r\n      this.setState({\r\n        timer: [this.state.timer[0],\r\n        this.state.timer[1],\r\n        this.state.timer[2],\r\n        this.state.timer[3],\r\n        this.state.timer[4] + 1]\r\n      })\r\n    else if (this.state.timer[4] === 9\r\n      && this.state.timer[3] !== 5)\r\n      this.setState({\r\n        timer: [this.state.timer[0],\r\n        this.state.timer[1],\r\n        this.state.timer[2],\r\n        this.state.timer[3] + 1, 0]\r\n      });\r\n    else if (this.state.timer[4] === 9 &&\r\n      this.state.timer[3] === 5 &&\r\n      this.state.timer[2] !== 9)\r\n      this.setState({\r\n        timer: [this.state.timer[0],\r\n        this.state.timer[1],\r\n        this.state.timer[2] + 1, 0, 0]\r\n      });\r\n    else if (this.state.timer[4] === 9 &&\r\n      this.state.timer[3] === 5 &&\r\n      this.state.timer[2] === 9 &&\r\n      this.state.timer[1] !== 5)\r\n      this.setState({\r\n        timer: [this.state.timer[0],\r\n        this.state.timer[1] + 1, 0, 0, 0]\r\n      });\r\n    else\r\n      this.setState({\r\n        timer: [this.state.timer[0] + 1, 0, 0, 0, 0]\r\n      });\r\n  }\r\n\r\n  mute = () => {\r\n    if (this.state.localStream.getAudioTracks()[0].enabled) {\r\n      this.setState({ mute_icon: \"blue\" })\r\n      this.state.localChannel.send(JSON.stringify({ mute: true }))\r\n    }\r\n    else {\r\n      this.setState({ mute_icon: \"black\" })\r\n      this.state.localChannel.send(JSON.stringify({ mute: false }))\r\n    }\r\n    this.state.localStream.getAudioTracks()[0].enabled = !(this.state.localStream.getAudioTracks()[0].enabled);\r\n  }\r\n\r\n  stopVideo = () => {\r\n    if (this.state.localStream.getVideoTracks()[0].enabled) {\r\n      this.setState({ video_icon: \"blue\" })\r\n      this.state.localChannel.send(JSON.stringify({ video: true }))\r\n    }\r\n    else {\r\n      this.setState({ video_icon: \"black\" })\r\n      this.state.localChannel.send(JSON.stringify({ video: false }))\r\n    }\r\n    this.state.localStream.getVideoTracks()[0].enabled = !(this.state.localStream.getVideoTracks()[0].enabled);\r\n  }\r\n\r\n  handleDataChannel = async (dataChannelName) => {\r\n    //creating data channel\r\n    const dataPar = { ordered: true };\r\n    this.setState({ localChannel: this.state.localPeer.createDataChannel(dataChannelName, dataPar) },\r\n      () => {\r\n        this.state.localChannel.binaryType = 'arraybuffer';\r\n        this.state.localChannel.onopen = this.openDataChannel;\r\n        this.state.localChannel.onclose = this.closedDataChannel;\r\n        this.state.localPeer.ondatachannel = this.remoteOpenDataChannel;\r\n      });\r\n  }\r\n\r\n  getMediaTracks = async () => {\r\n    if (typeof (this.state.localStream) !== 'undefined') {\r\n      this.state.localStream.getTracks()\r\n        .forEach(track => this.state.localPeer\r\n          .addTrack(track, this.state.localStream));\r\n      console.log(\"Local stream has added to peer\");\r\n    }\r\n  }\r\n\r\n  getRemoteMediaTracks = async () => {\r\n    this.state.localPeer.addEventListener('track', event => {\r\n      console.log(`Got remote track: ${event.streams[0]}`);\r\n      event.streams[0].getTracks().forEach(track => {\r\n        console.log(`Added track to the remote stream: ${track}`);\r\n        this.state.remoteStream.addTrack(track);\r\n      });\r\n    });\r\n  }\r\n\r\n  openDataChannel = async () => {\r\n    console.log(\"Local channel has opened\");\r\n  }\r\n\r\n  closedDataChannel = async () => {\r\n    console.log(\"Local channel has closed\");\r\n    if (this.state.isConnected && !this.state.isFinished)\r\n      alert(\"סיימת את השיחה. זמן השיחה: \" +\r\n        this.state.timer[0] + \":\" + this.state.timer[1] + \"\" +\r\n        this.state.timer[2] + \":\" + this.state.timer[3] + \"\" +\r\n        this.state.timer[4]);\r\n  }\r\n\r\n  remoteOpenDataChannel = async (event) => {\r\n    event.preventDefault();\r\n    this.setState({ remoteChannel: event.channel }, () => {\r\n      this.state.remoteChannel.onmessage = this.getMessage;\r\n    });\r\n  }\r\n\r\n  getMessage = async (event) => {\r\n    event.preventDefault();\r\n    var newMessage = JSON.parse(event.data);\r\n    if (typeof (newMessage) === 'string')\r\n      this.setState({ outMes: { mes: newMessage } });\r\n    else if (newMessage.finish === true)\r\n      this.setState({ isFinished: true }, this.mateDisconnected());\r\n    else if (newMessage.mute === true)\r\n      this.setState({ rem_mute_icon: \"blue\" });\r\n    else if (newMessage.mute === false)\r\n      this.setState({ rem_mute_icon: \"black\" });\r\n    else if (newMessage.video === true)\r\n      this.setState({ rem_video_icon: \"blue\" });\r\n    else if (newMessage.video === false)\r\n      this.setState({ rem_video_icon: \"black\" });\r\n  }\r\n\r\n  sendMessage = async (message) => {\r\n    this.state.localChannel.send(JSON.stringify(message));\r\n    console.log(\"The message was sent: \" + message);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main-vid-page\" >\r\n\r\n        <Video\r\n          localRef={localVideo}\r\n          remoteRef={remoteVideo}\r\n          timer={this.state.timer}\r\n          fullScreenDisable={this.state.fullScreen}\r\n          userName={this.props.userName}\r\n          linkedName={this.props.linkedName}\r\n          isConnected={this.state.isConnected}\r\n          readyToJoin={this.state.readyToJoin}\r\n          disconnectionStat={this.state.disconFlag}\r\n          mute_icon={this.state.mute_icon}\r\n          video_icon={this.state.video_icon}\r\n          rem_mute_icon={this.state.rem_mute_icon}\r\n          rem_video_icon={this.state.rem_video_icon}\r\n          mute_func={this.mute}\r\n          stop_vid_func={this.stopVideo}\r\n        />\r\n\r\n        <Chat\r\n          sendMessage={this.sendMessage}\r\n          outMes={this.state.outMes}\r\n          sendDisable={this.state.send_btn_disable}\r\n          inputDisable={this.state.input_disable}\r\n        />\r\n\r\n        <VidButtons\r\n          startVideo={this.startVideo}\r\n          createRoom={this.createRoom}\r\n          joinRoom={this.joinRoom}\r\n          hangUp={() => this.hangUp(true)}\r\n          muteVis={this.state.muteVis}\r\n          vidVis={this.state.vidVis}\r\n          mute={this.mute}\r\n          stopVideo={this.stopVideo}\r\n          startDisable={this.state.start_btn_disable}\r\n          hangDisable={this.state.hang_btn_disable}\r\n          createDisable={this.state.create_btn_disable}\r\n          joinDisable={this.state.join_btn_disable}\r\n          linkedName={this.props.linkedName}\r\n        />\r\n        <Credit />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoPage;\r\n","import React, { Component } from \"react\";\r\nimport \"./ChangePassword.css\";\r\nimport firebase from \"../config/Firebase\"\r\n\r\nclass ChangePassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password: \"\"\r\n        };\r\n        this.fAuth = firebase.auth();\r\n    }\r\n\r\n    closeForm = () => {\r\n        this.props.parentCallback(false);\r\n    };\r\n\r\n    changePassword = () => {\r\n        this.fAuth\r\n            .sendPasswordResetEmail(this.props.email)\r\n            .then(() => alert(\"הסיסמא החדשה נשלחה אליך למייל\"))\r\n            .catch(() => alert(\"שגיאה בהזנת הנתונים\"));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"form-box\" className=\"col-md-25 text-center\">\r\n                    <div className=\"change-pwd-form\" id=\"add-pic-form\">\r\n                        <span className=\"helper\"> </span>\r\n                        <div className=\"center-form\">\r\n                            <div\r\n                                className=\"close-btn\"\r\n                                id=\"close-watch\"\r\n                                onClick={this.closeForm}\r\n                            >\r\n                                x\r\n              </div>\r\n                            <div className=\"form-group\">\r\n                                <h1 className=\"change-pwd-lbl\">שינוי סיסמא</h1>\r\n                                <p className=\"change-pwd-p\">בלחיצה על הכפתור למטה יישלח אליך למייל לינק לשינוי הסיסמא.</p>\r\n                                <button\r\n                                    className=\"btn btn-success send-reset-email\"\r\n                                    onClick={this.changePassword}\r\n                                >\r\n                                    שלח לי לינק לשינוי סיסמא!\r\n                </button>\r\n\r\n                            </div>{\" \"}\r\n                        </div>{\" \"}\r\n                    </div>{\" \"}\r\n                </div>{\" \"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ChangePassword;\r\n","import React, { Component } from \"react\";\r\nimport Meeting from \"../navBarComponents/meetingComponents/Meeting\";\r\nimport WallPost from \"../navBarComponents/wallComponents/wall/WallPost\";\r\nimport Profile from \"../navBarComponents/wallComponents/profile/Profile\";\r\nimport HomePage from \"../navBarComponents/homeComponents/HomePage\";\r\nimport VideoPage from \"../navBarComponents/videoComponents/main/VideoPage\";\r\nimport ChangePassword from \"./ChangePassword\"\r\nimport \"./App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport firebase from \"../config/Firebase\"\r\nimport Loader from 'react-loader-spinner'\r\nimport logo from '../static_pictures/big_brothers_big_sisters.png'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userDetails: {\r\n        fName: \"\",\r\n        lName: \"\"\r\n      },\r\n      linkedUserDetails: {\r\n        fName: \"\",\r\n        lName: \"\"\r\n      },\r\n      isMounted: false,\r\n      loadingUser: true,\r\n      loadingLinkedUser: true,\r\n      next_meeting: null,\r\n      loadingNextMeeting: true,\r\n      active: false,\r\n      isOnVideo: false,\r\n      roomId: \"\",\r\n      newVideo: \"\",\r\n      pageLoaded: false,\r\n      directVid: false,\r\n      hostVid: null,\r\n      routeToWall: false,\r\n      routeToMeeting: false,\r\n      otherUserConnection: false,\r\n      otherUserLastOnline: null,\r\n      pwdRender: false,\r\n      connectionKey: \"\",\r\n      link_user: \"\",\r\n      profilePicture: \"\",\r\n      friendProfile: \"\",\r\n      stopSnap: null,\r\n      zoom: Math.min(window.innerHeight / 620, window.innerWidth / 1536)\r\n    };\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.connectionRef = firebase.database().ref('.info/connected');\r\n    this.currUserUid = firebase.auth().currentUser.uid;\r\n    this.cloudRef = firebase.storage().ref();\r\n    this.myProfilePicturesRef = this.cloudRef.child('profile_pictures/' + firebase.auth().currentUser.uid);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.stopSnap)\r\n      this.state.stopSnap();\r\n  }\r\n\r\n  logout = () => {\r\n    var logOutConfirm = window.confirm(\"האם אתה בטוח שברצונך להתנתק מהמערכת?\");\r\n    if (!logOutConfirm)\r\n      return;\r\n    if (this.state.isMounted)\r\n      this.updateDisconnection();\r\n    firebase.auth().signOut()\r\n      .then(() => {\r\n        console.log(\"Successful sign-out\")\r\n        // Sign-out successful.\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Sign-out error\")\r\n        // An error happened.\r\n      });\r\n  }\r\n\r\n  resizeWin = (e) => {\r\n    this.setState({\r\n      zoom: Math.min(window.innerHeight / 620, window.innerWidth / 1536)\r\n    });\r\n  };\r\n\r\n  getUserName = () => {\r\n    if (firebase.auth().currentUser === null)\r\n      return;\r\n    var currUserUid = firebase.firestore().collection('Users').doc(this.currUserUid);\r\n    currUserUid\r\n      .get()\r\n      .then((uDetail) => {\r\n        if (!uDetail.exists) {\r\n          alert(\"משתמש זה לא קיים יותר במערכת. אנא פנה למנהל.\");\r\n          firebase.auth().signOut();\r\n        }\r\n        else {\r\n          this.setState({ userDetails: uDetail.data() },\r\n            () => this.setState({ loadingUser: false }))\r\n        }\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  setLinkedUser = (doc) => {\r\n    this.setState({ linkedUserDetails: doc.data() });\r\n    this.setState({ loadingLinkedUser: false });\r\n  }\r\n\r\n  getLinkedUser = () => {\r\n    var docRef = this.usersRef.doc(this.state.userDetails.link_user);\r\n    docRef\r\n      .get()\r\n      .then((doc) => this.setLinkedUser(doc))\r\n      .catch((e) => console.log(e.name))\r\n  }\r\n\r\n  getNextMeeting = () => {\r\n    var meetingRef = this.usersRef.doc(this.currUserUid).collection('Meetings')\r\n    meetingRef\r\n      .where('timeStamp', \">=\", ((Date.now() / 1000)) - 900)\r\n      .orderBy(\"timeStamp\", \"asc\")\r\n      .limit(1)\r\n      .get()\r\n      .then(querySnap => {\r\n        if (!querySnap.empty)\r\n          this.setState({ next_meeting: querySnap.docs[0].data() });\r\n        else\r\n          this.setState({ next_meeting: null })\r\n      })\r\n      .then(() => this.setState({ loadingNextMeeting: false }))\r\n      .catch((e) => console.log(e.name))\r\n  }\r\n\r\n  checkIfVideo = (event) => {\r\n    if (this.state.isOnVideo) {\r\n      var con = window.confirm(\"האם אתה בטוח שברצונך לסיים את שיחת הוידאו?\");\r\n      if (con)\r\n        this.setState({ directVid: false, hostVid: null, isOnVideo: false })\r\n      else\r\n        event.preventDefault();\r\n    }\r\n  }\r\n\r\n  modifyVideoStream = (localSt, remoteSt) => {\r\n    this.setState({ isOnVideo: true });\r\n  }\r\n\r\n  updateConnection = () => {\r\n    var myConnectionsRef = firebase.database().ref('users/' + this.state.userDetails.id + '/connected');\r\n    var lastOnlineRef = firebase.database().ref('users/' + this.state.userDetails.id + '/lastOnline');\r\n    var friendConnectionsRef = firebase.database().ref('users/' + this.state.linkedUserDetails.id + '/connected');\r\n    var friendOnlineRef = firebase.database().ref('users/' + this.state.linkedUserDetails.id + '/lastOnline');\r\n    this.connectionRef.on('value', (snap) => {\r\n      if (snap.val() === true) {\r\n        var con = myConnectionsRef.push();\r\n        con.onDisconnect().remove(this.removeDocs);\r\n        this.setState({ connectionKey: con.key });\r\n        con.set(true);\r\n        lastOnlineRef.onDisconnect().set(firebase.database.ServerValue.TIMESTAMP);\r\n      }\r\n    });\r\n    friendConnectionsRef.on('value', (snap) => {\r\n      if (snap.val() !== null)\r\n        this.setState({ otherUserConnection: true })\r\n      else\r\n        this.setState({ otherUserConnection: false })\r\n    });\r\n    friendOnlineRef.on('value', (snap) => {\r\n      this.setState({ otherUserLastOnline: snap.val() })\r\n    });\r\n  }\r\n\r\n  removeDocs = () => {\r\n    var ref = this.usersRef\r\n      .doc(this.state.userDetails.link_user)\r\n      .collection('Rooms');\r\n    ref\r\n      .get()\r\n      .then(querySnapshot => {\r\n        querySnapshot.forEach(doc => {\r\n          doc.ref.collection('first_participant')\r\n            .get()\r\n            .then(subSnap => {\r\n              subSnap.forEach(subDoc =>\r\n                subDoc.ref.delete())\r\n              doc.ref.collection('second_participant')\r\n                .get()\r\n                .then(subSnap =>\r\n                  subSnap.forEach(subDoc =>\r\n                    subDoc.ref.delete()))\r\n            })\r\n            .then(() => {\r\n              doc.ref.delete();\r\n            })\r\n        })\r\n      }).then(() => {\r\n        console.log(\"Doc has removed successfully\")\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Problem in removing Doc\")\r\n      })\r\n  }\r\n\r\n  updateDisconnection = () => {\r\n    var myConnectionsRef = firebase.database().ref('users/' + this.state.userDetails.id + '/connected');\r\n    var lastOnlineRef = firebase.database().ref('users/' + this.state.userDetails.id + '/lastOnline');\r\n    myConnectionsRef.child('/' + this.state.connectionKey).remove();\r\n    lastOnlineRef.set(firebase.database.ServerValue.TIMESTAMP);\r\n  }\r\n\r\n  getProfilePictures = () => {\r\n    this.myProfilePicturesRef.getDownloadURL()\r\n      .then(url => this.setState({ profilePicture: url }))\r\n      .catch((e) => console.log(e.name));\r\n    this.usersRef.doc(this.currUserUid).get()\r\n      .then(doc => this.setState({ link_user: doc.data().link_user },\r\n        () => {\r\n\r\n          this.cloudRef.child('profile_pictures/' + this.state.link_user)\r\n            .getDownloadURL()\r\n            .then((url) => this.setState({ friendProfile: url }))\r\n            .catch((e) => console.log(e.name));\r\n        }))\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  changeProfilePictue = (url) => {\r\n    this.setState({ profilePicture: url });\r\n  }\r\n\r\n  componentDidMount() {\r\n    var webSiteWidth = 1280;\r\n    var webScale = window.screen.width / webSiteWidth\r\n    document.querySelector('meta[name=\"viewport\"]').setAttribute('content', 'width=' + webSiteWidth + ', initial-scale=' + webScale + '');\r\n\r\n    window.addEventListener(\"resize\", this.resizeWin);\r\n    this.getUserName();\r\n    this.getProfilePictures();\r\n  }\r\n\r\n  componentDidUpdate(prevProp, prevState) {\r\n    if (this.state.userDetails.email !== prevState.userDetails.email) {\r\n      var mateDoc;\r\n      if (this.state.userDetails.locked === true) {\r\n        alert(\"משתמש זה נעול. אנא פנה למנהל המערכת לצורך שחרור הנעילה.\");\r\n        firebase.auth().signOut();\r\n      }\r\n      if (typeof (this.state.userDetails.link_user) === 'undefined' || this.state.userDetails.link_user === \"\") {\r\n        alert(\"למשתמש זה אין חונך/חניך. אנא פנה למנהל המערכת עם הודעה זו.\");\r\n        firebase.auth().signOut();\r\n      }\r\n      else {\r\n        this.getLinkedUser();\r\n        mateDoc = firebase.firestore().collection('Users').doc(this.state.userDetails.link_user);\r\n        mateDoc.get()\r\n          .then((doc) => {\r\n            if (!doc.exists || doc.data().link_user === \"\") {\r\n              alert(\"למשתמש זה אין חונך/חניך. אנא פנה למנהל המערכת עם הודעה זו.\");\r\n              firebase.auth().signOut();\r\n            }\r\n            else {\r\n              this.setState({ isMounted: true });\r\n              this.updateConnection();\r\n              var unsubscribe = this.usersRef.doc(this.currUserUid).collection('Rooms').onSnapshot(snapshot => { //listen to a room creation\r\n                snapshot.docChanges().forEach(change => {\r\n                  if (this.state.otherUserConnection && change.type === \"added\" && change.doc.data() && !change.doc.data().answer) {\r\n                    this.setState({ newVideo: \"added\" });\r\n                    this.setState({ roomId: change.doc.id }, () => {\r\n                      var con = window.confirm(`${this.state.linkedUserDetails.fName} הזמין אותך לשיחת וידאו. האם אתה מעוניין להצטרף?`)\r\n                      if (con)\r\n                        this.directVid(false);\r\n                    });\r\n                  }\r\n                  else if (change.type === \"removed\")\r\n                    this.setState({ roomId: \"\", newVideo: \"removed\" });\r\n                });\r\n              });\r\n              this.setState({ stopSnap: unsubscribe });\r\n            }\r\n          })\r\n          .catch((e) => console.log(e.name));\r\n      }\r\n    }\r\n  }\r\n\r\n  directVid = (hosting) => {\r\n    this.setState({ directVid: true, hostVid: hosting })\r\n  }\r\n\r\n  hrefClick = (e) => {\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך לעזוב את האתר?\");\r\n    if (!con)\r\n      e.preventDefault();\r\n  }\r\n\r\n  routeToVideo = () => {\r\n    if (this.state.directVid)\r\n      return (<Redirect push to=\"/VideoPage\" ></Redirect>);\r\n    return null;\r\n  }\r\n\r\n  getWallRouteStatus = () => {\r\n    this.setState({ routeToWall: true })\r\n  }\r\n\r\n  routeToWall = () => {\r\n    if (this.state.routeToWall) {\r\n      this.setState({ routeToWall: false })\r\n      return (<Redirect push to=\"/Wall\" ></Redirect>);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getMeetingRouteStatus = () => {\r\n    this.setState({ routeToMeeting: true })\r\n  }\r\n\r\n  routeToMeeting = () => {\r\n    if (this.state.routeToMeeting) {\r\n      this.setState({ routeToMeeting: false })\r\n      return (<Redirect push to=\"/Meeting\" ></Redirect>);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  waitUntilPageIsLoaded = () => {\r\n    if (this.state.loadingUser || this.state.loadingLinkedUser)\r\n      return (\r\n        <div className=\"loader-element\">\r\n          <h1>אנא המתן... </h1>\r\n          <Loader color=\"#776078\" width=\"300px\" height=\"300px\" type=\"Bars\" />\r\n        </div>\r\n      );\r\n    else\r\n      return (\r\n        <Switch>\r\n          <Route path=\"/VideoPage\">\r\n            <VideoPage\r\n              userName={this.state.userDetails.fName}\r\n              linkedName={this.state.linkedUserDetails.fName}\r\n              linkId={this.state.userDetails.link_user}\r\n              myLinkId={this.state.linkedUserDetails.link_user}\r\n              modifyVideoStream={this.modifyVideoStream}\r\n              directVid={this.state.directVid}\r\n              hostVid={this.state.hostVid}\r\n              room_id={this.state.roomId}\r\n              removeDocs={this.removeDocs}\r\n            />\r\n\r\n          </Route>{\" \"}\r\n          <Route path=\"/Wall\">\r\n            <div className=\"app-page\">\r\n              <Profile\r\n                userDetails={this.state.userDetails}\r\n                profilePic={this.state.profilePicture}\r\n              />\r\n              <WallPost\r\n                userName={this.state.userDetails.fName + \" \" + this.state.userDetails.lName}\r\n                friendName={this.state.linkedUserDetails.fName + \" \" + this.state.linkedUserDetails.lName}\r\n                myProfilePic={this.state.profilePicture}\r\n                friendProfilePic={this.state.friendProfile}\r\n              />\r\n              <Profile\r\n                userDetails={this.state.linkedUserDetails}\r\n                profilePic={this.state.friendProfile}\r\n              />\r\n            </div>{\" \"}\r\n            {this.routeToVideo()}\r\n          </Route>{\" \"}\r\n          <Route path=\"/Home\">\r\n            <HomePage\r\n              myDetails={this.state.userDetails}\r\n              linkedDetails={this.state.linkedUserDetails}\r\n              directVid={this.directVid}\r\n              newVideo={this.state.newVideo}\r\n              otherUserConnection={this.state.otherUserConnection}\r\n              otherUserLastOnline={this.state.otherUserLastOnline}\r\n              next_meeting={this.state.next_meeting}\r\n              getNextMeeting={this.getNextMeeting}\r\n              loadingNextMeeting={this.state.loadingNextMeeting}\r\n              routeToWall={this.getWallRouteStatus}\r\n              routeToMeeting={this.getMeetingRouteStatus}\r\n              myProfilePic={this.state.profilePicture}\r\n              friendProfilePic={this.state.friendProfile}\r\n              changeProfilePictue={this.changeProfilePictue}\r\n            />\r\n            {this.routeToWall()}\r\n            {this.routeToVideo()}\r\n            {this.routeToMeeting()}\r\n          </Route>{\" \"}\r\n          <Route path=\"/Meeting\">\r\n            <Meeting />\r\n            {this.routeToVideo()}\r\n          </Route>{\" \"}\r\n          <Redirect push to=\"/Home\" ></Redirect>\r\n        </Switch>\r\n      );\r\n  }\r\n\r\n  changePassword = () => {\r\n    this.setState({ pwdRender: true })\r\n  }\r\n\r\n  closeChangePassword = () => {\r\n    this.setState({ pwdRender: false })\r\n  }\r\n\r\n  renderPwd = () => {\r\n    if (this.state.pwdRender)\r\n      return (<ChangePassword parentCallback={this.closeChangePassword} email={this.state.userDetails.email} />);\r\n    else\r\n      return null;\r\n  }\r\n\r\n  render() {\r\n\r\n    const activeTabStyle = {\r\n      fontWeight: \"bold\",\r\n      backgroundColor: \"#4CAF50\",\r\n    };\r\n\r\n    return (\r\n      <div className=\"main-page-app\" style={{ zoom: this.state.zoom }}>\r\n        <Router>\r\n          <div>\r\n            <nav>\r\n              <a\r\n                href=\"https://www.bigbrothers.org.il/\"\r\n                onClick={(e) => this.hrefClick(e)}>\r\n                <img\r\n                  src={logo}\r\n                  alt=\"\"\r\n                  className=\"MainLogo\"\r\n                />\r\n              </a>\r\n              <ul className=\"nav\">\r\n                <li className=\"nav-item \">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/Home\"\r\n                    activeStyle={activeTabStyle}\r\n                    onClick={(event) => this.checkIfVideo(event)}\r\n                  >\r\n                    בית{\" \"}\r\n                  </NavLink>{\" \"}\r\n                </li>{\" \"}\r\n                <li className=\"nav-item \">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/Wall\"\r\n                    activeStyle={activeTabStyle}\r\n                    onClick={(event) => this.checkIfVideo(event)}\r\n                  >\r\n                    קיר{\" \"}\r\n                  </NavLink>{\" \"}\r\n                </li>{\" \"}\r\n                <li className=\"nav-item \">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/VideoPage\"\r\n                    activeStyle={activeTabStyle}\r\n                  >\r\n                    שיחת וידאו{\" \"}\r\n                  </NavLink>{\" \"}\r\n                </li>{\" \"}\r\n                <li className=\"nav-item\">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/Meeting\"\r\n                    activeStyle={activeTabStyle}\r\n                    onClick={(event) => this.checkIfVideo(event)}\r\n                  >\r\n                    קביעת פגישה{\" \"}\r\n                  </NavLink>{\" \"}\r\n                </li>{\" \"}\r\n              </ul>{\" \"}\r\n              <div className=\"navbar-options\">\r\n                <button onClick={this.changePassword} className=\"btn btn-outline-info change-pwd-btn\"><h6>שינוי סיסמא</h6></button>\r\n                <h1 className=\"username-home\">שלום, {this.state.userDetails.fName + \" \" + this.state.userDetails.lName}</h1>\r\n              </div>\r\n              <button className=\"btn btn-danger sign-out-btn\" onClick={this.logout}>התנתק</button>\r\n            </nav>{\" \"}\r\n            {/* A <Switch> looks through its children <Route>s and\r\n                                                        renders the first one that matches the current URL. */}{\" \"}\r\n            {this.waitUntilPageIsLoaded()}\r\n          </div>{\" \"}\r\n        </Router>{\" \"}\r\n        {this.renderPwd()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport \"./LoginForm.css\";\r\nimport firebase from \"../config/Firebase\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport logo from '../static_pictures/big_brothers_big_sisters.png'\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      pwdAttempt: 0,\r\n      prevEmail: \"\"\r\n    };\r\n\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n  }\r\n\r\n  resetPwd = () => {\r\n    if (this.state.username === \"\") {\r\n      alert(\"אנא הכנס כתובת אימייל בשדה המתאים\");\r\n      return;\r\n    }\r\n    firebase\r\n      .auth()\r\n      .sendPasswordResetEmail(this.state.username)\r\n      .then(() => alert(\"הסיסמא החדשה נשלחה אליך למייל\"))\r\n      .catch(() => alert(\"שגיאה בהזנת הנתונים\"));\r\n  };\r\n\r\n  onLoginSuccess() {\r\n    console.log(\"Successful login\");\r\n  }\r\n\r\n  componentDidUpdate(prevProp) {\r\n    if (this.props.isLoggedIn !== prevProp.isLoggedIn)\r\n      this.setState({ loading: false });\r\n  }\r\n\r\n  onLoginFail() {\r\n    alert(\"שם משתמש או סיסמא שגויים\");\r\n    this.setState({ password: \"\", loading: false });\r\n  }\r\n\r\n  onLoginPress(e) {\r\n    e.preventDefault();\r\n    if (this.state.username === \"\") {\r\n      alert(\"אנא הכנס שם משתמש\");\r\n      return;\r\n    }\r\n    if (this.state.password === \"\") {\r\n      alert(\"אנא הכנס סיסמא\");\r\n      return;\r\n    }\r\n\r\n    const username = this.state.username;\r\n    const password = this.state.password;\r\n    this.setState({ loading: true });\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(username, password)\r\n      .then(this.onLoginSuccess.bind(this))\r\n      .catch(this.onLoginFail.bind(this));\r\n  }\r\n\r\n  renderButton() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <Loader\r\n          className=\"indicator\"\r\n          type=\"Bars\"\r\n          height=\"100px\"\r\n          width=\"100px\"\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          type=\"submit\"\r\n          id=\"submit-login\"\r\n          className=\"btn btn-lg btn-success\"\r\n        >\r\n          התחבר\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-menu\">\r\n        <img\r\n          src={logo}\r\n          alt=\"asfsa\"\r\n          className=\"Login-logo\"\r\n        />\r\n        <h1 className=\"headline\">ברוכים הבאים לאזור האישי </h1>\r\n        <form className=\"px-4 py-3\" onSubmit={(e) => this.onLoginPress(e)}>\r\n          <div className=\"login-fm\">\r\n            <div className=\"form-group login-form w-100\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control input-login\"\r\n                id=\"userName\"\r\n                placeholder=\"שם משתמש\"\r\n                title=\"שם משתמש\"\r\n                value={this.state.username}\r\n                onChange={(e) => this.setState({ username: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"form-group login-form w-100\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control input-login\"\r\n                id=\"exampleDropdownFormPassword2\"\r\n                placeholder=\"סיסמא\"\r\n                title=\"סיסמא\"\r\n                value={this.state.password}\r\n                onChange={(e) => this.setState({ password: e.target.value })}\r\n              />\r\n              <br />\r\n              {this.renderButton()}\r\n              <br />\r\n              <br />\r\n              <button\r\n                type=\"button\"\r\n                className=\"badge badge-light forget-pwd\"\r\n                onClick={this.resetPwd}\r\n              >\r\n                שכחתי את הסיסמא\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from \"react\";\r\nimport \"./AdminUser.css\";\r\nimport firebase from \"../../config/Firebase\"\r\n\r\nclass AdminUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      id: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      area: \"\",\r\n      birthDate: \"\",\r\n      type: \"\",\r\n      addOnce: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.usersRef.doc(user.uid).get().then(doc => {\r\n          if (!doc.exists && this.state.addOnce) {\r\n            this.setState({ addOnce: false });\r\n            var newUser = {\r\n              fName: this.state.firstName,\r\n              lName: this.state.lastName,\r\n              id: this.state.id,\r\n              email: this.state.email,\r\n              phone: this.state.phone,\r\n              area: this.state.area,\r\n              type: this.state.type,\r\n              birthDate: this.state.birthDate\r\n            }\r\n            if (this.state.address !== \"\")\r\n              newUser.address = this.state.address;\r\n            if (this.state.addOnce === false) {\r\n              this.usersRef.doc(user.uid).set(newUser)\r\n                .then(() => {\r\n                  alert(\"המשתמש נוסף למערכת בהצלחה!\");\r\n                  this.setState({\r\n                    addOnce: true,\r\n                    firstName: \"\", lastName: \"\", id: \"\",\r\n                    email: \"\", phone: \"\", address: \"\", area: \"\",\r\n                    birthDate: \"\", type: \"\"\r\n                  })\r\n                })\r\n                .catch((e) => console.log(e.name))\r\n            }\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  addUser = (event) => {\r\n    event.preventDefault();\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך להוסיף משתמש זה?\")\r\n    if (!con)\r\n      return;\r\n    this.usersRef.get()\r\n      .then(querySnap => querySnap.forEach(doc => {\r\n        if (doc.data().id === this.state.id) {\r\n          alert(\"כבר קיים משתמש במערכת עם מספר תעודת זהות זהה.\");\r\n          throw Error(500);\r\n        }\r\n      }))\r\n      .then(() => {\r\n        firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.id)\r\n          .catch(() => {\r\n            alert(\"בעיה בהוספת משתמש חדש למערכת. ייתכן והסיסמא שהוכנסה קצרה או חלשה מדי או שהאימייל שהוכנס כבר קיים במערכת.\");\r\n          })\r\n      })\r\n      .catch(() => console.log(\"נוצרה בעיה בהוספת משתמש חדש למערכת.\"))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"add-user-form\" onSubmit={this.addUser}>\r\n        <header className=\"title\">\r\n          <h1 className=\"add-user-h\">\r\n            <u> הוספת משתמש חדש</u>\r\n          </h1>\r\n        </header>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputFirstName\">שם פרטי</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"inputFirstName\"\r\n              value={this.state.firstName}\r\n              placeholder=\"שם פרטי\"\r\n              title=\"שם פרטי\"\r\n              onChange={(e) => this.setState({ firstName: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputLastName\">שם משפחה</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"inputLastName\"\r\n              value={this.state.lastName}\r\n              placeholder=\"שם משפחה\"\r\n              onChange={(e) => this.setState({ lastName: e.target.value })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputEmail\">אימייל</label>\r\n            <input\r\n              required\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"inputEmail\"\r\n              value={this.state.email}\r\n              placeholder=\"email@example.com\"\r\n              onChange={(e) => this.setState({ email: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group col-md-61\">\r\n            <label htmlFor=\"inputId\">תעודת זהות</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"inputId\"\r\n              value={this.state.id}\r\n              placeholder=\"תעודת זהות\"\r\n              onChange={(e) => this.setState({ id: e.target.value })}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"inputPhone\">טלפון</label>\r\n            <input\r\n              required\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"inputPhone\"\r\n              value={this.state.phone}\r\n              placeholder=\"טלפון\"\r\n              onChange={(e) => this.setState({ phone: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputCity\">אזור מגורים</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"inputCity\"\r\n              value={this.state.area}\r\n              placeholder=\"אזור מגורים\"\r\n              onChange={(e) => this.setState({ area: e.target.value })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"inputAddress2\">כתובת מגורים</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"inputAddress2\"\r\n            value={this.state.address}\r\n            placeholder=\"כתובת מגורים\"\r\n            onChange={(e) => this.setState({ address: e.target.value })}\r\n          />\r\n        </div>\r\n        <div className=\"form-row\">\r\n\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputCity\">תאריך לידה</label>\r\n            <input\r\n              required\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              id=\"inputBirthDate\"\r\n              value={this.state.birthDate}\r\n              placeholder=\"תאריך לידה\"\r\n              onChange={(e) => this.setState({ birthDate: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-md-4\">\r\n            <label htmlFor=\"inputState\">סוג המשתמש</label>\r\n            <select\r\n              required id=\"inputState\"\r\n              className=\"form-control\"\r\n              value={this.state.type}\r\n              onChange={(e) => this.setState({ type: e.target.value })}>\r\n              <option id=\"ff\" disabled value=\"\"> הכנס סוג משתמש</option>\r\n              <option >חונך</option>\r\n              <option >חניך</option>\r\n              <option >אדמין</option>\r\n\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-success add-new-user-btn\">\r\n          הוסף משתמש חדש\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminUser;\r\n","import React, { Component } from \"react\";\r\nimport \"./UpdateUser.css\";\r\nimport firebase from \"../../config/Firebase\"\r\n\r\nclass UpdateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            id: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            address: \"\",\r\n            area: \"\",\r\n            birthDate: \"\",\r\n            type: \"\",\r\n            transferEnable: false,\r\n            docId: \"\"\r\n        };\r\n        this.usersRef = firebase.firestore().collection('Users');\r\n    }\r\n\r\n    getUserByEmailOrId(event) {\r\n        event.preventDefault();\r\n        if (this.state.email === \"\" && this.state.id === \"\") {\r\n            alert(\"אנא מלא את אחד מהשדות: אימייל או תעודת זהות\");\r\n            return;\r\n        }\r\n        if (this.state.email !== \"\" && this.state.id !== \"\") {\r\n            alert(\"אנא מלא רק אחד מהשדות: אימייל או תעודת זהות\");\r\n            return;\r\n        }\r\n        if (this.state.email !== \"\") {\r\n            this.usersRef\r\n                .where('email', \"==\", this.state.email)\r\n                .limit(1)\r\n                .get()\r\n                .then(docs => {\r\n                    if (docs.empty) {\r\n                        alert(\"משתמש זה לא קיים במערכת\");\r\n                        throw Error(500);\r\n                    }\r\n                    else {\r\n                        docs.forEach(doc => {\r\n                            this.setState({\r\n                                firstName: doc.data().fName,\r\n                                lastName: doc.data().lName,\r\n                                id: doc.data().id,\r\n                                phone: doc.data().phone,\r\n                                address: doc.data().address,\r\n                                area: doc.data().area,\r\n                                birthDate: doc.data().birthDate,\r\n                                type: doc.data().type,\r\n                                transferEnable: true,\r\n                                docId: doc.id\r\n                            })\r\n                        })\r\n                    }\r\n                })\r\n                .catch((e) => console.log(e.name));\r\n        }\r\n        if (this.state.id !== \"\") {\r\n            this.usersRef\r\n                .where('id', \"==\", this.state.id)\r\n                .limit(1)\r\n                .get()\r\n                .then(docs => {\r\n                    if (docs.empty) {\r\n                        alert(\"משתמש זה לא קיים במערכת\");\r\n                        throw Error(500);\r\n                    }\r\n                    else {\r\n                        docs.forEach(doc => {\r\n                            this.setState({\r\n                                firstName: doc.data().fName,\r\n                                lastName: doc.data().lName,\r\n                                email: doc.data().email,\r\n                                phone: doc.data().phone,\r\n                                address: doc.data().address,\r\n                                area: doc.data().area,\r\n                                birthDate: doc.data().birthDate,\r\n                                type: doc.data().type,\r\n                                transferEnable: true,\r\n                                docId: doc.id\r\n                            })\r\n                        })\r\n                    }\r\n                })\r\n                .catch((e) => console.log(e.name));\r\n        }\r\n    }\r\n\r\n    UpdateUser = (event) => {\r\n        event.preventDefault();\r\n        var con = window.confirm(\"האם אתה בטוח שברצונך לעדכן משתמש זה?\")\r\n        if (!con)\r\n            return;\r\n        var newUser = {\r\n            fName: this.state.firstName,\r\n            lName: this.state.lastName,\r\n            phone: this.state.phone,\r\n            area: this.state.area,\r\n            type: this.state.type,\r\n            birthDate: this.state.birthDate\r\n        }\r\n        if (this.state.address !== \"\")\r\n            newUser.address = this.state.address;\r\n        this.usersRef.doc(this.state.docId).update(newUser)\r\n            .then(() => {\r\n                alert(\"פרטי המשתמש התעדכנו במערכת בהצלחה!\");\r\n                this.setState({\r\n                    firstName: \"\", lastName: \"\", id: \"\",\r\n                    email: \"\", phone: \"\", address: \"\", area: \"\",\r\n                    birthDate: \"\", type: \"\",\r\n                    transferEnable: false\r\n                })\r\n            })\r\n            .catch((e) => console.log(e.name + \" נוצרה בעיה בעדכון פרטי המשתמש.\"));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"update-user-form\">\r\n                <header className=\"title\">\r\n                    <h1 className=\"update-user-h\">\r\n                        <u> עדכון פרטי משתמש</u>\r\n                    </h1>\r\n                </header>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputFirstName\">שם פרטי</label>\r\n                        <input\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"inputFirstName\"\r\n                            value={this.state.firstName}\r\n                            placeholder=\"שם פרטי\"\r\n                            title=\"שם פרטי\"\r\n                            onChange={(e) => this.setState({ firstName: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputLastName\">שם משפחה</label>\r\n                        <input\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"inputLastName\"\r\n                            value={this.state.lastName}\r\n                            placeholder=\"שם משפחה\"\r\n                            onChange={(e) => this.setState({ lastName: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputEmail\">אימייל</label>\r\n                        <input\r\n                            disabled={this.state.transferEnable}\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            id=\"inputEmail\"\r\n                            value={this.state.email}\r\n                            placeholder=\"email@example.com\"\r\n                            onChange={(e) => this.setState({ email: e.target.value })}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-md-61\">\r\n                        <label htmlFor=\"inputId\">תעודת זהות</label>\r\n                        <input\r\n                            disabled={this.state.transferEnable}\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            id=\"inputId\"\r\n                            value={this.state.id}\r\n                            placeholder=\"תעודת זהות\"\r\n                            onChange={(e) => this.setState({ id: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputPhone\">טלפון</label>\r\n                        <input\r\n                            disabled={!this.state.transferEnable}\r\n                            required\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            id=\"inputPhone\"\r\n                            value={this.state.phone}\r\n                            placeholder=\"טלפון\"\r\n                            onChange={(e) => this.setState({ phone: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputCity\">אזור מגורים</label>\r\n                        <input\r\n                            disabled={!this.state.transferEnable}\r\n                            required\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"inputCity\"\r\n                            value={this.state.area}\r\n                            placeholder=\"אזור מגורים\"\r\n                            onChange={(e) => this.setState({ area: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"inputAddress2\">כתובת מגורים</label>\r\n                    <input\r\n                        disabled={!this.state.transferEnable}\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"inputAddress2\"\r\n                        value={this.state.address}\r\n                        placeholder=\"כתובת מגורים\"\r\n                        onChange={(e) => this.setState({ address: e.target.value })}\r\n                    />\r\n                </div>\r\n                <div className=\"form-row\">\r\n\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputCity\">תאריך לידה</label>\r\n                        <input\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            type=\"date\"\r\n                            className=\"form-control\"\r\n                            id=\"inputBirthDate\"\r\n                            value={this.state.birthDate}\r\n                            placeholder=\"תאריך לידה\"\r\n                            onChange={(e) => this.setState({ birthDate: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-4\">\r\n                        <label htmlFor=\"inputState\">סוג המשתמש</label>\r\n                        <select\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            id=\"inputState\"\r\n                            className=\"form-control\"\r\n                            value={this.state.type}\r\n                            onChange={(e) => this.setState({ type: e.target.value })}>\r\n                            <option id=\"ff\" disabled value=\"\"> הכנס סוג משתמש</option>\r\n                            <option >חונך</option>\r\n                            <option >חניך</option>\r\n                            <option >מנהל</option>\r\n                            <option >אדמין</option>\r\n\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={this.state.transferEnable}\r\n                    className=\"btn btn-success load-user-btn\"\r\n                    onClick={(e) => this.getUserByEmailOrId(e)}\r\n                >\r\n                    טען פרטי משתמש\r\n        </button>\r\n                <button type=\"submit\"\r\n                    disabled={!this.state.transferEnable}\r\n                    className=\"btn btn-warning update-user-btn\"\r\n                    onClick={this.UpdateUser}\r\n                >\r\n                    עדכן פרטי משתמש\r\n        </button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UpdateUser;\r\n","import React, { Component } from \"react\";\r\nimport \"./DeleteUser.css\";\r\nimport firebase from \"../../config/Firebase\"\r\n\r\nclass DeleteUser extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      id: \"\",\r\n      email: \"\"\r\n    }\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n  }\r\n\r\n  valid = (querySnapshot) => {\r\n    this.usersRef.where('id', '==', this.state.id)\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        if (querySnapshot.empty) {\r\n          alert(\"המשתמש שאתה מנסה למחוק לא קיים במערכת.\");\r\n          throw Error(500);\r\n        }\r\n      })\r\n      .catch((e) => console.log(\"משתמש לא קיים במערכת\"));\r\n  }\r\n\r\n  deleteUser = (event) => {\r\n    event.preventDefault();\r\n    this.valid();\r\n    this.usersRef.where('id', '==', this.state.id)\r\n      .limit(1)\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach(doc => {\r\n          this.setState({ email: doc.data().email }, () => {\r\n            var con = window.confirm(\"האם אתה בטוח שברצונך למחוק את \" + doc.data().fName + \" \" + doc.data().lName + \"?\")\r\n            if (con) {\r\n              if (typeof (doc.data().link_user) !== 'undefined' && doc.data().link_user !== \"\")\r\n                this.usersRef.doc(doc.data().link_user).update({ link_user: \"\" })\r\n              doc.ref.delete()\r\n                .then(() => {\r\n                  alert(`המשתמש ${doc.data().fName + \" \" + doc.data().lName} נמחק מהמערכת.`);\r\n                  this.setState({ id: \"\" })\r\n                }\r\n                );\r\n            }\r\n          });\r\n        });\r\n      })\r\n      .catch((e) => console.log(e.name))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <form className=\"del-user-form\" onSubmit={this.deleteUser}>\r\n        <h1 className=\"delete-title\"><u>מחיקת משתמש</u></h1>\r\n        <div className=\"form-group row\">\r\n          <label className=\"del-lab\" htmlFor=\"inputPassword3\">תעודת זהות</label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"inputPassword3\"\r\n              placeholder=\"תעודת זהות\"\r\n              value={this.state.id}\r\n              onChange={(e) => this.setState({ id: e.target.value })} required />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group row\">\r\n          <div className=\"col-sm-10\">\r\n            <button type=\"submit\" className=\"btn btn-danger del-btn\">הסר משתמש</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteUser;\r\n","import React, { Component } from \"react\";\r\nimport \"./NoLinkedUsers.css\";\r\n\r\nclass NoLinkedUsers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  closeForm = () => {\r\n    this.props.parentCallback(false);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"col-md-25 text-center pop-up-div-no-link\">\r\n          <div className=\"pop-up-nlink\">\r\n            <span className=\"helper-nlink\"> </span>\r\n            <div className=\"center-form\">\r\n              <div\r\n                className=\"popupCloseBtn\"\r\n                id=\"close-watch\"\r\n                onClick={this.closeForm}\r\n              >\r\n                x\r\n              </div>\r\n              <table className=\"table table-striped table-dark m-100 table-responsive no-link-table\" >\r\n                <thead>\r\n                  <tr><th colSpan=\"5\" className=\"h1 table-title\">משתמשים ללא חונך/חניך</th></tr>\r\n                  <tr className=\"h2 table-cols\">\r\n                    <th className=\"align-middle\">שם</th>\r\n                    <th className=\"align-middle\">תפקיד</th>\r\n                    <th className=\"align-middle\">ת\"ז</th>\r\n                    <th className=\"align-middle\">אימייל</th>\r\n                    <th className=\"align-middle\">טלפון</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {this.props.renderNoLink()}\r\n                </tbody>\r\n              </table>\r\n            </div>{\" \"}\r\n          </div>{\" \"}\r\n        </div>{\" \"}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NoLinkedUsers;\r\n","import React, { Component } from \"react\";\r\nimport Loader from 'react-loader-spinner'\r\nimport \"./UsersTable.css\";\r\nimport firebase from \"../../config/Firebase\"\r\nimport NoLinkedUsers from \"./NoLinkedUsers\";\r\n\r\nclass UsersTable extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            usersArr: [],\r\n            linkedUserArr: [],\r\n            noLinkedUsers: [],\r\n            noLink: false\r\n        }\r\n        this.usersRef = firebase.firestore().collection('Users');\r\n    }\r\n\r\n    componentDidMount() {\r\n        var linkedUserId;\r\n        this.usersRef\r\n            .where('type', \"==\", \"חונך\")\r\n            .orderBy('fName', 'asc')\r\n            .orderBy('lName', 'asc')\r\n            .get()\r\n            .then(queryShot => {\r\n                queryShot.forEach(\r\n                    (doc) => {\r\n                        linkedUserId = doc.data().link_user;\r\n                        if (typeof (linkedUserId) !== 'undefined' && linkedUserId !== \"\") {\r\n                            this.setState({ usersArr: [...this.state.usersArr, doc.data()] })\r\n                            this.usersRef.doc(linkedUserId).get()\r\n                                .then(linkedDoc => this.setState({ linkedUserArr: [...this.state.linkedUserArr, linkedDoc.data()] }))\r\n                        }\r\n                    }\r\n                )\r\n            })\r\n            .catch((e) => console.log(e.name));\r\n        this.usersRef\r\n            .orderBy('type', 'desc')\r\n            .orderBy('fName', 'asc')\r\n            .orderBy('lName', 'asc')\r\n            .get()\r\n            .then(queryShot => {\r\n                queryShot.forEach(\r\n                    (doc) => {\r\n                        linkedUserId = doc.data().link_user;\r\n                        if ((typeof (doc.data().link_user) === 'undefined' || doc.data().link_user === \"\") &&\r\n                            (doc.data().type === \"חונך\" || doc.data().type === \"חניך\")) {\r\n                            var newUser = {\r\n                                name: doc.data().fName + \" \" + doc.data().lName,\r\n                                role: doc.data().type,\r\n                                id: doc.data().id,\r\n                                email: doc.data().email,\r\n                                phone: doc.data().phone\r\n                            };\r\n                            this.setState({ noLinkedUsers: [...this.state.noLinkedUsers, newUser] })\r\n                        }\r\n                    })\r\n            })\r\n            .catch((e) => console.log(e.name));\r\n    }\r\n\r\n    renderLinked = (index, dataType) => {\r\n        if (typeof (this.state.linkedUserArr[index]) !== 'undefined' && this.state.linkedUserArr[index] !== null) {\r\n            if (dataType === \"name\")\r\n                return (\r\n                    <td className=\"align-middle\">{this.state.linkedUserArr[index].fName + \" \" + this.state.linkedUserArr[index].lName}</td>\r\n                );\r\n            else if (dataType === \"id\")\r\n                return (\r\n                    <td className=\"align-middle\">{this.state.linkedUserArr[index].id}</td>\r\n                );\r\n            else if (dataType === \"email\")\r\n                return (\r\n                    <td className=\"align-middle\">{this.state.linkedUserArr[index].email}</td>\r\n                );\r\n            else\r\n                return (\r\n                    <td className=\"align-middle\">{this.state.linkedUserArr[index].phone}</td>\r\n                );\r\n\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n\r\n    renderTableLine = () => {\r\n\r\n        return (this.state.usersArr.map((data, index) =>\r\n            <tr key={\"row\" + index} className=\"h5 table-cols\">\r\n                <td className=\"align-middle\">{data.fName + \" \" + data.lName}</td>\r\n                <td className=\"align-middle\">{data.id}</td>\r\n                <td className=\"align-middle\">{data.email}</td>\r\n                <td className=\"align-middle\">{data.phone}</td>\r\n                {this.renderLinked(index, \"name\")}\r\n                {this.renderLinked(index, \"id\")}\r\n                {this.renderLinked(index, \"email\")}\r\n                {this.renderLinked(index, \"phone\")}\r\n            </tr >\r\n        ));\r\n    }\r\n\r\n    renderNoLink = () => {\r\n        return (this.state.noLinkedUsers.map((data, index) =>\r\n            <tr key={\"row\" + index} className=\"h4 table-cols\">\r\n                <td className=\"align-middle\">{data.name}</td>\r\n                <td className=\"align-middle\">{data.role}</td>\r\n                <td className=\"align-middle\">{data.id}</td>\r\n                <td className=\"align-middle\">{data.email}</td>\r\n                <td className=\"align-middle\">{data.phone}</td>\r\n\r\n            </tr >\r\n        ));\r\n    }\r\n\r\n    closeNoLink = () => {\r\n        this.setState({ noLink: false })\r\n    }\r\n\r\n    showNoLinkedUsers = () => {\r\n        this.setState({ noLink: true })\r\n    }\r\n\r\n    noLinkAppearance = () => {\r\n        if (this.state.noLink)\r\n            return (<NoLinkedUsers parentCallback={this.closeNoLink} renderNoLink={this.renderNoLink} />)\r\n        return null;\r\n    }\r\n\r\n    renderTable = () => {\r\n        if (typeof (this.state.linkedUserArr[0]) === 'undefined')\r\n            return (<Loader className=\"user-table-indicator\" type=\"Bars\" height=\"400px\" width=\"400px\"></Loader>);\r\n        else\r\n            return (\r\n                <div className=\"table-div\">\r\n                    <table className=\"table table-striped table-dark w-75 table-responsive users-table\" >\r\n                        <thead>\r\n                            <tr><th colSpan=\"8\" className=\"h1 table-title\">טבלת חונך / חניך</th></tr>\r\n                            <tr className=\"h2 table-cols\">\r\n                                <th className=\"align-middle\">שם החונך</th>\r\n                                <th className=\"align-middle\">ת\"ז</th>\r\n                                <th className=\"align-middle\">אימייל</th>\r\n                                <th className=\"align-middle\">טלפון</th>\r\n                                <th className=\"align-middle\">שם החניך</th>\r\n                                <th className=\"align-middle\">ת\"ז</th>\r\n                                <th className=\"align-middle\">אימייל</th>\r\n                                <th className=\"align-middle\">טלפון</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.renderTableLine()}\r\n                        </tbody>\r\n                    </table>\r\n                    <button className=\"btn btn-success show-no-link-btn\" onClick={this.showNoLinkedUsers}>הצג משתמשים ללא חונך/חניך</button>\r\n                    {this.noLinkAppearance()}\r\n                </div>\r\n            );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.renderTable()\r\n        );\r\n    }\r\n}\r\n\r\nexport default UsersTable;\r\n","import React, { Component } from \"react\";\r\nimport firebase from \"../../config/Firebase\"\r\nimport \"./LinkUsers.css\";\r\n\r\nclass LinkUsers extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            studentId: \"\",\r\n            mentorId: \"\",\r\n            studentName: \"\",\r\n            mentorName: \"\",\r\n            studentRef: \"\",\r\n            mentorRef: \"\"\r\n        }\r\n        this.usersRef = firebase.firestore().collection('Users');\r\n    }\r\n\r\n    isValid = (querySnapshot, type) => {\r\n        if (querySnapshot.empty) {\r\n            alert(\"ה\" + type + \" לא קיים במערכת\")\r\n            throw Error(500);\r\n        }\r\n        querySnapshot.forEach(doc => {\r\n            if (doc.data().type !== type) {\r\n                alert(\"המשתמש אינו \" + type);\r\n                throw Error(500);\r\n            }\r\n            if (type === \"חניך\")\r\n                this.setState({ studentRef: doc.ref.id, studentName: doc.data().fName + \" \" + doc.data().lName })\r\n            else if (type === \"חונך\")\r\n                this.setState({ mentorRef: doc.ref.id, mentorName: doc.data().fName + \" \" + doc.data().lName })\r\n        });\r\n    }\r\n\r\n    verifyUsers = () => {\r\n        var studentId = this.state.studentId;\r\n        var mentorId = this.state.mentorId;\r\n        this.usersRef.where('id', '==', studentId)\r\n            .limit(1)\r\n            .get()\r\n            .then((querySnapshot) => this.isValid(querySnapshot, \"חניך\"))\r\n            .then(() => this.usersRef.where('id', '==', mentorId)\r\n                .limit(1)\r\n                .get()\r\n                .then((querySnapshot) => this.isValid(querySnapshot, \"חונך\")))\r\n            .then(() => {\r\n                var con = window.confirm(\"האם אתה בטוח לבצונך לקשר את החונך \" + this.state.mentorName + \" לחניך \" + this.state.studentName + \"?\")\r\n                if (con) {\r\n                    this.linkUser(studentId);\r\n                    this.linkUser(mentorId);\r\n                    console.log(\"המשתמש עודכן בהצלחה!\");\r\n                    alert(\"עודכן בהצלחה!\\n\" + this.state.mentorName + \" הוא החונך של \" + this.state.studentName + \".\");\r\n                    this.setState({ studentId: \"\", mentorId: \"\" });\r\n                }\r\n            })\r\n            .catch(() => console.log(\"Error in adding new user\"));\r\n    }\r\n\r\n    linkUser = (curr) => {\r\n        var studentId = this.state.studentId;\r\n        var mentorId = this.state.mentorId;\r\n        var studentRef = this.state.studentRef;\r\n        var mentorRef = this.state.mentorRef;\r\n        this.usersRef.where('id', '==', curr)\r\n            .limit(1)\r\n            .get()\r\n            .then((querySnapshot) => {\r\n                querySnapshot.forEach((doc) => {\r\n                    if (curr === studentId)\r\n                        doc.ref.update({ link_user: mentorRef })\r\n                    else if (curr === mentorId)\r\n                        doc.ref.update({ link_user: studentRef })\r\n                }\r\n                );\r\n            }).catch((e) => console.log(e.name));\r\n    }\r\n\r\n    addLink = (event) => {\r\n        event.preventDefault();\r\n        this.verifyUsers();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"ad-user-form\" onSubmit={this.addLink}>\r\n                <header className=\"title\">\r\n                    <h1 className=\"add-user-h\">\r\n                        <u> קישור חניך לחונך</u>\r\n                    </h1>\r\n                </header>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label className=\"first-link-input-btn\" htmlFor=\"inputLinkFirstName\">תעודת זהות חניך</label>\r\n                        <input\r\n                            required\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            id=\"inputLinkFirstName\"\r\n                            value={this.state.studentId}\r\n                            placeholder=\"תעודת זהות חניך\"\r\n                            title=\"שם פרטי\"\r\n                            onChange={(e) => this.setState({ studentId: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label className=\"last-link-input-btn\" htmlFor=\"inputLinkLastName\">תעודת זהות חונך</label>\r\n                        <input\r\n                            required\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            id=\"inputLinkLastName\"\r\n                            value={this.state.mentorId}\r\n                            placeholder=\"תעודת זהות חונך\"\r\n                            onChange={(e) => this.setState({ mentorId: e.target.value })}\r\n                        />\r\n                        <button type=\"submit\" className=\"btn btn-primary link-users-btn\">\r\n                            הוסף קישור\r\n                         </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default LinkUsers;","import React, { Component } from \"react\";\r\nimport AdminUser from \"../partial/AdminUser\";\r\nimport UpdateUser from \"../partial/UpdateUser\"\r\nimport DeleteUser from \"../partial/DeleteUser\";\r\nimport UsersTable from \"../partial/UsersTable\"\r\nimport LinkUsers from \"../partial/LinkUsers\";\r\nimport firebase from \"../../config/Firebase\";\r\nimport logo from '../../static_pictures/big_brothers_big_sisters.png';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  NavLink,\r\n} from \"react-router-dom\";\r\nimport \"./AdminPage.css\";\r\n\r\nclass AdminPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      active: false,\r\n      zoom: Math.min(window.innerHeight / 620, window.innerWidth / 1536),\r\n      user_name: \"\"\r\n    };\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.uid = firebase.auth().currentUser.uid;\r\n  }\r\n  componentDidMount() {\r\n    var webSiteWidth = 1280;\r\n    var webScale = window.screen.width / webSiteWidth\r\n    document.querySelector('meta[name=\"viewport\"]').setAttribute('content', 'width=' + webSiteWidth + ', initial-scale=' + webScale + '');\r\n\r\n    window.addEventListener(\"resize\", this.resizeWin);\r\n    this.usersRef.doc(this.uid).get()\r\n      .then((doc) => {\r\n        this.setState({ user_name: doc.data().fName });\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  resizeWin = (e) => {\r\n    this.setState({\r\n      zoom: Math.min(window.innerHeight / 620, window.innerWidth / 1536),\r\n    });\r\n  };\r\n\r\n  logoutAdmin = () => {\r\n    var logOutConfirm = window.confirm(\"האם אתה בטוח שברצונך להתנתק מהמערכת?\");\r\n    if (!logOutConfirm)\r\n      return;\r\n    this.props.exitAdmin();\r\n    firebase.auth().signOut()\r\n      .then(() => {\r\n        console.log(\"Successful sign-out\")\r\n        // Sign-out successful.\r\n      }).catch((error) => {\r\n        console.log(\"Sign-out error\")\r\n        // An error happened.\r\n      });\r\n  }\r\n\r\n  hrefClick = (e) => {\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך לעזוב את האתר?\");\r\n    if (!con)\r\n      e.preventDefault();\r\n  }\r\n\r\n  render() {\r\n\r\n    const activeTabStyle = {\r\n      fontWeight: \"bold\",\r\n    };\r\n    return (\r\n      <div>\r\n        <div className=\"nmn\" style={{ zoom: this.state.zoom }}>\r\n          <nav>\r\n            <a\r\n              href=\"https://www.bigbrothers.org.il/\"\r\n              onClick={(e) => this.hrefClick(e)}>\r\n              <img\r\n                src={logo}\r\n                alt=\"\"\r\n                className=\"MainLogoAdmin\"\r\n              />\r\n            </a>\r\n            <h2 className=\"admin-title\">ברוך הבא למסך האדמין, {this.state.user_name}</h2>\r\n            <button className=\"btn btn-danger log-out-admin\" onClick={this.logoutAdmin}>התנתק</button>\r\n          </nav>\r\n          <Router>\r\n            <div className=\"sidenav admin-navbar\">\r\n              <ul className=\"nav\">\r\n                <li className=\"nav-item text-center\">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/AdminUser\"\r\n                    activeStyle={activeTabStyle}\r\n                  >\r\n                    הוספת משתמש חדש\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"nav-item text-center\">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/UpdateUser\"\r\n                    activeStyle={activeTabStyle}\r\n                  >\r\n                    עדכון פרטי משתמש\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"nav-item text-center\">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/DeleteUser\"\r\n                    activeStyle={activeTabStyle}\r\n                  >\r\n                    מחיקת משתמש\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"nav-item text-center\">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/LinkUsers\"\r\n                    activeStyle={activeTabStyle}\r\n                  >\r\n                    קישור חונך לחניך\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"nav-item text-center\">\r\n                  <NavLink\r\n                    className=\"tab\"\r\n                    to=\"/UsersTable\"\r\n                    activeStyle={activeTabStyle}\r\n                  >\r\n                    רשימת חונכים/ חניכים\r\n                  </NavLink>\r\n                </li>\r\n              </ul>\r\n            </div>{\" \"}\r\n            {/* A <Switch> looks through its children <Route>s and\r\n                                                    renders the first one that matches the current URL. */}{\" \"}\r\n            <Switch>\r\n              <Route path=\"/AdminUser\">\r\n                <AdminUser />\r\n              </Route>\r\n              <Route path=\"/UpdateUser\">\r\n                <UpdateUser />\r\n              </Route>\r\n              <Route path=\"/DeleteUser\">\r\n                <DeleteUser />\r\n              </Route>\r\n              <Route path=\"/UsersTable\">\r\n                <UsersTable />\r\n              </Route>{\" \"}\r\n              <Route path=\"/LinkUsers\">\r\n                <LinkUsers />\r\n              </Route>{\" \"}\r\n            </Switch>{\" \"}\r\n          </Router>{\" \"}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminPage;\r\n","import React, { Component } from \"react\";\r\nimport App from \"../mainPageComponents/App\";\r\nimport LoginForm from \"../loginComponents/LoginForm\";\r\nimport AdminPage from \"../adminComponents/main/AdminPage\";\r\nimport firebase from \"../config/Firebase\"\r\n\r\nclass AppIndex extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            isAdmin: false\r\n        };\r\n        this.usersRef = firebase.firestore().collection('Users');\r\n    }\r\n\r\n    determineIfAdmin = (type) => {\r\n        if (type === \"אדמין\" || this.state.isAdmin)\r\n            this.setState({ isAdmin: true });\r\n        else\r\n            this.setState({ isAdmin: false });\r\n    }\r\n\r\n    exitAdmin = () => {\r\n        this.setState({ isLoggedIn: false, isAdmin: false })\r\n    }\r\n\r\n    onAuthChanged = (user) => {\r\n        if (user) {\r\n            // User is signed in.\r\n            var userType;\r\n            var userUid = user.uid;\r\n            this.usersRef.doc(userUid).get()\r\n                .then(doc => {\r\n                    if (doc.exists)\r\n                        userType = doc.data().type;\r\n                    else\r\n                        userType = \"\";\r\n                })\r\n                .then(() => {\r\n                    this.determineIfAdmin(userType);\r\n                })\r\n                .then(() => this.setState({ isLoggedIn: true }))\r\n                .catch((e) => console.log(e.name));\r\n        }\r\n        else\r\n            // No user is signed in.\r\n            this.setState({ isLoggedIn: false });\r\n    }\r\n\r\n    componentDidMount() {\r\n        firebase.auth().onAuthStateChanged((user) => this.onAuthChanged(user));\r\n    }\r\n\r\n    renderContent() {\r\n        if (this.state.isLoggedIn && !this.state.isAdmin)\r\n            return (<App />)\r\n        if (this.state.isLoggedIn && this.state.isAdmin)\r\n            return (<AdminPage exitAdmin={this.exitAdmin} />)\r\n        else\r\n            return (<LoginForm determineIfAdmin={this.determineIfAdmin} isLoggedIn={this.state.isLoggedIn} />)\r\n    }\r\n\r\n    render() {\r\n        return (this.renderContent());\r\n    }\r\n}\r\n\r\nexport default AppIndex;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport AppIndex from \"./appIndex/AppIndex\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppIndex />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAMFBMVEXi4uKrq6vl5eWoqKjAwMDW1tbg4ODOzs6zs7OsrKy6urrHx8e+vr7b29vPz8+2trb54yHmAAAFSklEQVR4nO2d15ajMAxAQaYT4P//dnEo4xRmSFCzV/dp98xL7rEty01kmWEYhmEYhmEYhmEYhmEYhmEYhmEYhmEYhhEhECL9Y5DxRuXYF93UeLpb0Y9DMp6zR9l3rfPkK/f/uKaoh+glAaq6C9Qe8X8oxpglAerpyC6wLMpIJaEq/tLbJNs6QkcYunN+i2TeZ3E5QtWd11sbso9JEfoP2m93bMtYHKFsP/e7O3ZVFI7waQcNFN2oXxGGLxtwdbxpV4T6ip9XbAfVjnC7KOgdNfdUmK4Lzoq1XsUGQ3BW1Do1Vi2Kn1csdCqiCWpVRBRUqQhIY3BX1BZuMKaJJ0VdWeqcaiMLzoqVtFVIiS+Y542mRkSNMhuKog3+IFwVS2mzDZI+6mmVNCKQ9FGPkn5KEUd3xUHazlPRCeb5pKARqcLMgoZgM1AKapgUaZtQQyOSjkJPJ9yIlIF0QTqcArGf/Jw4UjfhjKghdPSCbpQ0zBiaUHYbnKOT5k7QEAoWQ8EpkT6S3g0FN4iJM7YNuczt8kHTSeQGIs8wlByI0LAICu4OA08TCiZuTIFGcKVPtsf2jNSeG1colQum9GvD3VDoCIPRUGgVzDUdyk2I1JtQGgyZBM2Q0DD5Xpp+pEl/tkh+xs+Sz9rSz7zpT2U2xFZP6a+A/4NdjPR3opLfTUx/R5jwrlCI5K5++iczPKdroofAHDOi7EE+xxJR+EYNR2oqexeDPppKP6BhuDEkfqE99Vtf5FOi9KWvjHyRqOAKLW0jKmhC2kZ04qPQQ3qTXTyQ3iF8jaDlMWnyL0rIgo2KMLNA00/V9FEPyXaG/EOEAKBYCktLPYI/FBUNwoULFU3eC+qrHYH7mFtVlNlBVNQpiKioVTD9yh//Q/UWlElDWTGFZy5P/a7RXu8LqkuDUfql2iku9FSnvIduwPBlM7pC+qefBupvqgo2uuuYPQLZycqeP36t5jniHaerl+5+kQlmvh37cwUGnZtiLbULUN4Oiwjvem0f0/h7AWC85UeWvh50H2sR4QCAoS4aF5S7Xv899WMWv96CL04+lHVf3DpP0fdjWaVSsDwg4aLzhmEYhnEOeEH6F+Hhbao5oblNTbskbG3bzHlNXWYJeMJrUpoHuWnb9WXMqan/BMvxwuJneRHpN0rmxuubs98ocd0Y2Qc85p9bn9TbLbuYWvK+tP9Ab5WM5Uss86r+211v524RbGjAeOX7FnNnVe54zW+R1Pwplq+3858cC6XjETKspwlO5xnpV2cVh476zjAgQzngDhyVneUT3PrSdRhM8zhIz7UoqC5PEQeKSo68ge7tk2uk5TzE74LkYyr5mxnpuwvYly7fKMrGG5xrXn8oSiY42B8IOlCUm/x5BAUVObroqijTUemDTKAoEW746mDdFflv7vMVvlxhf8XGVp11g/sFTcXsx158nqu60IMi55zBV0/wQZGvfATJO64zsBmyVTF7gu3ds8QgXBV5chv2mTBUZJkVpfro3ZCjn3J8WuYXRYZ4ylYO8j30D9h5CpgdQz7vS4aZVZE62Aj7kW8T8xXW/UWRthHlBWkXGRqakLYReb7v9BeEI1E+kC44KkHxuXCDbk4UTmd+oEpsZDPSELLsVEsTUhXi0xJnPDSxRm5p/wrNYp99D/g3KIoNauqkNHmNpk5K1E01NSFJNJXaBT4AvxK9zEb+MfiTvpacdAM/N5XcJX0L+nyhbBjiD0Qdq/sQ7JN9mKSNnnE1sqG00AvYexnqAg16qFGzvP8Bd6GvK+1ewA2m+kIpdjDVlrN5cPM2fZMF9nSha3G4cDYz/QfTD1WfPCmxnQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/chat_background.9879f4df.jpg\";"],"sourceRoot":""}