{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./UpdateUser.css\";import firebase from\"../../config/Firebase\";var UpdateUser=/*#__PURE__*/function(_Component){_inherits(UpdateUser,_Component);var _super=_createSuper(UpdateUser);function UpdateUser(props){var _this;_classCallCheck(this,UpdateUser);_this=_super.call(this,props);_this.UpdateUser=function(event){event.preventDefault();var con=window.confirm(\"האם אתה בטוח שברצונך לעדכן משתמש זה?\");if(!con)return;var newUser={fName:_this.state.firstName,lName:_this.state.lastName,phone:_this.state.phone,area:_this.state.area,type:_this.state.type,birthDate:_this.state.birthDate};if(_this.state.address!==\"\")newUser.address=_this.state.address;_this.usersRef.doc(_this.state.docId).update(newUser).then(function(){alert(\"פרטי המשתמש התעדכנו במערכת בהצלחה!\");_this.setState({firstName:\"\",lastName:\"\",id:\"\",email:\"\",phone:\"\",address:\"\",area:\"\",birthDate:\"\",type:\"\",transferEnable:false});}).catch(function(e){return console.log(e.name+\" נוצרה בעיה בעדכון פרטי המשתמש.\");});};_this.state={firstName:\"\",lastName:\"\",id:\"\",email:\"\",phone:\"\",address:\"\",area:\"\",birthDate:\"\",type:\"\",transferEnable:false,docId:\"\"};_this.usersRef=firebase.firestore().collection('Users');return _this;}_createClass(UpdateUser,[{key:\"getUserByEmailOrId\",value:function getUserByEmailOrId(event){var _this2=this;event.preventDefault();if(this.state.email===\"\"&&this.state.id===\"\"){alert(\"אנא מלא את אחד מהשדות: אימייל או תעודת זהות\");return;}if(this.state.email!==\"\"&&this.state.id!==\"\"){alert(\"אנא מלא רק אחד מהשדות: אימייל או תעודת זהות\");return;}if(this.state.email!==\"\"){this.usersRef.where('email',\"==\",this.state.email).limit(1).get().then(function(docs){if(docs.empty){alert(\"משתמש זה לא קיים במערכת\");throw Error(500);}else{docs.forEach(function(doc){_this2.setState({firstName:doc.data().fName,lastName:doc.data().lName,id:doc.data().id,phone:doc.data().phone,address:doc.data().address,area:doc.data().area,birthDate:doc.data().birthDate,type:doc.data().type,transferEnable:true,docId:doc.id});});}}).catch(function(e){return console.log(e.name);});}if(this.state.id!==\"\"){this.usersRef.where('id',\"==\",this.state.id).limit(1).get().then(function(docs){if(docs.empty){alert(\"משתמש זה לא קיים במערכת\");throw Error(500);}else{docs.forEach(function(doc){_this2.setState({firstName:doc.data().fName,lastName:doc.data().lName,email:doc.data().email,phone:doc.data().phone,address:doc.data().address,area:doc.data().area,birthDate:doc.data().birthDate,type:doc.data().type,transferEnable:true,docId:doc.id});});}}).catch(function(e){return console.log(e.name);});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"form\",{className:\"update-user-form\"},/*#__PURE__*/React.createElement(\"header\",{className:\"title\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"update-user-h\"},/*#__PURE__*/React.createElement(\"u\",null,\" \\u05E2\\u05D3\\u05DB\\u05D5\\u05DF \\u05E4\\u05E8\\u05D8\\u05D9 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputFirstName\"},\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\"),/*#__PURE__*/React.createElement(\"input\",{required:true,disabled:!this.state.transferEnable,type:\"text\",className:\"form-control\",id:\"inputFirstName\",value:this.state.firstName,placeholder:\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",title:\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",onChange:function onChange(e){return _this3.setState({firstName:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputLastName\"},\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\"),/*#__PURE__*/React.createElement(\"input\",{required:true,disabled:!this.state.transferEnable,type:\"text\",className:\"form-control\",id:\"inputLastName\",value:this.state.lastName,placeholder:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\",onChange:function onChange(e){return _this3.setState({lastName:e.target.value});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputEmail\"},\"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\"),/*#__PURE__*/React.createElement(\"input\",{disabled:this.state.transferEnable,type:\"email\",className:\"form-control\",id:\"inputEmail\",value:this.state.email,placeholder:\"email@example.com\",onChange:function onChange(e){return _this3.setState({email:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-61\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputId\"},\"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\"),/*#__PURE__*/React.createElement(\"input\",{disabled:this.state.transferEnable,type:\"number\",className:\"form-control\",id:\"inputId\",value:this.state.id,placeholder:\"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\",onChange:function onChange(e){return _this3.setState({id:e.target.value});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputPhone\"},\"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\"),/*#__PURE__*/React.createElement(\"input\",{disabled:!this.state.transferEnable,required:true,type:\"number\",className:\"form-control\",id:\"inputPhone\",value:this.state.phone,placeholder:\"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",onChange:function onChange(e){return _this3.setState({phone:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputCity\"},\"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\"),/*#__PURE__*/React.createElement(\"input\",{disabled:!this.state.transferEnable,required:true,type:\"text\",className:\"form-control\",id:\"inputCity\",value:this.state.area,placeholder:\"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\",onChange:function onChange(e){return _this3.setState({area:e.target.value});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputAddress2\"},\"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\"),/*#__PURE__*/React.createElement(\"input\",{disabled:!this.state.transferEnable,type:\"text\",className:\"form-control\",id:\"inputAddress2\",value:this.state.address,placeholder:\"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\",onChange:function onChange(e){return _this3.setState({address:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputCity\"},\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\"),/*#__PURE__*/React.createElement(\"input\",{required:true,disabled:!this.state.transferEnable,type:\"date\",className:\"form-control\",id:\"inputBirthDate\",value:this.state.birthDate,placeholder:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\",onChange:function onChange(e){return _this3.setState({birthDate:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputState\"},\"\\u05E1\\u05D5\\u05D2 \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"),/*#__PURE__*/React.createElement(\"select\",{required:true,disabled:!this.state.transferEnable,id:\"inputState\",className:\"form-control\",value:this.state.type,onChange:function onChange(e){return _this3.setState({type:e.target.value});}},/*#__PURE__*/React.createElement(\"option\",{id:\"ff\",disabled:true,value:\"\"},\" \\u05D4\\u05DB\\u05E0\\u05E1 \\u05E1\\u05D5\\u05D2 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05D7\\u05D5\\u05E0\\u05DA\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05D7\\u05E0\\u05D9\\u05DA\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05DE\\u05E0\\u05D4\\u05DC\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05D0\\u05D3\\u05DE\\u05D9\\u05DF\")))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:this.state.transferEnable,className:\"btn btn-success load-user-btn\",onClick:function onClick(e){return _this3.getUserByEmailOrId(e);}},\"\\u05D8\\u05E2\\u05DF \\u05E4\\u05E8\\u05D8\\u05D9 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",disabled:!this.state.transferEnable,className:\"btn btn-warning update-user-btn\",onClick:this.UpdateUser},\"\\u05E2\\u05D3\\u05DB\\u05DF \\u05E4\\u05E8\\u05D8\\u05D9 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"));}}]);return UpdateUser;}(Component);export default UpdateUser;","map":{"version":3,"sources":["C:/Users/ahmad/Downloads/BigBrotherBigSisterIsrael-master/BigBrotherBigSisterIsrael-master/src/adminComponents/partial/UpdateUser.jsx"],"names":["React","Component","firebase","UpdateUser","props","event","preventDefault","con","window","confirm","newUser","fName","state","firstName","lName","lastName","phone","area","type","birthDate","address","usersRef","doc","docId","update","then","alert","setState","id","email","transferEnable","catch","e","console","log","name","firestore","collection","where","limit","get","docs","empty","Error","forEach","data","target","value","getUserByEmailOrId"],"mappings":"41BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,C,GAEMC,CAAAA,U,wGACF,oBAAYC,KAAZ,CAAmB,4CACf,uBAAMA,KAAN,EADe,MAwFnBD,UAxFmB,CAwFN,SAACE,KAAD,CAAW,CACpBA,KAAK,CAACC,cAAN,GACA,GAAIC,CAAAA,GAAG,CAAGC,MAAM,CAACC,OAAP,CAAe,sCAAf,CAAV,CACA,GAAI,CAACF,GAAL,CACI,OACJ,GAAIG,CAAAA,OAAO,CAAG,CACVC,KAAK,CAAE,MAAKC,KAAL,CAAWC,SADR,CAEVC,KAAK,CAAE,MAAKF,KAAL,CAAWG,QAFR,CAGVC,KAAK,CAAE,MAAKJ,KAAL,CAAWI,KAHR,CAIVC,IAAI,CAAE,MAAKL,KAAL,CAAWK,IAJP,CAKVC,IAAI,CAAE,MAAKN,KAAL,CAAWM,IALP,CAMVC,SAAS,CAAE,MAAKP,KAAL,CAAWO,SANZ,CAAd,CAQA,GAAI,MAAKP,KAAL,CAAWQ,OAAX,GAAuB,EAA3B,CACIV,OAAO,CAACU,OAAR,CAAkB,MAAKR,KAAL,CAAWQ,OAA7B,CACJ,MAAKC,QAAL,CAAcC,GAAd,CAAkB,MAAKV,KAAL,CAAWW,KAA7B,EAAoCC,MAApC,CAA2Cd,OAA3C,EACKe,IADL,CACU,UAAM,CACRC,KAAK,CAAC,oCAAD,CAAL,CACA,MAAKC,QAAL,CAAc,CACVd,SAAS,CAAE,EADD,CACKE,QAAQ,CAAE,EADf,CACmBa,EAAE,CAAE,EADvB,CAEVC,KAAK,CAAE,EAFG,CAECb,KAAK,CAAE,EAFR,CAEYI,OAAO,CAAE,EAFrB,CAEyBH,IAAI,CAAE,EAF/B,CAGVE,SAAS,CAAE,EAHD,CAGKD,IAAI,CAAE,EAHX,CAIVY,cAAc,CAAE,KAJN,CAAd,EAMH,CATL,EAUKC,KAVL,CAUW,SAACC,CAAD,QAAOC,CAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,IAAF,CAAS,iCAArB,CAAP,EAVX,EAWH,CAlHkB,CAEf,MAAKvB,KAAL,CAAa,CACTC,SAAS,CAAE,EADF,CAETE,QAAQ,CAAE,EAFD,CAGTa,EAAE,CAAE,EAHK,CAITC,KAAK,CAAE,EAJE,CAKTb,KAAK,CAAE,EALE,CAMTI,OAAO,CAAE,EANA,CAOTH,IAAI,CAAE,EAPG,CAQTE,SAAS,CAAE,EARF,CASTD,IAAI,CAAE,EATG,CAUTY,cAAc,CAAE,KAVP,CAWTP,KAAK,CAAE,EAXE,CAAb,CAaA,MAAKF,QAAL,CAAgBnB,QAAQ,CAACkC,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,CAAhB,CAfe,aAgBlB,C,qFAEkBhC,K,CAAO,iBACtBA,KAAK,CAACC,cAAN,GACA,GAAI,KAAKM,KAAL,CAAWiB,KAAX,GAAqB,EAArB,EAA2B,KAAKjB,KAAL,CAAWgB,EAAX,GAAkB,EAAjD,CAAqD,CACjDF,KAAK,CAAC,6CAAD,CAAL,CACA,OACH,CACD,GAAI,KAAKd,KAAL,CAAWiB,KAAX,GAAqB,EAArB,EAA2B,KAAKjB,KAAL,CAAWgB,EAAX,GAAkB,EAAjD,CAAqD,CACjDF,KAAK,CAAC,6CAAD,CAAL,CACA,OACH,CACD,GAAI,KAAKd,KAAL,CAAWiB,KAAX,GAAqB,EAAzB,CAA6B,CACzB,KAAKR,QAAL,CACKiB,KADL,CACW,OADX,CACoB,IADpB,CAC0B,KAAK1B,KAAL,CAAWiB,KADrC,EAEKU,KAFL,CAEW,CAFX,EAGKC,GAHL,GAIKf,IAJL,CAIU,SAAAgB,IAAI,CAAI,CACV,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACZhB,KAAK,CAAC,yBAAD,CAAL,CACA,KAAMiB,CAAAA,KAAK,CAAC,GAAD,CAAX,CACH,CAHD,IAIK,CACDF,IAAI,CAACG,OAAL,CAAa,SAAAtB,GAAG,CAAI,CAChB,MAAI,CAACK,QAAL,CAAc,CACVd,SAAS,CAAES,GAAG,CAACuB,IAAJ,GAAWlC,KADZ,CAEVI,QAAQ,CAAEO,GAAG,CAACuB,IAAJ,GAAW/B,KAFX,CAGVc,EAAE,CAAEN,GAAG,CAACuB,IAAJ,GAAWjB,EAHL,CAIVZ,KAAK,CAAEM,GAAG,CAACuB,IAAJ,GAAW7B,KAJR,CAKVI,OAAO,CAAEE,GAAG,CAACuB,IAAJ,GAAWzB,OALV,CAMVH,IAAI,CAAEK,GAAG,CAACuB,IAAJ,GAAW5B,IANP,CAOVE,SAAS,CAAEG,GAAG,CAACuB,IAAJ,GAAW1B,SAPZ,CAQVD,IAAI,CAAEI,GAAG,CAACuB,IAAJ,GAAW3B,IARP,CASVY,cAAc,CAAE,IATN,CAUVP,KAAK,CAAED,GAAG,CAACM,EAVD,CAAd,EAYH,CAbD,EAcH,CACJ,CAzBL,EA0BKG,KA1BL,CA0BW,SAACC,CAAD,QAAOC,CAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,IAAd,CAAP,EA1BX,EA2BH,CACD,GAAI,KAAKvB,KAAL,CAAWgB,EAAX,GAAkB,EAAtB,CAA0B,CACtB,KAAKP,QAAL,CACKiB,KADL,CACW,IADX,CACiB,IADjB,CACuB,KAAK1B,KAAL,CAAWgB,EADlC,EAEKW,KAFL,CAEW,CAFX,EAGKC,GAHL,GAIKf,IAJL,CAIU,SAAAgB,IAAI,CAAI,CACV,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACZhB,KAAK,CAAC,yBAAD,CAAL,CACA,KAAMiB,CAAAA,KAAK,CAAC,GAAD,CAAX,CACH,CAHD,IAIK,CACDF,IAAI,CAACG,OAAL,CAAa,SAAAtB,GAAG,CAAI,CAChB,MAAI,CAACK,QAAL,CAAc,CACVd,SAAS,CAAES,GAAG,CAACuB,IAAJ,GAAWlC,KADZ,CAEVI,QAAQ,CAAEO,GAAG,CAACuB,IAAJ,GAAW/B,KAFX,CAGVe,KAAK,CAAEP,GAAG,CAACuB,IAAJ,GAAWhB,KAHR,CAIVb,KAAK,CAAEM,GAAG,CAACuB,IAAJ,GAAW7B,KAJR,CAKVI,OAAO,CAAEE,GAAG,CAACuB,IAAJ,GAAWzB,OALV,CAMVH,IAAI,CAAEK,GAAG,CAACuB,IAAJ,GAAW5B,IANP,CAOVE,SAAS,CAAEG,GAAG,CAACuB,IAAJ,GAAW1B,SAPZ,CAQVD,IAAI,CAAEI,GAAG,CAACuB,IAAJ,GAAW3B,IARP,CASVY,cAAc,CAAE,IATN,CAUVP,KAAK,CAAED,GAAG,CAACM,EAVD,CAAd,EAYH,CAbD,EAcH,CACJ,CAzBL,EA0BKG,KA1BL,CA0BW,SAACC,CAAD,QAAOC,CAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,IAAd,CAAP,EA1BX,EA2BH,CACJ,C,uCA8BQ,iBACL,mBACI,4BAAM,SAAS,CAAC,kBAAhB,eACI,8BAAQ,SAAS,CAAC,OAAlB,eACI,0BAAI,SAAS,CAAC,eAAd,eACI,uHADJ,CADJ,CADJ,cAMI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,OAAO,CAAC,gBAAf,0CADJ,cAEI,6BACI,QAAQ,KADZ,CAEI,QAAQ,CAAE,CAAC,KAAKvB,KAAL,CAAWkB,cAF1B,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAC,cAJd,CAKI,EAAE,CAAC,gBALP,CAMI,KAAK,CAAE,KAAKlB,KAAL,CAAWC,SANtB,CAOI,WAAW,CAAC,uCAPhB,CAQI,KAAK,CAAC,uCARV,CASI,QAAQ,CAAE,kBAACmB,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEd,SAAS,CAAEmB,CAAC,CAACc,MAAF,CAASC,KAAtB,CAAd,CAAP,EATd,EAFJ,CADJ,cAeI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,OAAO,CAAC,eAAf,gDADJ,cAEI,6BACI,QAAQ,KADZ,CAEI,QAAQ,CAAE,CAAC,KAAKnC,KAAL,CAAWkB,cAF1B,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAC,cAJd,CAKI,EAAE,CAAC,eALP,CAMI,KAAK,CAAE,KAAKlB,KAAL,CAAWG,QANtB,CAOI,WAAW,CAAC,6CAPhB,CAQI,QAAQ,CAAE,kBAACiB,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEZ,QAAQ,CAAEiB,CAAC,CAACc,MAAF,CAASC,KAArB,CAAd,CAAP,EARd,EAFJ,CAfJ,CANJ,cAmCI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,OAAO,CAAC,YAAf,yCADJ,cAEI,6BACI,QAAQ,CAAE,KAAKnC,KAAL,CAAWkB,cADzB,CAEI,IAAI,CAAC,OAFT,CAGI,SAAS,CAAC,cAHd,CAII,EAAE,CAAC,YAJP,CAKI,KAAK,CAAE,KAAKlB,KAAL,CAAWiB,KALtB,CAMI,WAAW,CAAC,mBANhB,CAOI,QAAQ,CAAE,kBAACG,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEE,KAAK,CAAEG,CAAC,CAACc,MAAF,CAASC,KAAlB,CAAd,CAAP,EAPd,EAFJ,CADJ,cAcI,2BAAK,SAAS,CAAC,sBAAf,eACI,6BAAO,OAAO,CAAC,SAAf,4DADJ,cAEI,6BACI,QAAQ,CAAE,KAAKnC,KAAL,CAAWkB,cADzB,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,cAHd,CAII,EAAE,CAAC,SAJP,CAKI,KAAK,CAAE,KAAKlB,KAAL,CAAWgB,EALtB,CAMI,WAAW,CAAC,yDANhB,CAOI,QAAQ,CAAE,kBAACI,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEC,EAAE,CAAEI,CAAC,CAACc,MAAF,CAASC,KAAf,CAAd,CAAP,EAPd,EAFJ,CAdJ,CAnCJ,cA8DI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,YAAf,mCADJ,cAEI,6BACI,QAAQ,CAAE,CAAC,KAAKnC,KAAL,CAAWkB,cAD1B,CAEI,QAAQ,KAFZ,CAGI,IAAI,CAAC,QAHT,CAII,SAAS,CAAC,cAJd,CAKI,EAAE,CAAC,YALP,CAMI,KAAK,CAAE,KAAKlB,KAAL,CAAWI,KANtB,CAOI,WAAW,CAAC,gCAPhB,CAQI,QAAQ,CAAE,kBAACgB,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEX,KAAK,CAAEgB,CAAC,CAACc,MAAF,CAASC,KAAlB,CAAd,CAAP,EARd,EAFJ,CADJ,cAcI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,OAAO,CAAC,WAAf,kEADJ,cAEI,6BACI,QAAQ,CAAE,CAAC,KAAKnC,KAAL,CAAWkB,cAD1B,CAEI,QAAQ,KAFZ,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAC,cAJd,CAKI,EAAE,CAAC,WALP,CAMI,KAAK,CAAE,KAAKlB,KAAL,CAAWK,IANtB,CAOI,WAAW,CAAC,+DAPhB,CAQI,QAAQ,CAAE,kBAACe,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEV,IAAI,CAAEe,CAAC,CAACc,MAAF,CAASC,KAAjB,CAAd,CAAP,EARd,EAFJ,CAdJ,CA9DJ,cA0FI,2BAAK,SAAS,CAAC,YAAf,eACI,6BAAO,OAAO,CAAC,eAAf,wEADJ,cAEI,6BACI,QAAQ,CAAE,CAAC,KAAKnC,KAAL,CAAWkB,cAD1B,CAEI,IAAI,CAAC,MAFT,CAGI,SAAS,CAAC,cAHd,CAII,EAAE,CAAC,eAJP,CAKI,KAAK,CAAE,KAAKlB,KAAL,CAAWQ,OALtB,CAMI,WAAW,CAAC,qEANhB,CAOI,QAAQ,CAAE,kBAACY,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEP,OAAO,CAAEY,CAAC,CAACc,MAAF,CAASC,KAApB,CAAd,CAAP,EAPd,EAFJ,CA1FJ,cAsGI,2BAAK,SAAS,CAAC,UAAf,eAEI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,OAAO,CAAC,WAAf,4DADJ,cAEI,6BACI,QAAQ,KADZ,CAEI,QAAQ,CAAE,CAAC,KAAKnC,KAAL,CAAWkB,cAF1B,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAC,cAJd,CAKI,EAAE,CAAC,gBALP,CAMI,KAAK,CAAE,KAAKlB,KAAL,CAAWO,SANtB,CAOI,WAAW,CAAC,yDAPhB,CAQI,QAAQ,CAAE,kBAACa,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAER,SAAS,CAAEa,CAAC,CAACc,MAAF,CAASC,KAAtB,CAAd,CAAP,EARd,EAFJ,CAFJ,cAeI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,OAAO,CAAC,YAAf,4DADJ,cAEI,8BACI,QAAQ,KADZ,CAEI,QAAQ,CAAE,CAAC,KAAKnC,KAAL,CAAWkB,cAF1B,CAGI,EAAE,CAAC,YAHP,CAII,SAAS,CAAC,cAJd,CAKI,KAAK,CAAE,KAAKlB,KAAL,CAAWM,IALtB,CAMI,QAAQ,CAAE,kBAACc,CAAD,QAAO,CAAA,MAAI,CAACL,QAAL,CAAc,CAAET,IAAI,CAAEc,CAAC,CAACc,MAAF,CAASC,KAAjB,CAAd,CAAP,EANd,eAOI,8BAAQ,EAAE,CAAC,IAAX,CAAgB,QAAQ,KAAxB,CAAyB,KAAK,CAAC,EAA/B,gFAPJ,cAQI,6DARJ,cASI,6DATJ,cAUI,6DAVJ,cAWI,mEAXJ,CAFJ,CAfJ,CAtGJ,cAwII,8BACI,IAAI,CAAC,QADT,CAEI,QAAQ,CAAE,KAAKnC,KAAL,CAAWkB,cAFzB,CAGI,SAAS,CAAC,+BAHd,CAII,OAAO,CAAE,iBAACE,CAAD,QAAO,CAAA,MAAI,CAACgB,kBAAL,CAAwBhB,CAAxB,CAAP,EAJb,+EAxIJ,cAgJI,8BAAQ,IAAI,CAAC,QAAb,CACI,QAAQ,CAAE,CAAC,KAAKpB,KAAL,CAAWkB,cAD1B,CAEI,SAAS,CAAC,iCAFd,CAGI,OAAO,CAAE,KAAK3B,UAHlB,qFAhJJ,CADJ,CA0JH,C,wBAhRoBF,S,EAmRzB,cAAeE,CAAAA,UAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./UpdateUser.css\";\r\nimport firebase from \"../../config/Firebase\"\r\n\r\nclass UpdateUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            id: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            address: \"\",\r\n            area: \"\",\r\n            birthDate: \"\",\r\n            type: \"\",\r\n            transferEnable: false,\r\n            docId: \"\"\r\n        };\r\n        this.usersRef = firebase.firestore().collection('Users');\r\n    }\r\n\r\n    getUserByEmailOrId(event) {\r\n        event.preventDefault();\r\n        if (this.state.email === \"\" && this.state.id === \"\") {\r\n            alert(\"אנא מלא את אחד מהשדות: אימייל או תעודת זהות\");\r\n            return;\r\n        }\r\n        if (this.state.email !== \"\" && this.state.id !== \"\") {\r\n            alert(\"אנא מלא רק אחד מהשדות: אימייל או תעודת זהות\");\r\n            return;\r\n        }\r\n        if (this.state.email !== \"\") {\r\n            this.usersRef\r\n                .where('email', \"==\", this.state.email)\r\n                .limit(1)\r\n                .get()\r\n                .then(docs => {\r\n                    if (docs.empty) {\r\n                        alert(\"משתמש זה לא קיים במערכת\");\r\n                        throw Error(500);\r\n                    }\r\n                    else {\r\n                        docs.forEach(doc => {\r\n                            this.setState({\r\n                                firstName: doc.data().fName,\r\n                                lastName: doc.data().lName,\r\n                                id: doc.data().id,\r\n                                phone: doc.data().phone,\r\n                                address: doc.data().address,\r\n                                area: doc.data().area,\r\n                                birthDate: doc.data().birthDate,\r\n                                type: doc.data().type,\r\n                                transferEnable: true,\r\n                                docId: doc.id\r\n                            })\r\n                        })\r\n                    }\r\n                })\r\n                .catch((e) => console.log(e.name));\r\n        }\r\n        if (this.state.id !== \"\") {\r\n            this.usersRef\r\n                .where('id', \"==\", this.state.id)\r\n                .limit(1)\r\n                .get()\r\n                .then(docs => {\r\n                    if (docs.empty) {\r\n                        alert(\"משתמש זה לא קיים במערכת\");\r\n                        throw Error(500);\r\n                    }\r\n                    else {\r\n                        docs.forEach(doc => {\r\n                            this.setState({\r\n                                firstName: doc.data().fName,\r\n                                lastName: doc.data().lName,\r\n                                email: doc.data().email,\r\n                                phone: doc.data().phone,\r\n                                address: doc.data().address,\r\n                                area: doc.data().area,\r\n                                birthDate: doc.data().birthDate,\r\n                                type: doc.data().type,\r\n                                transferEnable: true,\r\n                                docId: doc.id\r\n                            })\r\n                        })\r\n                    }\r\n                })\r\n                .catch((e) => console.log(e.name));\r\n        }\r\n    }\r\n\r\n    UpdateUser = (event) => {\r\n        event.preventDefault();\r\n        var con = window.confirm(\"האם אתה בטוח שברצונך לעדכן משתמש זה?\")\r\n        if (!con)\r\n            return;\r\n        var newUser = {\r\n            fName: this.state.firstName,\r\n            lName: this.state.lastName,\r\n            phone: this.state.phone,\r\n            area: this.state.area,\r\n            type: this.state.type,\r\n            birthDate: this.state.birthDate\r\n        }\r\n        if (this.state.address !== \"\")\r\n            newUser.address = this.state.address;\r\n        this.usersRef.doc(this.state.docId).update(newUser)\r\n            .then(() => {\r\n                alert(\"פרטי המשתמש התעדכנו במערכת בהצלחה!\");\r\n                this.setState({\r\n                    firstName: \"\", lastName: \"\", id: \"\",\r\n                    email: \"\", phone: \"\", address: \"\", area: \"\",\r\n                    birthDate: \"\", type: \"\",\r\n                    transferEnable: false\r\n                })\r\n            })\r\n            .catch((e) => console.log(e.name + \" נוצרה בעיה בעדכון פרטי המשתמש.\"));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"update-user-form\">\r\n                <header className=\"title\">\r\n                    <h1 className=\"update-user-h\">\r\n                        <u> עדכון פרטי משתמש</u>\r\n                    </h1>\r\n                </header>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputFirstName\">שם פרטי</label>\r\n                        <input\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"inputFirstName\"\r\n                            value={this.state.firstName}\r\n                            placeholder=\"שם פרטי\"\r\n                            title=\"שם פרטי\"\r\n                            onChange={(e) => this.setState({ firstName: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputLastName\">שם משפחה</label>\r\n                        <input\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"inputLastName\"\r\n                            value={this.state.lastName}\r\n                            placeholder=\"שם משפחה\"\r\n                            onChange={(e) => this.setState({ lastName: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputEmail\">אימייל</label>\r\n                        <input\r\n                            disabled={this.state.transferEnable}\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            id=\"inputEmail\"\r\n                            value={this.state.email}\r\n                            placeholder=\"email@example.com\"\r\n                            onChange={(e) => this.setState({ email: e.target.value })}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group col-md-61\">\r\n                        <label htmlFor=\"inputId\">תעודת זהות</label>\r\n                        <input\r\n                            disabled={this.state.transferEnable}\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            id=\"inputId\"\r\n                            value={this.state.id}\r\n                            placeholder=\"תעודת זהות\"\r\n                            onChange={(e) => this.setState({ id: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"inputPhone\">טלפון</label>\r\n                        <input\r\n                            disabled={!this.state.transferEnable}\r\n                            required\r\n                            type=\"number\"\r\n                            className=\"form-control\"\r\n                            id=\"inputPhone\"\r\n                            value={this.state.phone}\r\n                            placeholder=\"טלפון\"\r\n                            onChange={(e) => this.setState({ phone: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputCity\">אזור מגורים</label>\r\n                        <input\r\n                            disabled={!this.state.transferEnable}\r\n                            required\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"inputCity\"\r\n                            value={this.state.area}\r\n                            placeholder=\"אזור מגורים\"\r\n                            onChange={(e) => this.setState({ area: e.target.value })}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"inputAddress2\">כתובת מגורים</label>\r\n                    <input\r\n                        disabled={!this.state.transferEnable}\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        id=\"inputAddress2\"\r\n                        value={this.state.address}\r\n                        placeholder=\"כתובת מגורים\"\r\n                        onChange={(e) => this.setState({ address: e.target.value })}\r\n                    />\r\n                </div>\r\n                <div className=\"form-row\">\r\n\r\n                    <div className=\"form-group col-md-6\">\r\n                        <label htmlFor=\"inputCity\">תאריך לידה</label>\r\n                        <input\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            type=\"date\"\r\n                            className=\"form-control\"\r\n                            id=\"inputBirthDate\"\r\n                            value={this.state.birthDate}\r\n                            placeholder=\"תאריך לידה\"\r\n                            onChange={(e) => this.setState({ birthDate: e.target.value })}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group col-md-4\">\r\n                        <label htmlFor=\"inputState\">סוג המשתמש</label>\r\n                        <select\r\n                            required\r\n                            disabled={!this.state.transferEnable}\r\n                            id=\"inputState\"\r\n                            className=\"form-control\"\r\n                            value={this.state.type}\r\n                            onChange={(e) => this.setState({ type: e.target.value })}>\r\n                            <option id=\"ff\" disabled value=\"\"> הכנס סוג משתמש</option>\r\n                            <option >חונך</option>\r\n                            <option >חניך</option>\r\n                            <option >מנהל</option>\r\n                            <option >אדמין</option>\r\n\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={this.state.transferEnable}\r\n                    className=\"btn btn-success load-user-btn\"\r\n                    onClick={(e) => this.getUserByEmailOrId(e)}\r\n                >\r\n                    טען פרטי משתמש\r\n        </button>\r\n                <button type=\"submit\"\r\n                    disabled={!this.state.transferEnable}\r\n                    className=\"btn btn-warning update-user-btn\"\r\n                    onClick={this.UpdateUser}\r\n                >\r\n                    עדכן פרטי משתמש\r\n        </button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UpdateUser;\r\n"]},"metadata":{},"sourceType":"module"}