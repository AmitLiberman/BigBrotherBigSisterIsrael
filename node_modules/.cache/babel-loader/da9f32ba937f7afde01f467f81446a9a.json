{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import*as React from\"react\";import\"./HomePage.css\";import firebase from\"../../config/Firebase\";import AddPicture from\"../wallComponents/wall/AddPicture\";import NewsList from\"./NewsList\";import logo from'../../static_pictures/no_profile_picture.png';export var HomePage=/*#__PURE__*/function(_React$Component){_inherits(HomePage,_React$Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.formatDate=function(date){// formatting date to [DD/MM/YYYY]\nreturn\"\".concat(date.getDate(),\"/\").concat(date.getMonth()+1,\"/\").concat(date.getFullYear());};_this.callbackForm=function(formData){_this.setState({showPicForm:formData});};_this.connectToVideo=function(hosting){// connect to video directly from home page\n_this.setState({vidButtonHide:true});_this.props.directVid(hosting);};_this.setVideoButton=function(){// determine the appearance of join video button\nif(_this.props.newVideo===\"added\")_this.setState({vidButtonHide:false});else if(_this.props.newVideo===\"removed\")_this.setState({vidButtonHide:true});};_this.getNewPostAlert=function(){var postsRef;var linkUser;_this.usersRef.doc(_this.userUid).get().then(function(doc){if(doc.data().type==='חונך')postsRef=doc.ref.collection('Posts');else if(doc.data().type==='חניך')postsRef=_this.usersRef.doc(doc.data().link_user).collection('Posts');linkUser=doc.data().link_user;}).then(function(){postsRef.where('uploader','==',linkUser).where('unread','==',true).get().then(function(docs){return _this.setState({newPosts:docs.docs.length});});}).catch(function(e){return console.log(e.name);});};_this.uploadProfilePicture=function(){_this.setState({showPicForm:true});};_this.deleteProfilePicture=function(){var con=window.confirm(\"האם אתה בטוח שברצונך להסיר את תמונת הפרופיל הנוכחית שלך?\");if(!con)return;_this.myProfilePicturesRef.delete().then(function(){console.log(\"Deleted profile picture successfully\");_this.props.changeProfilePictue(\"\");}).catch(function(e){return console.log(e.name);});};_this.setProfilePicture=function(pictures,url){_this.props.changeProfilePictue(url);_this.myProfilePicturesRef.put(pictures[0]);};_this.state={roomId:\"\",vidButtonHide:true,profilePicture:\"\",showPicForm:false,newPosts:0};_this.userUid=firebase.auth().currentUser.uid;_this.usersRef=firebase.firestore().collection('Users');_this.cloudRef=firebase.storage().ref();_this.myProfilePicturesRef=_this.cloudRef.child('profile_pictures/'+firebase.auth().currentUser.uid);return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){this.setVideoButton();this.props.getNextMeeting();this.setState({profilePicture:this.props.myProfilePic});this.getNewPostAlert();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp){if(this.props.newVideo!==prevProp.newVideo)this.setVideoButton();else if(this.props.myProfilePic!==prevProp.myProfilePic)this.setState({profilePicture:this.props.myProfilePic});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-background-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-name\"},this.props.myDetails.fName+\" \"+this.props.myDetails.lName),/*#__PURE__*/React.createElement(\"img\",{src:this.state.profilePicture,alt:\"\",className:\"homepage-profile-picture\",style:{backgroundImage:\"url(\".concat(logo,\")\")}})),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-type-m-s\"},this.props.myDetails.type),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-city\"},this.props.myDetails.area),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-birthday\"},this.formatDate(new Date(this.props.myDetails.birthDate)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-background-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-name\"},this.props.linkedDetails.fName+\" \"+this.props.linkedDetails.lName),/*#__PURE__*/React.createElement(\"img\",{src:this.props.friendProfilePic,alt:\"\",className:\"homepage-profile-picture\",style:{backgroundImage:\"url(\".concat(logo,\")\")}})),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-type-m-s\"},this.props.linkedDetails.type),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-city\"},this.props.linkedDetails.area),/*#__PURE__*/React.createElement(\"div\",{className:\"homepage-profile-birthday\"},this.formatDate(new Date(this.props.linkedDetails.birthDate))))))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success profile-upload-btn\",onClick:this.uploadProfilePicture},\"\\u05E9\\u05E0\\u05D4 \\u05EA\\u05DE\\u05D5\\u05E0\\u05EA \\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger profile-delete-btn\",onClick:this.deleteProfilePicture},\"\\u05D4\\u05E1\\u05E8 \\u05EA\\u05DE\\u05D5\\u05E0\\u05EA \\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC\"),/*#__PURE__*/React.createElement(NewsList,{linked_name:this.props.linkedDetails.fName,connectToVideo:this.connectToVideo,vidButtonHide:this.state.vidButtonHide,otherUserConnection:this.props.otherUserConnection,otherUserLastOnline:this.props.otherUserLastOnline,next_meeting:this.props.next_meeting,loadingNextMeeting:this.props.loadingNextMeeting,routeToWall:this.props.routeToWall,routeToMeeting:this.props.routeToMeeting,newPosts:this.state.newPosts}),this.state.showPicForm?/*#__PURE__*/React.createElement(AddPicture,{parentCallback:this.callbackForm,showText:false,setImagePostParent:this.setProfilePicture}):null);}}]);return HomePage;}(React.Component);export default HomePage;","map":{"version":3,"sources":["C:/Users/ahmad/Downloads/BigBrotherBigSisterIsrael-master/BigBrotherBigSisterIsrael-master/src/navBarComponents/homeComponents/HomePage.jsx"],"names":["React","firebase","AddPicture","NewsList","logo","HomePage","props","formatDate","date","getDate","getMonth","getFullYear","callbackForm","formData","setState","showPicForm","connectToVideo","hosting","vidButtonHide","directVid","setVideoButton","newVideo","getNewPostAlert","postsRef","linkUser","usersRef","doc","userUid","get","then","data","type","ref","collection","link_user","where","docs","newPosts","length","catch","e","console","log","name","uploadProfilePicture","deleteProfilePicture","con","window","confirm","myProfilePicturesRef","delete","changeProfilePictue","setProfilePicture","pictures","url","put","state","roomId","profilePicture","auth","currentUser","uid","firestore","cloudRef","storage","child","getNextMeeting","myProfilePic","prevProp","myDetails","fName","lName","backgroundImage","area","Date","birthDate","linkedDetails","friendProfilePic","otherUserConnection","otherUserLastOnline","next_meeting","loadingNextMeeting","routeToWall","routeToMeeting","Component"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport \"./HomePage.css\";\r\nimport firebase from \"../../config/Firebase\"\r\nimport AddPicture from \"../wallComponents/wall/AddPicture\"\r\nimport NewsList from \"./NewsList\"\r\nimport logo from '../../static_pictures/no_profile_picture.png'\r\n\r\nexport class HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      roomId: \"\",\r\n      vidButtonHide: true,\r\n      profilePicture: \"\",\r\n      showPicForm: false,\r\n      newPosts: 0\r\n    };\r\n    this.userUid = firebase.auth().currentUser.uid;\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.cloudRef = firebase.storage().ref();\r\n    this.myProfilePicturesRef = this.cloudRef.child('profile_pictures/' + firebase.auth().currentUser.uid);\r\n  }\r\n\r\n  formatDate = (date) => { // formatting date to [DD/MM/YYYY]\r\n    return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\r\n  }\r\n\r\n  callbackForm = (formData) => {\r\n    this.setState({ showPicForm: formData });\r\n  };\r\n\r\n  connectToVideo = (hosting) => { // connect to video directly from home page\r\n    this.setState({ vidButtonHide: true });\r\n    this.props.directVid(hosting);\r\n  }\r\n\r\n  setVideoButton = () => { // determine the appearance of join video button\r\n    if (this.props.newVideo === \"added\")\r\n      this.setState({ vidButtonHide: false });\r\n    else if (this.props.newVideo === \"removed\")\r\n      this.setState({ vidButtonHide: true });\r\n  }\r\n\r\n  getNewPostAlert = () => {\r\n    var postsRef;\r\n    var linkUser;\r\n    this.usersRef.doc(this.userUid).get()\r\n      .then(doc => {\r\n        if (doc.data().type === 'חונך')\r\n          postsRef = doc.ref.collection('Posts');\r\n        else if (doc.data().type === 'חניך')\r\n          postsRef = this.usersRef.doc(doc.data().link_user).collection('Posts');\r\n        linkUser = doc.data().link_user;\r\n      })\r\n      .then(() => {\r\n        postsRef\r\n          .where('uploader', '==', linkUser)\r\n          .where('unread', '==', true)\r\n          .get()\r\n          .then((docs) =>\r\n            this.setState({ newPosts: docs.docs.length }));\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setVideoButton();\r\n    this.props.getNextMeeting();\r\n    this.setState({ profilePicture: this.props.myProfilePic });\r\n    this.getNewPostAlert();\r\n  }\r\n\r\n  componentDidUpdate(prevProp) {\r\n    if (this.props.newVideo !== prevProp.newVideo)\r\n      this.setVideoButton();\r\n    else if (this.props.myProfilePic !== prevProp.myProfilePic)\r\n      this.setState({ profilePicture: this.props.myProfilePic });\r\n  }\r\n\r\n  uploadProfilePicture = () => {\r\n    this.setState({\r\n      showPicForm: true,\r\n    });\r\n  }\r\n\r\n  deleteProfilePicture = () => {\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך להסיר את תמונת הפרופיל הנוכחית שלך?\");\r\n    if (!con)\r\n      return;\r\n    this.myProfilePicturesRef.delete()\r\n      .then(() => {\r\n        console.log(\"Deleted profile picture successfully\")\r\n        this.props.changeProfilePictue(\"\")\r\n      })\r\n      .catch((e) => console.log(e.name));\r\n  }\r\n\r\n  setProfilePicture = (pictures, url) => {\r\n    this.props.changeProfilePictue(url);\r\n    this.myProfilePicturesRef.put(pictures[0]);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page\">\r\n        <div className=\"homepage-main\">\r\n          <div className=\"homepage-background-right\">\r\n            <div className=\"homepage-right\">\r\n              <div className=\"homepage-profile-top\">\r\n                <div className=\"homepage-profile-name\">\r\n                  {this.props.myDetails.fName + \" \" + this.props.myDetails.lName}\r\n                </div>\r\n                <img src={this.state.profilePicture} alt=\"\" className=\"homepage-profile-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n              </div>\r\n              <div className=\"homepage-profile-footer\">\r\n                <div className=\"homepage-profile-type-m-s\">\r\n                  {this.props.myDetails.type}\r\n                </div>\r\n                <div className=\"homepage-profile-city\">\r\n                  {this.props.myDetails.area}\r\n                </div>\r\n                <div className=\"homepage-profile-birthday\">\r\n                  {this.formatDate(new Date(this.props.myDetails.birthDate))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"homepage-background-left\">\r\n            <div className=\"homepage-left\">\r\n              <div className=\"homepage-profile-top\">\r\n                <div className=\"homepage-profile-name\">\r\n                  {this.props.linkedDetails.fName + \" \" + this.props.linkedDetails.lName}\r\n                </div>\r\n                <img src={this.props.friendProfilePic} alt=\"\" className=\"homepage-profile-picture\" style={{ backgroundImage: `url(${logo})` }} />\r\n              </div>\r\n              <div className=\"homepage-profile-footer\">\r\n                <div className=\"homepage-profile-type-m-s\">\r\n                  {this.props.linkedDetails.type}\r\n                </div>\r\n                <div className=\"homepage-profile-city\">\r\n                  {this.props.linkedDetails.area}\r\n                </div>\r\n                <div className=\"homepage-profile-birthday\">\r\n                  {this.formatDate(new Date(this.props.linkedDetails.birthDate))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-success profile-upload-btn\" onClick={this.uploadProfilePicture}>שנה תמונת פרופיל</button>\r\n        <button className=\"btn btn-danger profile-delete-btn\" onClick={this.deleteProfilePicture}>הסר תמונת פרופיל</button>\r\n        <NewsList\r\n          linked_name={this.props.linkedDetails.fName}\r\n          connectToVideo={this.connectToVideo}\r\n          vidButtonHide={this.state.vidButtonHide}\r\n          otherUserConnection={this.props.otherUserConnection}\r\n          otherUserLastOnline={this.props.otherUserLastOnline}\r\n          next_meeting={this.props.next_meeting}\r\n          loadingNextMeeting={this.props.loadingNextMeeting}\r\n          routeToWall={this.props.routeToWall}\r\n          routeToMeeting={this.props.routeToMeeting}\r\n          newPosts={this.state.newPosts}\r\n        />\r\n\r\n        {this.state.showPicForm ? (\r\n          <AddPicture\r\n            parentCallback={this.callbackForm}\r\n            showText={false}\r\n            setImagePostParent={this.setProfilePicture}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}