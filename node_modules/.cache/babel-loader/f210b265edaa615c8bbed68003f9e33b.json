{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import\"./LoginForm.css\";import firebase from\"../config/Firebase\";import Loader from\"react-loader-spinner\";import logo from'../static_pictures/big_brothers_big_sisters.png';var LoginForm=/*#__PURE__*/function(_React$Component){_inherits(LoginForm,_React$Component);var _super=_createSuper(LoginForm);function LoginForm(props){var _this;_classCallCheck(this,LoginForm);_this=_super.call(this,props);_this.resetPwd=function(){if(_this.state.username===\"\"){alert(\"אנא הכנס כתובת אימייל בשדה המתאים\");return;}firebase.auth().sendPasswordResetEmail(_this.state.username).then(function(){return alert(\"הסיסמא החדשה נשלחה אליך למייל\");}).catch(function(){return alert(\"שגיאה בהזנת הנתונים\");});};_this.state={username:\"\",password:\"\",loading:false,pwdAttempt:0,prevEmail:\"\"};_this.usersRef=firebase.firestore().collection('Users');return _this;}_createClass(LoginForm,[{key:\"onLoginSuccess\",value:function onLoginSuccess(){console.log(\"Successful login\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp){if(this.props.isLoggedIn!==prevProp.isLoggedIn)this.setState({loading:false});}},{key:\"onLoginFail\",value:function onLoginFail(){alert(\"שם משתמש או סיסמא שגויים\");this.setState({password:\"\",loading:false});}},{key:\"onLoginPress\",value:function onLoginPress(e){e.preventDefault();if(this.state.username===\"\"){alert(\"אנא הכנס שם משתמש\");return;}if(this.state.password===\"\"){alert(\"אנא הכנס סיסמא\");return;}var username=this.state.username;var password=this.state.password;this.setState({loading:true});firebase.auth().signInWithEmailAndPassword(username,password).then(this.onLoginSuccess.bind(this)).catch(this.onLoginFail.bind(this));}},{key:\"renderButton\",value:function renderButton(){if(this.state.loading){return/*#__PURE__*/React.createElement(Loader,{className:\"indicator\",type:\"Bars\",height:\"100px\",width:\"100px\"});}else{return/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"submit-login\",className:\"btn btn-lg btn-success\"},\"\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\");}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"login-menu\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"asfsa\",className:\"Login-logo\"}),/*#__PURE__*/React.createElement(\"h1\",{className:\"headline\"},\"\\u05D1\\u05E8\\u05D5\\u05DB\\u05D9\\u05DD \\u05D4\\u05D1\\u05D0\\u05D9\\u05DD \\u05DC\\u05D0\\u05D6\\u05D5\\u05E8 \\u05D4\\u05D0\\u05D9\\u05E9\\u05D9 \"),/*#__PURE__*/React.createElement(\"form\",{className:\"px-4 py-3\",onSubmit:function onSubmit(e){return _this2.onLoginPress(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"login-fm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group login-form w-100\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control input-login\",id:\"userName\",placeholder:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",title:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\",value:this.state.username,onChange:function onChange(e){return _this2.setState({username:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group login-form w-100\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control input-login\",id:\"exampleDropdownFormPassword2\",placeholder:\"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",title:\"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",value:this.state.password,onChange:function onChange(e){return _this2.setState({password:e.target.value});}}),/*#__PURE__*/React.createElement(\"br\",null),this.renderButton(),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"badge badge-light forget-pwd\",onClick:this.resetPwd},\"\\u05E9\\u05DB\\u05D7\\u05EA\\u05D9 \\u05D0\\u05EA \\u05D4\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\")))));}}]);return LoginForm;}(React.Component);export default LoginForm;","map":{"version":3,"sources":["C:/Users/ahmad/Downloads/BigBrotherBigSisterIsrael-master/BigBrotherBigSisterIsrael-master/src/loginComponents/LoginForm.jsx"],"names":["React","firebase","Loader","logo","LoginForm","props","resetPwd","state","username","alert","auth","sendPasswordResetEmail","then","catch","password","loading","pwdAttempt","prevEmail","usersRef","firestore","collection","console","log","prevProp","isLoggedIn","setState","e","preventDefault","signInWithEmailAndPassword","onLoginSuccess","bind","onLoginFail","onLoginPress","target","value","renderButton","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./LoginForm.css\";\r\nimport firebase from \"../config/Firebase\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport logo from '../static_pictures/big_brothers_big_sisters.png'\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      loading: false,\r\n      pwdAttempt: 0,\r\n      prevEmail: \"\"\r\n    };\r\n\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n  }\r\n\r\n  resetPwd = () => {\r\n    if (this.state.username === \"\") {\r\n      alert(\"אנא הכנס כתובת אימייל בשדה המתאים\");\r\n      return;\r\n    }\r\n    firebase\r\n      .auth()\r\n      .sendPasswordResetEmail(this.state.username)\r\n      .then(() => alert(\"הסיסמא החדשה נשלחה אליך למייל\"))\r\n      .catch(() => alert(\"שגיאה בהזנת הנתונים\"));\r\n  };\r\n\r\n  onLoginSuccess() {\r\n    console.log(\"Successful login\");\r\n  }\r\n\r\n  componentDidUpdate(prevProp) {\r\n    if (this.props.isLoggedIn !== prevProp.isLoggedIn)\r\n      this.setState({ loading: false });\r\n  }\r\n\r\n  onLoginFail() {\r\n    alert(\"שם משתמש או סיסמא שגויים\");\r\n    this.setState({ password: \"\", loading: false });\r\n  }\r\n\r\n  onLoginPress(e) {\r\n    e.preventDefault();\r\n    if (this.state.username === \"\") {\r\n      alert(\"אנא הכנס שם משתמש\");\r\n      return;\r\n    }\r\n    if (this.state.password === \"\") {\r\n      alert(\"אנא הכנס סיסמא\");\r\n      return;\r\n    }\r\n\r\n    const username = this.state.username;\r\n    const password = this.state.password;\r\n    this.setState({ loading: true });\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(username, password)\r\n      .then(this.onLoginSuccess.bind(this))\r\n      .catch(this.onLoginFail.bind(this));\r\n  }\r\n\r\n  renderButton() {\r\n    if (this.state.loading) {\r\n      return (\r\n        <Loader\r\n          className=\"indicator\"\r\n          type=\"Bars\"\r\n          height=\"100px\"\r\n          width=\"100px\"\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          type=\"submit\"\r\n          id=\"submit-login\"\r\n          className=\"btn btn-lg btn-success\"\r\n        >\r\n          התחבר\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-menu\">\r\n        <img\r\n          src={logo}\r\n          alt=\"asfsa\"\r\n          className=\"Login-logo\"\r\n        />\r\n        <h1 className=\"headline\">ברוכים הבאים לאזור האישי </h1>\r\n        <form className=\"px-4 py-3\" onSubmit={(e) => this.onLoginPress(e)}>\r\n          <div className=\"login-fm\">\r\n            <div className=\"form-group login-form w-100\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control input-login\"\r\n                id=\"userName\"\r\n                placeholder=\"שם משתמש\"\r\n                title=\"שם משתמש\"\r\n                value={this.state.username}\r\n                onChange={(e) => this.setState({ username: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className=\"form-group login-form w-100\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control input-login\"\r\n                id=\"exampleDropdownFormPassword2\"\r\n                placeholder=\"סיסמא\"\r\n                title=\"סיסמא\"\r\n                value={this.state.password}\r\n                onChange={(e) => this.setState({ password: e.target.value })}\r\n              />\r\n              <br />\r\n              {this.renderButton()}\r\n              <br />\r\n              <br />\r\n              <button\r\n                type=\"button\"\r\n                className=\"badge badge-light forget-pwd\"\r\n                onClick={this.resetPwd}\r\n              >\r\n                שכחתי את הסיסמא\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n"]},"metadata":{},"sourceType":"module"}