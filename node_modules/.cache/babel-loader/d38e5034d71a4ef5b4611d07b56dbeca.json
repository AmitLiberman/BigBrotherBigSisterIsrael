{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./Meeting.css\";import\"./MeetingList.css\";import Loader from'react-loader-spinner';var MeetingList=/*#__PURE__*/function(_Component){_inherits(MeetingList,_Component);var _super=_createSuper(MeetingList);function MeetingList(){var _this;_classCallCheck(this,MeetingList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.formatDate=function(timeStamp){// formatting date to [DD/MM/YYYY]\nvar newDate=new Date(timeStamp);var today=new Date();if(today.getDate()===newDate.getDate()&&today.getMonth()===newDate.getMonth()&&today.getFullYear()===newDate.getFullYear())return\"היום\";if(today.getDate()===newDate.getDate()+1&&today.getMonth()===newDate.getMonth()&&today.getFullYear()===newDate.getFullYear())return\"אתמול\";if(today.getDate()===newDate.getDate()-1&&today.getMonth()===newDate.getMonth()&&today.getFullYear()===newDate.getFullYear())return\"מחר\";return newDate.getDate()+\"/\"+(parseInt(newDate.getMonth())+1)+\"/\"+newDate.getFullYear();};_this.renderTable=function(){return _this.props.meetingsArr.map(function(data,index){return/*#__PURE__*/React.createElement(\"tr\",{key:\"row\"+index,className:\"table-cols\"},/*#__PURE__*/React.createElement(\"td\",{className:\"align-middle\"},_this.formatDate(data.date)),/*#__PURE__*/React.createElement(\"td\",{className:\"align-middle\"},data.time),/*#__PURE__*/React.createElement(\"td\",{className:\"align-middle\"},data.place),/*#__PURE__*/React.createElement(\"td\",{className:\"align-middle\"},data.description),/*#__PURE__*/React.createElement(\"td\",{className:\"align-middle\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger delete-meeting\",onClick:function onClick(){_this.deleteMeeting(data.doc_id);}},\"\\u05DE\\u05D7\\u05E7\")));});};_this.deleteMeeting=function(data){var tempArr=[];var con=window.confirm(\"האם אתה בטוח שברצונך למחוק פגישה זו?\");if(!con)return;_this.props.myUser.doc(data).delete().then(function(){return _this.props.linkUser.doc(data).delete();}).then(function(){return console.log(\"Meeting \"+data+\" has successfully deleted from DB\");}).catch(function(){return console.log(\"Error in deleting meeting from DB\");}).then(function(){tempArr=_toConsumableArray(_this.props.meetingsArr);_this.props.meetingsArr.forEach(function(item,index){if(data===item.doc_id&&index!==-1){tempArr.splice(index,1);_this.props.updateRef(tempArr);}});}).catch(function(e){return console.log(e.name);});};_this.renderComponent=function(){if(_this.props.loading)return/*#__PURE__*/React.createElement(Loader,{className:\"meetings-loader\",type:\"Grid\",width:\"200px\",height:\"200px\",color:\"#776078\"});else return/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped table-dark w-50 table-responsive meeting-table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"5\",className:\"table-title\"},\"\\u05E8\\u05E9\\u05D9\\u05DE\\u05EA \\u05E4\\u05D2\\u05D9\\u05E9\\u05D5\\u05EA \\u05E7\\u05E8\\u05D5\\u05D1\\u05D5\\u05EA\")),/*#__PURE__*/React.createElement(\"tr\",{className:\"table-cols\"},/*#__PURE__*/React.createElement(\"th\",{className:\"align-middle\"},\"\\u05DE\\u05D5\\u05E2\\u05D3 \\u05D4\\u05E4\\u05D2\\u05D9\\u05E9\\u05D4\"),/*#__PURE__*/React.createElement(\"th\",{className:\"align-middle\"},\"\\u05E9\\u05E2\\u05EA \\u05D4\\u05E4\\u05D2\\u05D9\\u05E9\\u05D4\"),/*#__PURE__*/React.createElement(\"th\",{className:\"align-middle\"},\"\\u05DE\\u05D9\\u05E7\\u05D5\\u05DD \\u05D4\\u05E4\\u05D2\\u05D9\\u05E9\\u05D4\"),/*#__PURE__*/React.createElement(\"th\",{className:\"align-middle\"},\"\\u05EA\\u05D9\\u05D0\\u05D5\\u05E8 \\u05D4\\u05E4\\u05D2\\u05D9\\u05E9\\u05D4\"),/*#__PURE__*/React.createElement(\"th\",{className:\"align-middle\"},\"\\u05DE\\u05D7\\u05D9\\u05E7\\u05D4\"))),/*#__PURE__*/React.createElement(\"tbody\",null,_this.renderTable(),/*#__PURE__*/React.createElement(\"tr\",{className:\"table-cols\"},/*#__PURE__*/React.createElement(\"td\",{className:\"align-middle\",colSpan:\"5\"},/*#__PURE__*/React.createElement(\"button\",{disabled:_this.props.loadedAll,className:\"btn btn-primary load-past-meetings\",onClick:_this.props.loadPrev},\"\\u05D8\\u05E2\\u05DF 5 \\u05E4\\u05D2\\u05D9\\u05E9\\u05D5\\u05EA \\u05E0\\u05D5\\u05E1\\u05E4\\u05D5\\u05EA \\u05DE\\u05D4\\u05E2\\u05D1\\u05E8\"),/*#__PURE__*/React.createElement(Loader,{className:\"loader-past-meeting\",type:\"TailSpin\",height:\"30px\",width:\"30px\",color:\"royalblue\",visible:_this.props.loadingPastMeetings})))));};return _this;}_createClass(MeetingList,[{key:\"render\",value:function render(){return this.renderComponent();}}]);return MeetingList;}(Component);export default MeetingList;","map":{"version":3,"sources":["C:/Users/ahmad/Downloads/BigBrotherBigSisterIsrael-master/BigBrotherBigSisterIsrael-master/src/navBarComponents/meetingComponents/MeetingList.jsx"],"names":["React","Component","Loader","MeetingList","formatDate","timeStamp","newDate","Date","today","getDate","getMonth","getFullYear","parseInt","renderTable","props","meetingsArr","map","data","index","date","time","place","description","deleteMeeting","doc_id","tempArr","con","window","confirm","myUser","doc","delete","then","linkUser","console","log","catch","forEach","item","splice","updateRef","e","name","renderComponent","loading","loadedAll","loadPrev","loadingPastMeetings"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Meeting.css\";\r\nimport \"./MeetingList.css\";\r\nimport Loader from 'react-loader-spinner'\r\n\r\nclass MeetingList extends Component {\r\n    formatDate = (timeStamp) => { // formatting date to [DD/MM/YYYY]\r\n        var newDate = new Date(timeStamp);\r\n        var today = new Date();\r\n        if (today.getDate() === newDate.getDate() && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"היום\";\r\n        if (today.getDate() === newDate.getDate() + 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"אתמול\";\r\n        if (today.getDate() === newDate.getDate() - 1 && today.getMonth() === newDate.getMonth() && today.getFullYear() === newDate.getFullYear())\r\n            return \"מחר\";\r\n        return newDate.getDate() + \"/\" + (parseInt(newDate.getMonth()) + 1) + \"/\" + newDate.getFullYear();\r\n    }\r\n\r\n    renderTable = () => {\r\n        return (this.props.meetingsArr.map((data, index) =>\r\n            <tr key={\"row\" + index} className=\"table-cols\">\r\n                <td className=\"align-middle\">{this.formatDate(data.date)}</td>\r\n                <td className=\"align-middle\">{data.time}</td>\r\n                <td className=\"align-middle\">{data.place}</td>\r\n                <td className=\"align-middle\">{data.description}</td>\r\n                <td className=\"align-middle\"><button\r\n                    className=\"btn btn-danger delete-meeting\"\r\n                    onClick={() => { this.deleteMeeting(data.doc_id) }}\r\n                >\r\n                    מחק\r\n                    </button>\r\n                </td>\r\n            </tr >\r\n        ));\r\n    }\r\n\r\n    deleteMeeting = (data) => {\r\n        var tempArr = [];\r\n        var con = window.confirm(\"האם אתה בטוח שברצונך למחוק פגישה זו?\");\r\n        if (!con)\r\n            return;\r\n        this.props.myUser.doc(data).delete()\r\n            .then(() => this.props.linkUser.doc(data).delete())\r\n            .then(() => console.log(\"Meeting \" + data + \" has successfully deleted from DB\"))\r\n            .catch(() => console.log(\"Error in deleting meeting from DB\"))\r\n            .then(() => {\r\n                tempArr = [...this.props.meetingsArr];\r\n                this.props.meetingsArr.forEach((item, index) => {\r\n                    if (data === item.doc_id && index !== -1) {\r\n                        tempArr.splice(index, 1);\r\n                        this.props.updateRef(tempArr)\r\n                    }\r\n                })\r\n            })\r\n            .catch((e) => console.log(e.name))\r\n\r\n    }\r\n\r\n    renderComponent = () => {\r\n        if (this.props.loading)\r\n            return (<Loader className=\"meetings-loader\" type=\"Grid\" width=\"200px\" height=\"200px\" color=\"#776078\" />);\r\n        else\r\n            return (\r\n                <table className=\"table table-striped table-dark w-50 table-responsive meeting-table\" >\r\n                    <thead>\r\n                        <tr><th colSpan=\"5\" className=\"table-title\">רשימת פגישות קרובות</th></tr>\r\n                        <tr className=\"table-cols\">\r\n                            <th className=\"align-middle\">מועד הפגישה</th>\r\n                            <th className=\"align-middle\">שעת הפגישה</th>\r\n                            <th className=\"align-middle\">מיקום הפגישה</th>\r\n                            <th className=\"align-middle\">תיאור הפגישה</th>\r\n                            <th className=\"align-middle\">מחיקה</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.renderTable()}\r\n                        <tr className=\"table-cols\">\r\n                            <td className=\"align-middle\" colSpan=\"5\">\r\n                                <button\r\n                                    disabled={this.props.loadedAll}\r\n                                    className=\"btn btn-primary load-past-meetings\"\r\n                                    onClick={this.props.loadPrev}>\r\n                                    טען 5 פגישות נוספות מהעבר\r\n                                        </button>\r\n                                <Loader className=\"loader-past-meeting\" type=\"TailSpin\" height=\"30px\" width=\"30px\" color=\"royalblue\" visible={this.props.loadingPastMeetings}></Loader>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            );\r\n    }\r\n\r\n    render() {\r\n        return (this.renderComponent());\r\n    }\r\n}\r\n\r\nexport default MeetingList;\r\n"]},"metadata":{},"sourceType":"module"}