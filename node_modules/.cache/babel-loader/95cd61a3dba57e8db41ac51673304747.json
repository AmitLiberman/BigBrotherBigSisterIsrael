{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\ahmad\\\\Downloads\\\\BigBrotherBigSisterIsrael-master\\\\BigBrotherBigSisterIsrael-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./AdminUser.css\";import firebase from\"../../config/Firebase\";var AdminUser=/*#__PURE__*/function(_Component){_inherits(AdminUser,_Component);var _super=_createSuper(AdminUser);function AdminUser(props){var _this;_classCallCheck(this,AdminUser);_this=_super.call(this,props);_this.addUser=function(event){event.preventDefault();var con=window.confirm(\"האם אתה בטוח שברצונך להוסיף משתמש זה?\");if(!con)return;_this.usersRef.get().then(function(querySnap){return querySnap.forEach(function(doc){if(doc.data().id===_this.state.id){alert(\"כבר קיים משתמש במערכת עם מספר תעודת זהות זהה.\");throw Error(500);}});}).then(function(){firebase.auth().createUserWithEmailAndPassword(_this.state.email,_this.state.id).catch(function(){alert(\"בעיה בהוספת משתמש חדש למערכת. ייתכן והסיסמא שהוכנסה קצרה או חלשה מדי או שהאימייל שהוכנס כבר קיים במערכת.\");});}).catch(function(){return console.log(\"נוצרה בעיה בהוספת משתמש חדש למערכת.\");});};_this.usersRef=firebase.firestore().collection('Users');_this.state={firstName:\"\",lastName:\"\",id:\"\",email:\"\",phone:\"\",address:\"\",area:\"\",birthDate:\"\",type:\"\",addOnce:true};return _this;}_createClass(AdminUser,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;firebase.auth().onAuthStateChanged(function(user){if(user){_this2.usersRef.doc(user.uid).get().then(function(doc){if(!doc.exists&&_this2.state.addOnce){_this2.setState({addOnce:false});var newUser={fName:_this2.state.firstName,lName:_this2.state.lastName,id:_this2.state.id,email:_this2.state.email,phone:_this2.state.phone,area:_this2.state.area,type:_this2.state.type,birthDate:_this2.state.birthDate};if(_this2.state.address!==\"\")newUser.address=_this2.state.address;if(_this2.state.addOnce===false&&_this2.state.id!==\"\"){_this2.usersRef.doc(user.uid).set(newUser).then(function(){alert(\"המשתמש נוסף למערכת בהצלחה!\");_this2.setState({addOnce:true,firstName:\"\",lastName:\"\",id:\"\",email:\"\",phone:\"\",address:\"\",area:\"\",birthDate:\"\",type:\"\"});}).catch(function(e){return console.log(e.name);});}}});}});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"form\",{className:\"add-user-form\",onSubmit:this.addUser},/*#__PURE__*/React.createElement(\"header\",{className:\"title\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"add-user-h\"},/*#__PURE__*/React.createElement(\"u\",null,\" \\u05D4\\u05D5\\u05E1\\u05E4\\u05EA \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D7\\u05D3\\u05E9\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputFirstName\"},\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",id:\"inputFirstName\",value:this.state.firstName,placeholder:\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",title:\"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",onChange:function onChange(e){return _this3.setState({firstName:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputLastName\"},\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",id:\"inputLastName\",value:this.state.lastName,placeholder:\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\",onChange:function onChange(e){return _this3.setState({lastName:e.target.value});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputEmail\"},\"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"email\",className:\"form-control\",id:\"inputEmail\",value:this.state.email,placeholder:\"email@example.com\",onChange:function onChange(e){return _this3.setState({email:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-61\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputId\"},\"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",id:\"inputId\",value:this.state.id,placeholder:\"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\",onChange:function onChange(e){return _this3.setState({id:e.target.value});},required:true}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputPhone\"},\"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"number\",className:\"form-control\",id:\"inputPhone\",value:this.state.phone,placeholder:\"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",onChange:function onChange(e){return _this3.setState({phone:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputCity\"},\"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"text\",className:\"form-control\",id:\"inputCity\",value:this.state.area,placeholder:\"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\",onChange:function onChange(e){return _this3.setState({area:e.target.value});}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputAddress2\"},\"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"inputAddress2\",value:this.state.address,placeholder:\"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\",onChange:function onChange(e){return _this3.setState({address:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputCity\"},\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"date\",className:\"form-control\",id:\"inputBirthDate\",value:this.state.birthDate,placeholder:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\",onChange:function onChange(e){return _this3.setState({birthDate:e.target.value});}})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"inputState\"},\"\\u05E1\\u05D5\\u05D2 \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"),/*#__PURE__*/React.createElement(\"select\",{required:true,id:\"inputState\",className:\"form-control\",value:this.state.type,onChange:function onChange(e){return _this3.setState({type:e.target.value});}},/*#__PURE__*/React.createElement(\"option\",{id:\"ff\",disabled:true,value:\"\"},\" \\u05D4\\u05DB\\u05E0\\u05E1 \\u05E1\\u05D5\\u05D2 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05D7\\u05D5\\u05E0\\u05DA\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05D7\\u05E0\\u05D9\\u05DA\"),/*#__PURE__*/React.createElement(\"option\",null,\"\\u05D0\\u05D3\\u05DE\\u05D9\\u05DF\")))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-success add-new-user-btn\"},\"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D7\\u05D3\\u05E9\"));}}]);return AdminUser;}(Component);export default AdminUser;","map":{"version":3,"sources":["C:/Users/ahmad/Downloads/BigBrotherBigSisterIsrael-master/BigBrotherBigSisterIsrael-master/src/adminComponents/partial/AdminUser.jsx"],"names":["React","Component","firebase","AdminUser","props","addUser","event","preventDefault","con","window","confirm","usersRef","get","then","querySnap","forEach","doc","data","id","state","alert","Error","auth","createUserWithEmailAndPassword","email","catch","console","log","firestore","collection","firstName","lastName","phone","address","area","birthDate","type","addOnce","onAuthStateChanged","user","uid","exists","setState","newUser","fName","lName","set","e","name","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./AdminUser.css\";\r\nimport firebase from \"../../config/Firebase\"\r\n\r\nclass AdminUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.usersRef = firebase.firestore().collection('Users');\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      id: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      address: \"\",\r\n      area: \"\",\r\n      birthDate: \"\",\r\n      type: \"\",\r\n      addOnce: true\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.usersRef.doc(user.uid).get().then(doc => {\r\n          if (!doc.exists && this.state.addOnce) {\r\n            this.setState({ addOnce: false });\r\n            var newUser = {\r\n              fName: this.state.firstName,\r\n              lName: this.state.lastName,\r\n              id: this.state.id,\r\n              email: this.state.email,\r\n              phone: this.state.phone,\r\n              area: this.state.area,\r\n              type: this.state.type,\r\n              birthDate: this.state.birthDate\r\n            }\r\n            if (this.state.address !== \"\")\r\n              newUser.address = this.state.address;\r\n            if (this.state.addOnce === false && this.state.id !== \"\") {\r\n              this.usersRef.doc(user.uid).set(newUser)\r\n                .then(() => {\r\n                  alert(\"המשתמש נוסף למערכת בהצלחה!\");\r\n                  this.setState({\r\n                    addOnce: true,\r\n                    firstName: \"\", lastName: \"\", id: \"\",\r\n                    email: \"\", phone: \"\", address: \"\", area: \"\",\r\n                    birthDate: \"\", type: \"\"\r\n                  })\r\n                })\r\n                .catch((e) => console.log(e.name))\r\n            }\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  addUser = (event) => {\r\n    event.preventDefault();\r\n    var con = window.confirm(\"האם אתה בטוח שברצונך להוסיף משתמש זה?\")\r\n    if (!con)\r\n      return;\r\n    this.usersRef.get()\r\n      .then(querySnap => querySnap.forEach(doc => {\r\n        if (doc.data().id === this.state.id) {\r\n          alert(\"כבר קיים משתמש במערכת עם מספר תעודת זהות זהה.\");\r\n          throw Error(500);\r\n        }\r\n      }))\r\n      .then(() => {\r\n        firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.id)\r\n          .catch(() => {\r\n            alert(\"בעיה בהוספת משתמש חדש למערכת. ייתכן והסיסמא שהוכנסה קצרה או חלשה מדי או שהאימייל שהוכנס כבר קיים במערכת.\");\r\n          })\r\n      })\r\n      .catch(() => console.log(\"נוצרה בעיה בהוספת משתמש חדש למערכת.\"))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"add-user-form\" onSubmit={this.addUser}>\r\n        <header className=\"title\">\r\n          <h1 className=\"add-user-h\">\r\n            <u> הוספת משתמש חדש</u>\r\n          </h1>\r\n        </header>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputFirstName\">שם פרטי</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"inputFirstName\"\r\n              value={this.state.firstName}\r\n              placeholder=\"שם פרטי\"\r\n              title=\"שם פרטי\"\r\n              onChange={(e) => this.setState({ firstName: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputLastName\">שם משפחה</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"inputLastName\"\r\n              value={this.state.lastName}\r\n              placeholder=\"שם משפחה\"\r\n              onChange={(e) => this.setState({ lastName: e.target.value })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputEmail\">אימייל</label>\r\n            <input\r\n              required\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"inputEmail\"\r\n              value={this.state.email}\r\n              placeholder=\"email@example.com\"\r\n              onChange={(e) => this.setState({ email: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group col-md-61\">\r\n            <label htmlFor=\"inputId\">תעודת זהות</label>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"inputId\"\r\n              value={this.state.id}\r\n              placeholder=\"תעודת זהות\"\r\n              onChange={(e) => this.setState({ id: e.target.value })}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"inputPhone\">טלפון</label>\r\n            <input\r\n              required\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              id=\"inputPhone\"\r\n              value={this.state.phone}\r\n              placeholder=\"טלפון\"\r\n              onChange={(e) => this.setState({ phone: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputCity\">אזור מגורים</label>\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"inputCity\"\r\n              value={this.state.area}\r\n              placeholder=\"אזור מגורים\"\r\n              onChange={(e) => this.setState({ area: e.target.value })}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"inputAddress2\">כתובת מגורים</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"inputAddress2\"\r\n            value={this.state.address}\r\n            placeholder=\"כתובת מגורים\"\r\n            onChange={(e) => this.setState({ address: e.target.value })}\r\n          />\r\n        </div>\r\n        <div className=\"form-row\">\r\n\r\n          <div className=\"form-group col-md-6\">\r\n            <label htmlFor=\"inputCity\">תאריך לידה</label>\r\n            <input\r\n              required\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              id=\"inputBirthDate\"\r\n              value={this.state.birthDate}\r\n              placeholder=\"תאריך לידה\"\r\n              onChange={(e) => this.setState({ birthDate: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"form-group col-md-4\">\r\n            <label htmlFor=\"inputState\">סוג המשתמש</label>\r\n            <select\r\n              required id=\"inputState\"\r\n              className=\"form-control\"\r\n              value={this.state.type}\r\n              onChange={(e) => this.setState({ type: e.target.value })}>\r\n              <option id=\"ff\" disabled value=\"\"> הכנס סוג משתמש</option>\r\n              <option >חונך</option>\r\n              <option >חניך</option>\r\n              <option >אדמין</option>\r\n\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-success add-new-user-btn\">\r\n          הוסף משתמש חדש\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminUser;\r\n"]},"metadata":{},"sourceType":"module"}