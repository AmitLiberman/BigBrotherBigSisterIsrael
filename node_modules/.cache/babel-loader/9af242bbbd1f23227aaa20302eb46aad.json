{"ast":null,"code":"var _jsxFileName = \"/Users/wadie/BigBrotherBigSisterIsrael/src/rakazComponents/RakazUser.jsx\";\nimport React, { Component } from \"react\";\nimport \"./RakazUser.css\";\nimport firebase from \"../config/Firebase\";\n\nclass RakazUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addUser = event => {\n      event.preventDefault();\n      var con = window.confirm(\"האם אתה בטוח שברצונך להוסיף משתמש זה?\");\n      if (!con) return;\n      this.usersRef.get().then(querySnap => querySnap.forEach(doc => {\n        if (doc.data().id === this.state.id) {\n          alert(\"כבר קיים משתמש במערכת עם מספר תעודת זהות זהה.\");\n          throw Error(500);\n        }\n      })).then(() => {\n        firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.id).catch(() => {\n          alert(\"בעיה בהוספת משתמש חדש למערכת. ייתכן והסיסמא שהוכנסה קצרה או חלשה מדי או שהאימייל שהוכנס כבר קיים במערכת.\");\n        });\n      }).catch(() => console.log(\"נוצרה בעיה בהוספת משתמש חדש למערכת.\"));\n    };\n\n    this.usersRef = firebase.firestore().collection('Users');\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      id: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n      area: \"\",\n      birthDate: \"\",\n      type: \"\",\n      addOnce: true\n    };\n  }\n\n  componentDidMount() {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.usersRef.doc(user.uid).get().then(doc => {\n          if (!doc.exists && this.state.addOnce) {\n            this.setState({\n              addOnce: false\n            });\n            var newUser = {\n              fName: this.state.firstName,\n              lName: this.state.lastName,\n              id: this.state.id,\n              email: this.state.email,\n              phone: this.state.phone,\n              area: this.state.area,\n              type: this.state.type,\n              birthDate: this.state.birthDate\n            };\n            if (this.state.address !== \"\") newUser.address = this.state.address;\n\n            if (this.state.addOnce === false && this.state.id !== \"\") {\n              this.usersRef.doc(user.uid).set(newUser).then(() => {\n                alert(\"המשתמש נוסף למערכת בהצלחה!\");\n                this.setState({\n                  addOnce: true,\n                  firstName: \"\",\n                  lastName: \"\",\n                  id: \"\",\n                  email: \"\",\n                  phone: \"\",\n                  address: \"\",\n                  area: \"\",\n                  birthDate: \"\",\n                  type: \"\"\n                });\n              }).catch(e => console.log(e.name));\n            }\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      className: \"add-user-form\",\n      onSubmit: this.addUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"add-user-h\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"u\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \" \\u05D4\\u05D5\\u05E1\\u05E4\\u05EA \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D7\\u05D3\\u05E9\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputFirstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputFirstName\",\n      value: this.state.firstName,\n      placeholder: \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",\n      title: \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\",\n      onChange: e => this.setState({\n        firstName: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputLastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputLastName\",\n      value: this.state.lastName,\n      placeholder: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\",\n      onChange: e => this.setState({\n        lastName: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"email\",\n      className: \"form-control\",\n      id: \"inputEmail\",\n      value: this.state.email,\n      placeholder: \"email@example.com\",\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-61\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      id: \"inputId\",\n      value: this.state.id,\n      placeholder: \"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA\",\n      onChange: e => this.setState({\n        id: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputPhone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"number\",\n      className: \"form-control\",\n      id: \"inputPhone\",\n      value: this.state.phone,\n      placeholder: \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",\n      onChange: e => this.setState({\n        phone: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputCity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, \"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputCity\",\n      value: this.state.area,\n      placeholder: \"\\u05D0\\u05D6\\u05D5\\u05E8 \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\",\n      onChange: e => this.setState({\n        area: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputAddress2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, \"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"inputAddress2\",\n      value: this.state.address,\n      placeholder: \"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D2\\u05D5\\u05E8\\u05D9\\u05DD\",\n      onChange: e => this.setState({\n        address: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputCity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"date\",\n      className: \"form-control\",\n      id: \"inputBirthDate\",\n      value: this.state.birthDate,\n      placeholder: \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\",\n      onChange: e => this.setState({\n        birthDate: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputState\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 25\n      }\n    }, \"\\u05E1\\u05D5\\u05D2 \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"), /*#__PURE__*/React.createElement(\"select\", {\n      required: true,\n      id: \"inputState\",\n      className: \"form-control\",\n      value: this.state.type,\n      onChange: e => this.setState({\n        type: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      id: \"ff\",\n      disabled: true,\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, \" \\u05D4\\u05DB\\u05E0\\u05E1 \\u05E1\\u05D5\\u05D2 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, \"\\u05D7\\u05D5\\u05E0\\u05DA\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 29\n      }\n    }, \"\\u05D7\\u05E0\\u05D9\\u05DA\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 29\n      }\n    }, \"\\u05E8\\u05DB\\u05D6\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    }, \"\\u05DE\\u05D3\\u05E8\\u05D9\\u05DA\")))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success add-new-user-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, \"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D7\\u05D3\\u05E9\"));\n  }\n\n}\n\nexport default RakazUser;","map":{"version":3,"sources":["/Users/wadie/BigBrotherBigSisterIsrael/src/rakazComponents/RakazUser.jsx"],"names":["React","Component","firebase","RakazUser","constructor","props","addUser","event","preventDefault","con","window","confirm","usersRef","get","then","querySnap","forEach","doc","data","id","state","alert","Error","auth","createUserWithEmailAndPassword","email","catch","console","log","firestore","collection","firstName","lastName","phone","address","area","birthDate","type","addOnce","componentDidMount","onAuthStateChanged","user","uid","exists","setState","newUser","fName","lName","set","e","name","render","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./RakazUser.css\";\nimport firebase from \"../config/Firebase\"\n\nclass RakazUser extends Component {\n    constructor(props) {\n        super(props);\n        this.usersRef = firebase.firestore().collection('Users');\n        this.state = {\n            firstName: \"\",\n            lastName: \"\",\n            id: \"\",\n            email: \"\",\n            phone: \"\",\n            address: \"\",\n            area: \"\",\n            birthDate: \"\",\n            type: \"\",\n            addOnce: true\n        };\n    }\n\n    componentDidMount() {\n        firebase.auth().onAuthStateChanged(user => {\n            if (user) {\n                this.usersRef.doc(user.uid).get().then(doc => {\n                    if (!doc.exists && this.state.addOnce) {\n                        this.setState({ addOnce: false });\n                        var newUser = {\n                            fName: this.state.firstName,\n                            lName: this.state.lastName,\n                            id: this.state.id,\n                            email: this.state.email,\n                            phone: this.state.phone,\n                            area: this.state.area,\n                            type: this.state.type,\n                            birthDate: this.state.birthDate\n                        }\n                        if (this.state.address !== \"\")\n                            newUser.address = this.state.address;\n                        if (this.state.addOnce === false && this.state.id !== \"\") {\n                            this.usersRef.doc(user.uid).set(newUser)\n                                .then(() => {\n                                    alert(\"המשתמש נוסף למערכת בהצלחה!\");\n                                    this.setState({\n                                        addOnce: true,\n                                        firstName: \"\", lastName: \"\", id: \"\",\n                                        email: \"\", phone: \"\", address: \"\", area: \"\",\n                                        birthDate: \"\", type: \"\"\n                                    })\n                                })\n                                .catch((e) => console.log(e.name))\n                        }\n                    }\n                })\n            }\n        })\n    }\n\n    addUser = (event) => {\n        event.preventDefault();\n        var con = window.confirm(\"האם אתה בטוח שברצונך להוסיף משתמש זה?\")\n        if (!con)\n            return;\n        this.usersRef.get()\n            .then(querySnap => querySnap.forEach(doc => {\n                if (doc.data().id === this.state.id) {\n                    alert(\"כבר קיים משתמש במערכת עם מספר תעודת זהות זהה.\");\n                    throw Error(500);\n                }\n            }))\n            .then(() => {\n                firebase.auth().createUserWithEmailAndPassword(this.state.email, this.state.id)\n                    .catch(() => {\n                        alert(\"בעיה בהוספת משתמש חדש למערכת. ייתכן והסיסמא שהוכנסה קצרה או חלשה מדי או שהאימייל שהוכנס כבר קיים במערכת.\");\n                    })\n            })\n            .catch(() => console.log(\"נוצרה בעיה בהוספת משתמש חדש למערכת.\"))\n    }\n\n    render() {\n        return (\n            <form className=\"add-user-form\" onSubmit={this.addUser}>\n                <header className=\"title\">\n                    <h1 className=\"add-user-h\">\n                        <u> הוספת משתמש חדש</u>\n                    </h1>\n                </header>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputFirstName\">שם פרטי</label>\n                        <input\n                            required\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"inputFirstName\"\n                            value={this.state.firstName}\n                            placeholder=\"שם פרטי\"\n                            title=\"שם פרטי\"\n                            onChange={(e) => this.setState({ firstName: e.target.value })}\n                        />\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputLastName\">שם משפחה</label>\n                        <input\n                            required\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"inputLastName\"\n                            value={this.state.lastName}\n                            placeholder=\"שם משפחה\"\n                            onChange={(e) => this.setState({ lastName: e.target.value })}\n                        />\n                    </div>\n                </div>\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputEmail\">אימייל</label>\n                        <input\n                            required\n                            type=\"email\"\n                            className=\"form-control\"\n                            id=\"inputEmail\"\n                            value={this.state.email}\n                            placeholder=\"email@example.com\"\n                            onChange={(e) => this.setState({ email: e.target.value })}\n                        />\n                    </div>\n\n                    <div className=\"form-group col-md-61\">\n                        <label htmlFor=\"inputId\">תעודת זהות</label>\n                        <input\n                            type=\"number\"\n                            className=\"form-control\"\n                            id=\"inputId\"\n                            value={this.state.id}\n                            placeholder=\"תעודת זהות\"\n                            onChange={(e) => this.setState({ id: e.target.value })}\n                            required\n                        />\n                    </div>\n                </div>\n                <div className=\"form-row\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"inputPhone\">טלפון</label>\n                        <input\n                            required\n                            type=\"number\"\n                            className=\"form-control\"\n                            id=\"inputPhone\"\n                            value={this.state.phone}\n                            placeholder=\"טלפון\"\n                            onChange={(e) => this.setState({ phone: e.target.value })}\n                        />\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputCity\">אזור מגורים</label>\n                        <input\n                            required\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"inputCity\"\n                            value={this.state.area}\n                            placeholder=\"אזור מגורים\"\n                            onChange={(e) => this.setState({ area: e.target.value })}\n                        />\n                    </div>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"inputAddress2\">כתובת מגורים</label>\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"inputAddress2\"\n                        value={this.state.address}\n                        placeholder=\"כתובת מגורים\"\n                        onChange={(e) => this.setState({ address: e.target.value })}\n                    />\n                </div>\n                <div className=\"form-row\">\n\n                    <div className=\"form-group col-md-6\">\n                        <label htmlFor=\"inputCity\">תאריך לידה</label>\n                        <input\n                            required\n                            type=\"date\"\n                            className=\"form-control\"\n                            id=\"inputBirthDate\"\n                            value={this.state.birthDate}\n                            placeholder=\"תאריך לידה\"\n                            onChange={(e) => this.setState({ birthDate: e.target.value })}\n                        />\n                    </div>\n                    <div className=\"form-group col-md-4\">\n                        <label htmlFor=\"inputState\">סוג המשתמש</label>\n                        <select\n                            required id=\"inputState\"\n                            className=\"form-control\"\n                            value={this.state.type}\n                            onChange={(e) => this.setState({ type: e.target.value })}>\n                            <option id=\"ff\" disabled value=\"\"> הכנס סוג משתמש</option>\n                            <option >חונך</option>\n                            <option >חניך</option>\n\n                            <option >רכז</option>\n                            <option >מדריך</option>\n                        </select>\n                    </div>\n                </div>\n\n                <button type=\"submit\" className=\"btn btn-success add-new-user-btn\">\n                    הוסף משתמש חדש\n                </button>\n            </form>\n        );\n    }\n}\n\nexport default RakazUser;"]},"metadata":{},"sourceType":"module"}